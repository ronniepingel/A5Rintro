[
["tabeller-1.html", "Kapitel 9 Tabeller 9.1 Frekvenstabeller 9.2 Stapeldiagram 9.3 Lådagram 9.4 Spridningsdiagram 9.5 Några frekvent förekommande diagram.", " Kapitel 9 Tabeller Att presentera resultat och samband med diskreta variabler och kategorivariabler är en viktig del av att arbeta med Frekvenstabeller i R, med och utan paket Korstabeller i R, med och utan paket Export av tabeller till Word. 9.1 Frekvenstabeller 9.1.1 Frekvenstabeller med table() # Läs in data. Välj ut födda 1961 och födda 1975 insark &lt;- read.csv2(&quot;D:/conscriptiondata.csv&quot;) # Välja ut insark för födda 1961 insark1 &lt;- insark[insark$year == 1961,] # Välj ut INSARK för födda 1975 insark2 &lt;- insark[insark$year == 1975,] # Skapa ett dataset av INSARK 1961 och 1975. insark3 &lt;- rbind(insark1, insark2) # Skapa nytt radid baserat på delpopulationen 1961 och 1975 insark3$newid &lt;- 1:length(insark3$id) Vi ska nu dra ett urval från INSARK. Anledningen till detta är enbart pedagogiskt, dvs vi får ett datamaterial som översiktlig. I praktiken används den data som tillgänglig! Beträffade funktionen set.seed() så används denna för att ange vilket slumpmässigt urval som dras. Annars erhålls inte samma skattningar som i exemplet. I praktiken vid urvalsdragning används inte set.seed() n &lt;- 1000 set.seed(12345) df &lt;- insark3[sample(insark3$newid, n), ] 9.2 Stapeldiagram Ofta presenteras kategoridata i stapeldiagram. Stapeldiagram illustrerar värden som även kan presenteras i en tabell, men som med grafisk presentation blir enklare att avläsa. På grund av relationen mellan stapeldiagram och tabeller används i R ett skapat tabellobjekt i stapeldiagramsfunktionen barplot för att skapa stapeldiagram. freqtable_psych &lt;- table(df$psych) proptable_psych &lt;- prop.table(freqtable_psych) barplot(freqtable_psych) barplot(proptable_psych) freqtable_psych_year &lt;- table(factor(df$psych), df$year) barplot(freqtable_psych_year, beside=TRUE, ylab=&quot;Antal&quot;) proptable_psych_year &lt;- 100*prop.table(freqtable_psych_year, margin = 2 ) barplot(proptable_psych_year, beside=TRUE, ylab=&quot;Procent (%)&quot;) 9.3 Lådagram Lådagram används främst när vi ska jämföra fördelningar uppdelat på kategorier. Att använda lådagram för en enda variabel är inte optimalt, utan histogram ger då mer information. Vi vill studera testresultat uppdelat på psykologisk bedämning boxplot(df$gripstrength~df$psych, xlab=&quot;Psykologisk bedömning (1-9)&quot;, ylab=&quot;Greppstyrka (Newton)&quot;) ## Histogram Histogram används för att visualisera en kontinuerlig variabel. Funktionen hist() skapar ett histogram. Nackdelen med histogram är att den är känslig för antalet klasser. Testa därför olika antal klasser. par(mfrow = c(2,2)) hist(df$gripstrength, xlab=&quot;Greppstyrka (Newton)&quot;, ylab=&quot;Antal&quot;, breaks=7, main=&quot;7 klasser&quot;) hist(df$gripstrength, xlab=&quot;Greppstyrka (Newton)&quot;, ylab=&quot;Antal&quot;, breaks=14, main=&quot;14 klasser&quot;) hist(df$gripstrength, xlab=&quot;Greppstyrka (Newton)&quot;, ylab=&quot;Antal&quot;, breaks=28, main=&quot;28 klasser&quot;) hist(df$gripstrength, xlab=&quot;Greppstyrka (Newton)&quot;, ylab=&quot;Antal&quot;, breaks=56, main=&quot;56 klasser&quot;) 9.4 Spridningsdiagram Den vanligaste funktionen i R för att skapa figurer är plot. Det finns många argument och i de närmaste obegränsade möjligher att anpassa figurerna plot(df$legstrength, df$armstrength, xlab = &quot;Benstyrka (Newton)&quot;, ylab = &quot;Armstyrka (Newton)&quot;) 9.5 Några frekvent förekommande diagram. I surveydata stöter vi ofta på uppdelade stapeldiagram. Dessa figurer har en inneboende problem eftersom kategorierna storlek kan vara svåra att relatera till varandra. Samtidigt är de en visualisering som gör det enkelt att jämföra fördelningar för många variabler av typen attitydfrågor. För att illustrera kategoriserar vi testresultat på begåvningstesterna i INSARK enligt nedanstående schema. df$testa_cat &lt;- NA df$testa_cat[df$testa &lt; 10] &lt;- 1 df$testa_cat[(df$testa &gt;= 10) &amp; (df$testa &lt; 20)] &lt;- 2 df$testa_cat[(df$testa &gt;= 20) &amp; (df$testa &lt; 30)] &lt;- 3 df$testa_cat[(df$testa &gt;= 30)] &lt;- 4 df$testa_cat &lt;- factor(df$testa_cat) df$testb_cat &lt;- NA df$testb_cat[df$testb &lt; 10] &lt;- 1 df$testb_cat[(df$testb &gt;= 10) &amp; (df$testb &lt; 20)] &lt;- 2 df$testb_cat[(df$testb &gt;= 20) &amp; (df$testb &lt; 30)] &lt;- 3 df$testb_cat[(df$testb &gt;= 30)] &lt;- 4 df$testb_cat &lt;- factor(df$testb_cat) df$testc_cat &lt;- NA df$testc_cat[df$testc &lt; 10] &lt;- 1 df$testc_cat[(df$testc &gt;= 10) &amp; (df$testc &lt; 20)] &lt;- 2 df$testc_cat[(df$testc &gt;= 20) &amp; (df$testc &lt; 30)] &lt;- 3 df$testc_cat[(df$testc &gt;= 30)] &lt;- 4 df$testc_cat &lt;- factor(df$testc_cat) df$testd_cat &lt;- NA df$testd_cat[df$testd &lt; 10] &lt;- 1 df$testd_cat[(df$testd &gt;= 10) &amp; (df$testd &lt; 20)] &lt;- 2 df$testd_cat[(df$testd &gt;= 20) &amp; (df$testd &lt; 30)] &lt;- 3 df$testd_cat[(df$testd &gt;= 30)] &lt;- 4 df$testd_cat &lt;- factor(df$testd_cat) Likert_table &lt;- 100*cbind( prop.table( table( df$testd_cat) ), prop.table( table( df$testc_cat) ), prop.table( table( df$testb_cat) ), prop.table( table( df$testa_cat) ) ) colnames(Likert_table) &lt;- c(&quot;Testa D&quot;, &quot;Test C&quot;, &quot;Test B&quot;, &quot;Test A&quot;) bar1 &lt;- barplot(Likert_table, horiz = TRUE, col = c(&quot;brown3&quot;, &quot;brown1&quot;, &quot;cadetblue1&quot;, &quot;cadetblue4&quot;), xlab=&quot;Procent (%)&quot;, las=1) abline(v=50) legend(&quot;top&quot;, fill = c(&quot;brown3&quot;, &quot;brown1&quot;, &quot;cadetblue1&quot;, &quot;cadetblue4&quot;), legend = c(&quot;Kategori 1&quot;, &quot;Kategori 2&quot;, &quot;Kategori 3&quot;, &quot;Kategori 4&quot;), horiz = TRUE, inset = c(0,-0.1), xpd = TRUE, bty=&quot;n&quot;) barplot(Likert_table, horiz = FALSE, beside=TRUE, col = c(&quot;brown3&quot;, &quot;brown1&quot;, &quot;cadetblue1&quot;, &quot;cadetblue4&quot;), xlab=&quot;Procent (%)&quot;, las=1) legend(&quot;top&quot;, fill = c(&quot;brown3&quot;, &quot;brown1&quot;, &quot;cadetblue1&quot;, &quot;cadetblue4&quot;), legend = c(&quot;Kategori 1&quot;, &quot;Kategori 2&quot;, &quot;Kategori 3&quot;, &quot;Kategori 4&quot;), horiz = TRUE, inset = c(0,-0.1), xpd = TRUE, bty=&quot;n&quot;) Ett alternativ är att använda paketet likert. Notera att som input hanterar den bara faktorer! Dessutom inkluderas inte variabler i form av en matris. Funktionen har mycket install.packages(&quot;likert&quot;) library(&quot;likert&quot;) &gt; Loading required package: ggplot2 &gt; Loading required package: xtable likertdata &lt;- likert(data.frame(df$testa_cat, df$testb_cat, df$testc_cat, df$testd_cat)) plot(likertdata) "]
]
