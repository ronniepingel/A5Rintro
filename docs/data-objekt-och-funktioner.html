<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 3 Data, objekt och funktioner | Tillämpad statistik med R</title>
  <meta name="description" content="Kapitel 3 Data, objekt och funktioner | Tillämpad statistik med R" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 3 Data, objekt och funktioner | Tillämpad statistik med R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 3 Data, objekt och funktioner | Tillämpad statistik med R" />
  
  
  

<meta name="author" content="Ronnie Pingel" />


<meta name="date" content="2020-03-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="att-börja-använda-r.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduktion</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#om-statistisk-programmering-med-r"><i class="fa fa-check"></i><b>1.1</b> Om statistisk programmering med R</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#allmänna-tips-om-r-på-kursen"><i class="fa fa-check"></i><b>1.2</b> Allmänna tips om R på kursen</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#sammanfattning"><i class="fa fa-check"></i><b>1.3</b> Sammanfattning</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#referenser"><i class="fa fa-check"></i><b>1.4</b> Referenser</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html"><i class="fa fa-check"></i><b>2</b> Att börja använda R</a><ul>
<li class="chapter" data-level="2.1" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-och-rstudio"><i class="fa fa-check"></i><b>2.1</b> Installation av R och RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-på-macos"><i class="fa fa-check"></i><b>2.1.1</b> Installation av R på MacOS</a></li>
<li class="chapter" data-level="2.1.2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-på-windows"><i class="fa fa-check"></i><b>2.1.2</b> Installation av R på Windows</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-rstudio"><i class="fa fa-check"></i><b>2.2</b> Installation av RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#första-sessionen"><i class="fa fa-check"></i><b>2.3</b> Första sessionen</a></li>
<li class="chapter" data-level="2.4" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#paket"><i class="fa fa-check"></i><b>2.4</b> Paket</a></li>
<li class="chapter" data-level="2.5" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#sammanfattning-1"><i class="fa fa-check"></i><b>2.5</b> Sammanfattning</a></li>
<li class="chapter" data-level="2.6" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övningar"><i class="fa fa-check"></i><b>2.6</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.1"><i class="fa fa-check"></i>Övning 2.1</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#svar-2.1"><i class="fa fa-check"></i>Svar 2.1</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.2"><i class="fa fa-check"></i>Övning 2.2</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#svar-2.2"><i class="fa fa-check"></i>Svar 2.2</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.3"><i class="fa fa-check"></i>Övning 2.3</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#svar-2.3"><i class="fa fa-check"></i>Svar 2.3</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.4"><i class="fa fa-check"></i>Övning 2.4</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#svar-2.4"><i class="fa fa-check"></i>Svar 2.4</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.5"><i class="fa fa-check"></i>Övning 2.5</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#svar-2.5"><i class="fa fa-check"></i>Svar 2.5</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.6"><i class="fa fa-check"></i>Övning 2.6</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#svar-2.6"><i class="fa fa-check"></i>Svar 2.6</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.7"><i class="fa fa-check"></i>Övning 2.7</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#svar-2.7"><i class="fa fa-check"></i>Svar 2.7</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.8"><i class="fa fa-check"></i>Övning 2.8</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#svar-2.8"><i class="fa fa-check"></i>Svar 2.8</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html"><i class="fa fa-check"></i><b>3</b> Data, objekt och funktioner</a><ul>
<li class="chapter" data-level="3.1" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#data"><i class="fa fa-check"></i><b>3.1</b> Data</a></li>
<li class="chapter" data-level="3.2" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#objekt"><i class="fa fa-check"></i><b>3.2</b> Objekt</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer"><i class="fa fa-check"></i><b>3.2.1</b> Vektorer</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#matriser"><i class="fa fa-check"></i><b>3.2.2</b> Matriser</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#data-frames"><i class="fa fa-check"></i><b>3.2.3</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#funktioner"><i class="fa fa-check"></i><b>3.3</b> Funktioner</a></li>
<li class="chapter" data-level="3.4" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#sammanfattning-2"><i class="fa fa-check"></i><b>3.4</b> Sammanfattning</a></li>
<li class="chapter" data-level="3.5" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övningar-1"><i class="fa fa-check"></i><b>3.5</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-2.1-1"><i class="fa fa-check"></i>Övning 2.1</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#svar-2.1-1"><i class="fa fa-check"></i>Svar 2.1</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-2.2-1"><i class="fa fa-check"></i>Övning 2.2</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#svar-2.2-1"><i class="fa fa-check"></i>Svar 2.2</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-2.3-1"><i class="fa fa-check"></i>Övning 2.3</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#svar-2.3-1"><i class="fa fa-check"></i>Svar 2.3</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-2.4-1"><i class="fa fa-check"></i>Övning 2.4</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#svar-2.4-1"><i class="fa fa-check"></i>Svar 2.4</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-2.5-1"><i class="fa fa-check"></i>Övning 2.5</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#svar-2.5-1"><i class="fa fa-check"></i>Svar 2.5</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-2.6-1"><i class="fa fa-check"></i>Övning 2.6</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#svar-2.6-1"><i class="fa fa-check"></i>Svar 2.6</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-2.7-1"><i class="fa fa-check"></i>Övning 2.7</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#svar-2.7-1"><i class="fa fa-check"></i>Svar 2.7</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-2.8-1"><i class="fa fa-check"></i>Övning 2.8</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#svar-2.8-1"><i class="fa fa-check"></i>Svar 2.8</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tillämpad statistik med R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-objekt-och-funktioner" class="section level1">
<h1><span class="header-section-number">Kapitel 3</span> Data, objekt och funktioner</h1>
<p>För att kunna arbeta med statistik och dataanalys är det viktigt att inte enbart förstå den statistiska metoden och kunna lösa problem med hjälp av en miniräknare. I praktiken är det även nödvändigt att förstå hur data hanteras, lagras och struktureras. I detta kapitel introduceras typer av data som normalt hanteras i R, sedan följer avsnitt om de olika typer av objekt som finns i R. Kapitlet avslutas med se på vad en funktion i R är för något och hur funkioner kan användas för att hantera objekt.</p>
<div id="data" class="section level2">
<h2><span class="header-section-number">3.1</span> Data</h2>
<p>Utan data är statistik innehållslöst. På samma sätt är data grundläggande för arbete i R. De vanligaste datatyperna i R är</p>
<ul>
<li>character (text), som anges med citationstecken t ex “a”, “3”.</li>
<li>numeric (decimaltal), t ex är 3, 32.1. Notera att 3 kan skriva 3.0.</li>
<li>integer (heltal). 3, 32. Skillnaden mellan numeric och integer är att inga decimaler sparas, vilket spar minne.</li>
<li>logical (data indikerar om något är sant eller falskt, TRUE/FALSE).</li>
</ul>
<p>Observera att dessa datatyper beskriver hur data är lagrad och hur R ska tolka data. Det säger sig kanske självt att det inte går att använda räkneoperation om data är character (text).</p>
<p>Datatyper ska inte förväxlas med de datanivåer (nominal, ordinal, intervall och kvotskala) som man normalt förknippar med statistiska analyser. Datatyper ska inte heller förväxlas med om data är diskreta, kontinuerliga, kategorier eller kvantitativa.</p>
<p>Det är <strong>mycket viktigt</strong> för alla som arbetar med statistiska analyser av data att kunna tillämpa alla ovanstående begrepp på rätt situation. Ofta överlappar begreppen, men det är vanligt att begreppen inte gör det. Detta måste man ha en förståelse för.</p>
</div>
<div id="objekt" class="section level2">
<h2><span class="header-section-number">3.2</span> Objekt</h2>
<p>Data hanteras och sparas som <strong>objekt</strong>. För att skapa ett objekt används <strong>assignment</strong>-operatorn <strong>&lt;-</strong>. Objektet sparas därmed i minnet i R, men inget resultat redovisas i Console. Om R stängs ner måste objektet skapas på nytt såvida användaren inte har angett att objektet ska sparas.</p>
<p>I regel arbetar man i R med flera olika objekt samtidigt. Objekten måste därför
namnges och precis som Vid all programmering är noggrannhet a och o. Objektnamn inleds med en bokstav och får endast innehålla bokstäver, siffror, _ och ..
Dessutom skiljer R på versaler och gemener. Det är inte alltid enkelt att namnge objekt, men det
viktigaste är att vara konsekvent. På denna kurs rekommenderas följande principer för namngivning av objekt. Använd</p>
<ul>
<li>endast <strong>gemener</strong>.</li>
<li><strong>korta</strong> och <strong>logiska</strong> namn, t ex kan objektet <strong>population</strong> förkortas till <strong>pop</strong>.</li>
<li>gärna understreck _ för sammanbinda långa objektnamn. Objektet ålder för kvinnor skulle kunna betecknas <strong>age_women</strong> och motsvarande för män är då <strong>age_men</strong>.</li>
<li>Använd inte å, ä och ö.</li>
<li>inte namn som redan är upptagna i R, t ex <strong>exp</strong> eller <strong>log</strong>.</li>
</ul>
<p>Det tre vanligaste objekten för hantering av data är:</p>
<ul>
<li>vektorer,</li>
<li>matriser,</li>
<li>data frames.</li>
</ul>
<div id="vektorer" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Vektorer</h3>
<p>En vektor är ett dataobjekt som är endimensionellt och består av <span class="math inline">\(n\)</span> element. En vektor skapas med kommandot <strong>c()</strong> (‘’Combine Values into a Vector’’). Anta att vi observerar värdena <span class="math inline">\(3,-1,1,5,0\)</span>. Med hjälp av nedanstående kod skapas ett vektor-objekt med med 5 element:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" title="1"><span class="co"># Skapa din första numeriska vektor</span></a>
<a class="sourceLine" id="cb35-2" title="2">my__first_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">-1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">0</span>)</a></code></pre></div>
<p>Notera att inget visas i Console, men att objektet finns sparat i minnet upptäcker man i RStudio genom att observera den övre högra panelen under fliken <strong>Environment</strong>. Där listas alla objekt som finns sparade i minnet i R. För att titta på objektet exekveras objektet genom att köra nedanstående kod.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa din första numeriska vektor</span></a>
<a class="sourceLine" id="cb36-2" title="2"><span class="er">&gt;</span><span class="st"> </span>my__first_vec </a>
<a class="sourceLine" id="cb36-3" title="3"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>]  <span class="dv">3</span> <span class="dv">-1</span>  <span class="dv">1</span>  <span class="dv">5</span>  <span class="dv">0</span></a></code></pre></div>
<p>Du ska nu skapa ett antal vektorobjekt som sedan på olika sätt ska manipuleras.</p>
<ol style="list-style-type: decimal">
<li>Skapa ett script som heter <strong>kap3_objekt_och_funktioner.R</strong> genom att välja <em>File &gt; New File &gt; R Script</em> och sedan direkt spara scriptet med <em>File &gt; Save As</em> i mappen <strong>A5Rkod</strong>.<br />
</li>
<li>Skriv in koden nedan i scriptet och spara med <em>File &gt; Save</em>. Det är bra att få rutin på att ofta spara sitt script så att inte kod råkar försvinna.</li>
</ol>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" title="1"><span class="co"># Skapar två numeriska vektorer</span></a>
<a class="sourceLine" id="cb37-2" title="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb37-3" title="3">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">9</span>)</a>
<a class="sourceLine" id="cb37-4" title="4"><span class="co"># Kombinera vektorer till en ny vektor</span></a>
<a class="sourceLine" id="cb37-5" title="5">z &lt;-<span class="st"> </span><span class="kw">c</span>(x, y)</a></code></pre></div>
<p>Generellt gäller i R att om <span class="math inline">\(x\)</span> är en vektor bestående av <span class="math inline">\(k\)</span> element
<span class="math display">\[x = (x_1,x_2,\ldots,x_k)\]</span>
och <span class="math inline">\(y\)</span> är en vektor bestående av <span class="math inline">\(l\)</span> element
<span class="math display">\[y = (y_1,y_2,y_3,y_4,y_5)\]</span>
så skapar kommandot</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1">z &lt;-<span class="st"> </span><span class="kw">c</span>(x,y)</a></code></pre></div>
<p>en vektor med <span class="math inline">\(k + l\)</span> element,
<span class="math display">\[z= (x_1,x_2,\ldots,x_k,y_1,y_2,\ldots,y_l)=(z_1,z_2,\ldots,z_{k+l}).\]</span>
För att se om detta stämmer tittar vi på objekten genom att exekvera dem.</p>
<ol start="3" style="list-style-type: decimal">
<li>Fortsätter scriptet genom att skriva in nedanstående kod. Spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1">x</a>
<a class="sourceLine" id="cb39-2" title="2">y</a>
<a class="sourceLine" id="cb39-3" title="3">z</a></code></pre></div>
<p>I Console ser du då följande:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb40-2" title="2"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb40-3" title="3"><span class="op">&gt;</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb40-4" title="4"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></a>
<a class="sourceLine" id="cb40-5" title="5"><span class="op">&gt;</span><span class="st"> </span>z</a>
<a class="sourceLine" id="cb40-6" title="6"><span class="op">&gt;</span><span class="st">  </span>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></a></code></pre></div>
<p>Både <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span> och <span class="math inline">\(z\)</span> är numeriska vektorer. Det går även att skapa en vektor bestående av bokstäver. För att skapa en sådan vektor (character vector) sätts de enskilda elementen inom citationstecken.</p>
<ol start="4" style="list-style-type: decimal">
<li>Fortsätt scriptet och skriv in nedanstående kod i scriptet, spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1"><span class="co"># Skapar en vektor med ord</span></a>
<a class="sourceLine" id="cb41-2" title="2">nordic_countries &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Denmark&quot;</span>, <span class="st">&quot;Finland&quot;</span>, <span class="st">&quot;Iceland&quot;</span>, <span class="st">&quot;Norway&quot;</span>, <span class="st">&quot;Sweden&quot;</span>)</a>
<a class="sourceLine" id="cb41-3" title="3">nordic_countries</a></code></pre></div>
<p>I Console ser du då följande resultat.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapar en vektor med ord</span></a>
<a class="sourceLine" id="cb42-2" title="2"><span class="er">&gt;</span><span class="st"> </span>nordic_countries &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Denmark&quot;</span>, <span class="st">&quot;Finland&quot;</span>, <span class="st">&quot;Iceland&quot;</span>, <span class="st">&quot;Norway&quot;</span>, <span class="st">&quot;Sweden&quot;</span>)</a>
<a class="sourceLine" id="cb42-3" title="3"><span class="op">&gt;</span><span class="st"> </span>nordic_countries</a>
<a class="sourceLine" id="cb42-4" title="4"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span> <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></a></code></pre></div>
<p>Kombineras en numerisk och en character-vektor blir hela vektorn en character-vector.</p>
<ol start="5" style="list-style-type: decimal">
<li>Skriv följande kod i scriptet, spara och kör koden.</li>
</ol>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1"><span class="co"># Skapar en vektor med ord</span></a>
<a class="sourceLine" id="cb43-2" title="2">x_nordic_countries &lt;-<span class="st"> </span><span class="kw">c</span>(x, nordic_countries )</a>
<a class="sourceLine" id="cb43-3" title="3">x_nordic_countries</a></code></pre></div>
<p>I Console erhålls följande output och vi ser att de tidigare numeriska värdena nu omges av citationstecken.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa en vektor med en numerisk och en vektor med ord</span></a>
<a class="sourceLine" id="cb44-2" title="2"><span class="er">&gt;</span><span class="st"> </span>x_nordic_countries &lt;-<span class="st"> </span><span class="kw">c</span>(x, nordic_countries )</a>
<a class="sourceLine" id="cb44-3" title="3"><span class="op">&gt;</span><span class="st"> </span>x_nordic_countries</a>
<a class="sourceLine" id="cb44-4" title="4"><span class="op">&gt;</span><span class="st">  </span>[<span class="dv">1</span>] <span class="st">&quot;3&quot;</span>       <span class="st">&quot;1&quot;</span>       <span class="st">&quot;1&quot;</span>       <span class="st">&quot;5&quot;</span>       <span class="st">&quot;0&quot;</span>       <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span></a>
<a class="sourceLine" id="cb44-5" title="5"><span class="op">&gt;</span><span class="st">  </span>[<span class="dv">8</span>] <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></a></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>Vi ska nu se introducera hur man på andra sätt kan skapa vektorer typer av vektorer.</li>
</ol>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1"><span class="co"># Skapar en vektor med värdena 1,2,3,4,5</span></a>
<a class="sourceLine" id="cb45-2" title="2">v &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb45-3" title="3"><span class="co"># Skapar en vektor med endast ett element</span></a>
<a class="sourceLine" id="cb45-4" title="4">n &lt;-<span class="st"> </span><span class="dv">150</span></a>
<a class="sourceLine" id="cb45-5" title="5"><span class="co"># Skapar en vektor med ett bortfall. </span></a>
<a class="sourceLine" id="cb45-6" title="6">ymis &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="ot">NA</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">6</span>)</a></code></pre></div>
<p>I Console får vi</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapar en vektor med värdena 1,2,3,4,5</span></a>
<a class="sourceLine" id="cb46-2" title="2"><span class="er">&gt;</span><span class="st"> </span>v &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb46-3" title="3"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapar en vektor med endast ett element</span></a>
<a class="sourceLine" id="cb46-4" title="4"><span class="er">&gt;</span><span class="st"> </span>n &lt;-<span class="st"> </span><span class="dv">150</span></a>
<a class="sourceLine" id="cb46-5" title="5"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapar en vektor med ett bortfall. </span></a>
<a class="sourceLine" id="cb46-6" title="6"><span class="er">&gt;</span><span class="st"> </span>ymis &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="ot">NA</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">6</span>)</a></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Som svar på 3. ovan ser vi att koden, om den exekveras, skapar numeriska vektorer som enbart innehåller siffror, vektorer som enbart innehåller bokstäver, vektorer som skapats genom räkneoperationer eller sekvenser. Vidare finns vektorer med bortfall anges med <code>NA</code> (Not Available).</li>
</ol>
<p>En vektor som innehåller enbart en datatyp kallas för <strong>atomic</strong>. Detta kan vara värt att känna till eftersom eftersom det är vanligt att felmeddelande referar till just att en vektor inte är atomic.</p>
<p>Här ser du även exempel på hur används för att kommentera kod. Vid all programmering är det viktigt att förklara koden så att du själv och andra enkelt förstår vad koden gör. <em>Kommentera alltid kod på denna kurs!</em>. Även om det i triviala fall kan tyckas meningslöst är detta viktigt för att få rutin på att kommentera.
5. Exekvera koden. Vektor-objekten ska nu vara adderade till fliken Environment och återigen så visas inget i Console.
6. Fortsätt scriptet genom att skriva in nedanstående kod. Spara scriptet och kör koden.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" title="1">x</a>
<a class="sourceLine" id="cb47-2" title="2">y</a>
<a class="sourceLine" id="cb47-3" title="3">z</a>
<a class="sourceLine" id="cb47-4" title="4">v</a>
<a class="sourceLine" id="cb47-5" title="5">n</a>
<a class="sourceLine" id="cb47-6" title="6">nordic_countries</a>
<a class="sourceLine" id="cb47-7" title="7">ymis</a>
<a class="sourceLine" id="cb47-8" title="8">x_nordic_countries </a></code></pre></div>
<p>I Console presenteras vektorerna.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" title="1"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb48-2" title="2"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb48-3" title="3"><span class="op">&gt;</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb48-4" title="4"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></a>
<a class="sourceLine" id="cb48-5" title="5"><span class="op">&gt;</span><span class="st"> </span>z</a>
<a class="sourceLine" id="cb48-6" title="6"><span class="op">&gt;</span><span class="st">  </span>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></a>
<a class="sourceLine" id="cb48-7" title="7"><span class="op">&gt;</span><span class="st"> </span>v</a>
<a class="sourceLine" id="cb48-8" title="8"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb48-9" title="9"><span class="op">&gt;</span><span class="st"> </span>n</a>
<a class="sourceLine" id="cb48-10" title="10"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">150</span></a>
<a class="sourceLine" id="cb48-11" title="11"><span class="op">&gt;</span><span class="st"> </span>nordic_countries</a>
<a class="sourceLine" id="cb48-12" title="12"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span> <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></a>
<a class="sourceLine" id="cb48-13" title="13"><span class="op">&gt;</span><span class="st"> </span>ymis</a>
<a class="sourceLine" id="cb48-14" title="14"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>]  <span class="dv">3</span> <span class="ot">NA</span>  <span class="dv">6</span>  <span class="dv">3</span>  <span class="dv">6</span></a>
<a class="sourceLine" id="cb48-15" title="15"><span class="op">&gt;</span><span class="st"> </span>x_nordic_countries </a>
<a class="sourceLine" id="cb48-16" title="16"><span class="op">&gt;</span><span class="st">  </span>[<span class="dv">1</span>] <span class="st">&quot;3&quot;</span>       <span class="st">&quot;1&quot;</span>       <span class="st">&quot;1&quot;</span>       <span class="st">&quot;5&quot;</span>       <span class="st">&quot;0&quot;</span>       <span class="st">&quot;Denmark&quot;</span> <span class="st">&quot;Finland&quot;</span></a>
<a class="sourceLine" id="cb48-17" title="17"><span class="op">&gt;</span><span class="st">  </span>[<span class="dv">8</span>] <span class="st">&quot;Iceland&quot;</span> <span class="st">&quot;Norway&quot;</span>  <span class="st">&quot;Sweden&quot;</span></a></code></pre></div>
<style>
div.green{ background-color:#abd4b3; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<p><font size="5"> </font>
<img src="docs/images/important.png" width="5%" /></p>
<p>En viktig detla ser att kombinerar vi en vektor med numerisk vektor och en vektor med bokstäver så betraktas siffrorna som bokstäver. Det ser vi genom att
det finns finns citationstecken kring siffrorna.</p>
</div>
<p>I praktiken måste data anpassas och manipuleras för planerade analyser. Vi börjar med att konstatera att varje element har en position. Med hakparenteser <code>[]</code> erhålls åtkomst till ett eller flera element, antingen genom att direkt identifiera positionen i vektorn med en siffra eller med <strong>logiska operatorer</strong>. Några vanliga och viktiga logiska operatorer är:</p>
<ul>
<li><code>&lt;</code> är mindre än.</li>
<li><code>&gt;</code> är mindre än.</li>
<li><code>&gt;=</code> större än eller lika med</li>
<li><code>&lt;=</code> mindre än eller lika med</li>
<li><code>==</code> lika med.</li>
</ul>
<p>Genom att använda positioner och logiska operator kan användaren direkt hantera data i vektorn. Skriv in nedanstående kod i scriptet.</p>
<ol start="7" style="list-style-type: decimal">
<li>Fortsätt scriptet genom att skriva in nedanstående kod.</li>
<li>Läs scriptet och förstå vad koden gör.</li>
</ol>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa element 2 i vektorn x </span></a>
<a class="sourceLine" id="cb49-2" title="2"><span class="er">&gt;</span><span class="st"> </span>x[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb49-3" title="3"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">1</span></a>
<a class="sourceLine" id="cb49-4" title="4"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa med negativ indexering inte element 2 i vektorn x </span></a>
<a class="sourceLine" id="cb49-5" title="5"><span class="er">&gt;</span><span class="st"> </span>x[<span class="op">-</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb49-6" title="6"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb49-7" title="7"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa element 2, 3 och 4 i vektorn x</span></a>
<a class="sourceLine" id="cb49-8" title="8"><span class="er">&gt;</span><span class="st"> </span>y[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</a>
<a class="sourceLine" id="cb49-9" title="9"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span></a>
<a class="sourceLine" id="cb49-10" title="10"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa med negativ indexering element 1 och 5 i vektorn x</span></a>
<a class="sourceLine" id="cb49-11" title="11"><span class="er">&gt;</span><span class="st"> </span>y[<span class="op">-</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</a>
<a class="sourceLine" id="cb49-12" title="12"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">9</span></a>
<a class="sourceLine" id="cb49-13" title="13"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa element i vektor y som är större än eller lika med 4</span></a>
<a class="sourceLine" id="cb49-14" title="14"><span class="er">&gt;</span><span class="st"> </span>y[y <span class="op">&gt;=</span><span class="st"> </span><span class="dv">6</span>]</a>
<a class="sourceLine" id="cb49-15" title="15"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">6</span> <span class="dv">9</span></a>
<a class="sourceLine" id="cb49-16" title="16"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa element i vektor y från positioner där x har värden lika med 1. </span></a>
<a class="sourceLine" id="cb49-17" title="17"><span class="er">&gt;</span><span class="st"> </span><span class="co"># (Kräver att x och y har lika många element) </span></a>
<a class="sourceLine" id="cb49-18" title="18"><span class="er">&gt;</span><span class="st"> </span>y[x <span class="op">==</span><span class="st"> </span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb49-19" title="19"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb49-20" title="20"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa element i vektor y från positioner där nordic_countries == &quot;Finland&quot;</span></a>
<a class="sourceLine" id="cb49-21" title="21"><span class="er">&gt;</span><span class="st"> </span>y[nordic_countries <span class="op">==</span><span class="st"> &quot;Finland&quot;</span>]</a>
<a class="sourceLine" id="cb49-22" title="22"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">3</span></a></code></pre></div>
<p>Efter det att åtkomst till element i vektorn har erhållit kan dessa elements sparas eller förändras.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Spara element 2, 3, 4 i en ny vektor ysub och visa vektorn</span></a>
<a class="sourceLine" id="cb50-2" title="2"><span class="er">&gt;</span><span class="st"> </span>ysub &lt;-<span class="st"> </span>y[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</a>
<a class="sourceLine" id="cb50-3" title="3"><span class="op">&gt;</span><span class="st"> </span>ysub</a>
<a class="sourceLine" id="cb50-4" title="4"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span></a>
<a class="sourceLine" id="cb50-5" title="5"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Sätt värdet 0 i vektorn y där y är större än eller lika med 6</span></a>
<a class="sourceLine" id="cb50-6" title="6"><span class="er">&gt;</span><span class="st"> </span>ysub[ysub <span class="op">&gt;=</span><span class="st"> </span><span class="dv">6</span>] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb50-7" title="7"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Sätt värdet 99 i vektorn y på positioner där nordic_countries är &quot;Denmark&quot;</span></a>
<a class="sourceLine" id="cb50-8" title="8"><span class="er">&gt;</span><span class="st"> </span>ysub[nordic_countries <span class="op">==</span><span class="st"> &quot;Finland&quot;</span>] &lt;-<span class="st"> </span><span class="dv">99</span></a></code></pre></div>
<p>Nya vektorer kan skapas med räkneoperationer. Beräkningarna sker då elementvis, till exempel adderas elementvärden i en vektor till elementvärden i en annan vektor som har motsvarade position. Nedan presenteras några vanliga räkneoperationer.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Addition av x och y</span></a>
<a class="sourceLine" id="cb51-2" title="2"><span class="er">&gt;</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb51-3" title="3"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>]  <span class="dv">5</span>  <span class="dv">4</span>  <span class="dv">6</span> <span class="dv">11</span>  <span class="dv">9</span></a>
<a class="sourceLine" id="cb51-4" title="4"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Multiplikation av x och y</span></a>
<a class="sourceLine" id="cb51-5" title="5"><span class="er">&gt;</span><span class="st"> </span>x <span class="op">*</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb51-6" title="6"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>]  <span class="dv">6</span>  <span class="dv">3</span>  <span class="dv">5</span> <span class="dv">30</span>  <span class="dv">0</span></a>
<a class="sourceLine" id="cb51-7" title="7"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Potenser skrivs med a^b</span></a>
<a class="sourceLine" id="cb51-8" title="8"><span class="er">&gt;</span><span class="st"> </span>y<span class="op">^</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb51-9" title="9"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>]  <span class="dv">4</span>  <span class="dv">9</span> <span class="dv">25</span> <span class="dv">36</span> <span class="dv">81</span></a>
<a class="sourceLine" id="cb51-10" title="10"><span class="op">&gt;</span><span class="st"> </span><span class="co"># En konstant adderas till alla element i vektorn</span></a>
<a class="sourceLine" id="cb51-11" title="11"><span class="er">&gt;</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>n </a>
<a class="sourceLine" id="cb51-12" title="12"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">153</span> <span class="dv">151</span> <span class="dv">151</span> <span class="dv">155</span> <span class="dv">150</span></a>
<a class="sourceLine" id="cb51-13" title="13"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Räkneoperationer med NA ger NA</span></a>
<a class="sourceLine" id="cb51-14" title="14"><span class="er">&gt;</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>ymis </a>
<a class="sourceLine" id="cb51-15" title="15"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>]  <span class="dv">6</span> <span class="ot">NA</span>  <span class="dv">7</span>  <span class="dv">8</span>  <span class="dv">6</span></a>
<a class="sourceLine" id="cb51-16" title="16"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Addera delar av vektorer</span></a>
<a class="sourceLine" id="cb51-17" title="17"><span class="er">&gt;</span><span class="st"> </span>x[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)] <span class="op">+</span><span class="st"> </span>y[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</a>
<a class="sourceLine" id="cb51-18" title="18"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>]  <span class="dv">4</span>  <span class="dv">6</span> <span class="dv">11</span></a>
<a class="sourceLine" id="cb51-19" title="19"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Division med 0 är ej definierat. R anger det som Inf (infinity) </span></a>
<a class="sourceLine" id="cb51-20" title="20"><span class="er">&gt;</span><span class="st"> </span><span class="co"># eller NaN (Not a Number) om det är 0/0.</span></a>
<a class="sourceLine" id="cb51-21" title="21"><span class="er">&gt;</span><span class="st"> </span>x<span class="op">/</span><span class="dv">0</span></a>
<a class="sourceLine" id="cb51-22" title="22"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="ot">Inf</span> <span class="ot">Inf</span> <span class="ot">Inf</span> <span class="ot">Inf</span> <span class="ot">NaN</span></a>
<a class="sourceLine" id="cb51-23" title="23"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Exempel på längre räkneoperationer. </span></a>
<a class="sourceLine" id="cb51-24" title="24"><span class="er">&gt;</span><span class="st"> </span><span class="co"># Notera att alla beräkningar är elementvisa.</span></a>
<a class="sourceLine" id="cb51-25" title="25"><span class="er">&gt;</span><span class="st"> </span>w &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span>(y<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span>n)<span class="op">/</span>v</a>
<a class="sourceLine" id="cb51-26" title="26"><span class="op">&gt;</span><span class="st"> </span>w</a>
<a class="sourceLine" id="cb51-27" title="27"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="fl">-143.00000</span>  <span class="fl">-69.50000</span>  <span class="fl">-40.66667</span>  <span class="fl">-23.50000</span>  <span class="fl">-13.80000</span></a></code></pre></div>
<p>Spara scriptet <strong>kap3_objekt_och_funktioner.R</strong>.</p>
</div>
<div id="matriser" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Matriser</h3>
<p>En matris är ett tvådimensionellt dataobjekt bestående av <strong>rader</strong> och <strong>kolumn</strong>. Analogt med <strong>c()</strong>, som kombinerar element till en vektor, används <strong>rbind()</strong> och <strong>cbind()</strong> för att binda ihop vektorer radvis eller kolumnvis till matriser. Det går <strong>inte</strong> att binda ihop numeriska vektorer som med vektorer som innehåller bokstäver, utan en matris måste innehålla element av samma datatyp. En matris kan även skapas direkt med <strong>matrix()</strong> som transformerar en vektor till ett antal rader och kolumner.</p>
<p>Fortsätt scriptet <strong>kap3_objekt_och_funktioner.R</strong> och skriv in nedanstående kod.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa en matris genom att binda samman x och y radvis. Matrisen får 2 rader och 5 kolumner</span></a>
<a class="sourceLine" id="cb52-2" title="2"><span class="er">&gt;</span><span class="st"> </span>m1 &lt;-<span class="st"> </span><span class="kw">rbind</span>(x, y)</a>
<a class="sourceLine" id="cb52-3" title="3"><span class="op">&gt;</span><span class="st"> </span>m1</a>
<a class="sourceLine" id="cb52-4" title="4"><span class="op">&gt;</span><span class="st">   </span>[,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</a>
<a class="sourceLine" id="cb52-5" title="5"><span class="op">&gt;</span><span class="st"> </span>x    <span class="dv">3</span>    <span class="dv">1</span>    <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">0</span></a>
<a class="sourceLine" id="cb52-6" title="6"><span class="op">&gt;</span><span class="st"> </span>y    <span class="dv">2</span>    <span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>    <span class="dv">9</span></a>
<a class="sourceLine" id="cb52-7" title="7"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa en matris genom att binda samman x, y, n och x radvis. Matrisen får 5 rader och 4 kolumner. </span></a>
<a class="sourceLine" id="cb52-8" title="8"><span class="er">&gt;</span><span class="st"> </span>m2 &lt;-<span class="st"> </span><span class="kw">cbind</span>(x, y, n, x)</a>
<a class="sourceLine" id="cb52-9" title="9"><span class="op">&gt;</span><span class="st"> </span>m2</a>
<a class="sourceLine" id="cb52-10" title="10"><span class="op">&gt;</span><span class="st">      </span>x y   n x</a>
<a class="sourceLine" id="cb52-11" title="11"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>,] <span class="dv">3</span> <span class="dv">2</span> <span class="dv">150</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb52-12" title="12"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">2</span>,] <span class="dv">1</span> <span class="dv">3</span> <span class="dv">150</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb52-13" title="13"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">3</span>,] <span class="dv">1</span> <span class="dv">5</span> <span class="dv">150</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb52-14" title="14"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">4</span>,] <span class="dv">5</span> <span class="dv">6</span> <span class="dv">150</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb52-15" title="15"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">5</span>,] <span class="dv">0</span> <span class="dv">9</span> <span class="dv">150</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb52-16" title="16"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa en matris genom att binda samman x och ymis radvis. Matrisen får 5 rader och 2 kolumner. </span></a>
<a class="sourceLine" id="cb52-17" title="17"><span class="er">&gt;</span><span class="st"> </span>m3 &lt;-<span class="st"> </span><span class="kw">rbind</span>(x, ymis)</a>
<a class="sourceLine" id="cb52-18" title="18"><span class="op">&gt;</span><span class="st"> </span>m3</a>
<a class="sourceLine" id="cb52-19" title="19"><span class="op">&gt;</span><span class="st">      </span>[,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</a>
<a class="sourceLine" id="cb52-20" title="20"><span class="op">&gt;</span><span class="st"> </span>x       <span class="dv">3</span>    <span class="dv">1</span>    <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">0</span></a>
<a class="sourceLine" id="cb52-21" title="21"><span class="op">&gt;</span><span class="st"> </span>ymis    <span class="dv">3</span>   <span class="ot">NA</span>    <span class="dv">6</span>    <span class="dv">3</span>    <span class="dv">6</span></a>
<a class="sourceLine" id="cb52-22" title="22"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa med matrix() en matris med två rader och 5 kolumner. </span></a>
<a class="sourceLine" id="cb52-23" title="23"><span class="er">&gt;</span><span class="st"> </span><span class="co"># Matrisen fylls på kolumnvis och notera att detta inte blir samma som m1. </span></a>
<a class="sourceLine" id="cb52-24" title="24"><span class="er">&gt;</span><span class="st"> </span>m4 &lt;-<span class="st"> </span><span class="kw">matrix</span>(z, <span class="dv">2</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb52-25" title="25"><span class="op">&gt;</span><span class="st"> </span>m4</a>
<a class="sourceLine" id="cb52-26" title="26"><span class="op">&gt;</span><span class="st">      </span>[,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</a>
<a class="sourceLine" id="cb52-27" title="27"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>,]    <span class="dv">3</span>    <span class="dv">1</span>    <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">6</span></a>
<a class="sourceLine" id="cb52-28" title="28"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">2</span>,]    <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">2</span>    <span class="dv">5</span>    <span class="dv">9</span></a>
<a class="sourceLine" id="cb52-29" title="29"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa med matrix() en matris med fem rader och 2 kolumner.</span></a>
<a class="sourceLine" id="cb52-30" title="30"><span class="er">&gt;</span><span class="st"> </span><span class="co"># I detta fall är de två första kolumnerna i m2 samma som m5.</span></a>
<a class="sourceLine" id="cb52-31" title="31"><span class="er">&gt;</span><span class="st"> </span>m5 &lt;-<span class="st"> </span><span class="kw">matrix</span>(z, <span class="dv">5</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb52-32" title="32"><span class="op">&gt;</span><span class="st"> </span>m5</a>
<a class="sourceLine" id="cb52-33" title="33"><span class="op">&gt;</span><span class="st">      </span>[,<span class="dv">1</span>] [,<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb52-34" title="34"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>,]    <span class="dv">3</span>    <span class="dv">2</span></a>
<a class="sourceLine" id="cb52-35" title="35"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">2</span>,]    <span class="dv">1</span>    <span class="dv">3</span></a>
<a class="sourceLine" id="cb52-36" title="36"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">3</span>,]    <span class="dv">1</span>    <span class="dv">5</span></a>
<a class="sourceLine" id="cb52-37" title="37"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">4</span>,]    <span class="dv">5</span>    <span class="dv">6</span></a>
<a class="sourceLine" id="cb52-38" title="38"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">5</span>,]    <span class="dv">0</span>    <span class="dv">9</span></a></code></pre></div>
<style>
div.green{ background-color:#abd4b3; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<p><font size="5"> </font></p>
<p><img src="docs/images/tip.png" width="5%" /></p>
<p>Använd <strong>rbind()</strong> och <strong>cbind()</strong> vid skapande av matriser eftersom det är mindre risk för
för missförstånd var elementen hamnar i matrisen.</p>
</div>
<p>För åtkomst till element krävs nu, eftersom matriser består av rader och kolumner, att bägge dimensionerna anges. Först anges
radnummer, sedan kolumnnummer.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa element på rad 2 och kolumn 3</span></a>
<a class="sourceLine" id="cb53-2" title="2"><span class="er">&gt;</span><span class="st"> </span>m1[<span class="dv">2</span>,<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb53-3" title="3"><span class="op">&gt;</span><span class="st"> </span>y </a>
<a class="sourceLine" id="cb53-4" title="4"><span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb53-5" title="5"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa element på rad 2 och alla kolumner</span></a>
<a class="sourceLine" id="cb53-6" title="6"><span class="er">&gt;</span><span class="st"> </span>m1[<span class="dv">2</span>,]</a>
<a class="sourceLine" id="cb53-7" title="7"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">9</span></a>
<a class="sourceLine" id="cb53-8" title="8"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa element på alla rader och kolumner 3</span></a>
<a class="sourceLine" id="cb53-9" title="9"><span class="er">&gt;</span><span class="st"> </span>m1[,<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb53-10" title="10"><span class="op">&gt;</span><span class="st"> </span>x y </a>
<a class="sourceLine" id="cb53-11" title="11"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb53-12" title="12"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa </span></a>
<a class="sourceLine" id="cb53-13" title="13"><span class="er">&gt;</span><span class="st"> </span>m2[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),]</a>
<a class="sourceLine" id="cb53-14" title="14"><span class="op">&gt;</span><span class="st">      </span>x y   n x</a>
<a class="sourceLine" id="cb53-15" title="15"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>,] <span class="dv">3</span> <span class="dv">2</span> <span class="dv">150</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb53-16" title="16"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">2</span>,] <span class="dv">1</span> <span class="dv">3</span> <span class="dv">150</span> <span class="dv">1</span></a></code></pre></div>
<p>Det går att utföra elementvisa beräkningar, vilket kräver att matriserna har samma antal rader och kolumner. Observera att elementvis multiplikation <strong>inte</strong> är samma som det som betecknas matrismultiplikation. Det är naturligtvis inga problem att i R använda matrismultiplikation, men detta går utöver kursens mål.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Addera element i matris 1 med element i matris 3</span></a>
<a class="sourceLine" id="cb54-2" title="2"><span class="er">&gt;</span><span class="st"> </span>m1 <span class="op">+</span><span class="st"> </span>m3</a>
<a class="sourceLine" id="cb54-3" title="3"><span class="op">&gt;</span><span class="st">   </span>[,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</a>
<a class="sourceLine" id="cb54-4" title="4"><span class="op">&gt;</span><span class="st"> </span>x    <span class="dv">6</span>    <span class="dv">2</span>    <span class="dv">2</span>   <span class="dv">10</span>    <span class="dv">0</span></a>
<a class="sourceLine" id="cb54-5" title="5"><span class="op">&gt;</span><span class="st"> </span>y    <span class="dv">5</span>   <span class="ot">NA</span>   <span class="dv">11</span>    <span class="dv">9</span>   <span class="dv">15</span></a>
<a class="sourceLine" id="cb54-6" title="6"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Multiplicera element i matris 1 med element i matris 3. OBS! Detta är inte matrismultiplikation!</span></a>
<a class="sourceLine" id="cb54-7" title="7"><span class="er">&gt;</span><span class="st"> </span>m1 <span class="op">*</span><span class="st"> </span>m3</a>
<a class="sourceLine" id="cb54-8" title="8"><span class="op">&gt;</span><span class="st">   </span>[,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</a>
<a class="sourceLine" id="cb54-9" title="9"><span class="op">&gt;</span><span class="st"> </span>x    <span class="dv">9</span>    <span class="dv">1</span>    <span class="dv">1</span>   <span class="dv">25</span>    <span class="dv">0</span></a>
<a class="sourceLine" id="cb54-10" title="10"><span class="op">&gt;</span><span class="st"> </span>y    <span class="dv">6</span>   <span class="ot">NA</span>   <span class="dv">30</span>   <span class="dv">18</span>   <span class="dv">54</span></a>
<a class="sourceLine" id="cb54-11" title="11"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Dividera element i matris 1 med en konstant n</span></a>
<a class="sourceLine" id="cb54-12" title="12"><span class="er">&gt;</span><span class="st"> </span>m1 <span class="op">/</span><span class="st"> </span>n</a>
<a class="sourceLine" id="cb54-13" title="13"><span class="op">&gt;</span><span class="st">         </span>[,<span class="dv">1</span>]        [,<span class="dv">2</span>]        [,<span class="dv">3</span>]       [,<span class="dv">4</span>] [,<span class="dv">5</span>]</a>
<a class="sourceLine" id="cb54-14" title="14"><span class="op">&gt;</span><span class="st"> </span>x <span class="fl">0.02000000</span> <span class="fl">0.006666667</span> <span class="fl">0.006666667</span> <span class="fl">0.03333333</span> <span class="fl">0.00</span></a>
<a class="sourceLine" id="cb54-15" title="15"><span class="op">&gt;</span><span class="st"> </span>y <span class="fl">0.01333333</span> <span class="fl">0.020000000</span> <span class="fl">0.033333333</span> <span class="fl">0.04000000</span> <span class="fl">0.06</span></a></code></pre></div>
<p>Spara <strong>dataobjects.R</strong>.</p>
<p>Det går att tillämpa logiska operatorer även på matriser, men den extra dimensionen gör detta omständligt. Därför introduceras en tredje typ av dataobjekt som är enklare att arbeta med.</p>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Data frames</h3>
<p>En <strong>data frame</strong> är det vanligaste objektet för dataanlys. En data frame har likheter med matriser eftersom den har två dimensioner (rader och kolumner), men kan innehålla element med olika datatyper, t ex både numeriska värden och bokstäver. Vidare innehåller en data frame ytterligare information som <strong>variabelnamn</strong> och <strong>variabeltyp</strong>.</p>
<p>För att skapa en data frame används <strong>data.frame()</strong> och vi ska nu se på några exempel. Observera att en data frame även anger information om radnummer. Dessa nummer är dock inte definierade som en sepearat kolumn.</p>
<p>Skriv nedanstående kod i <strong>dataobjects.R</strong>.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa en data frame genom att ange vektorer </span></a>
<a class="sourceLine" id="cb55-2" title="2"><span class="er">&gt;</span><span class="st"> </span>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(x, y, nordic_countries)</a>
<a class="sourceLine" id="cb55-3" title="3"><span class="op">&gt;</span><span class="st"> </span>df</a>
<a class="sourceLine" id="cb55-4" title="4"><span class="op">&gt;</span><span class="st">   </span>x y nordic_countries</a>
<a class="sourceLine" id="cb55-5" title="5"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark</a>
<a class="sourceLine" id="cb55-6" title="6"><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland</a>
<a class="sourceLine" id="cb55-7" title="7"><span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland</a>
<a class="sourceLine" id="cb55-8" title="8"><span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway</a>
<a class="sourceLine" id="cb55-9" title="9"><span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden</a>
<a class="sourceLine" id="cb55-10" title="10"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa en data frame genom ange transformera en matris.</span></a>
<a class="sourceLine" id="cb55-11" title="11"><span class="er">&gt;</span><span class="st"> </span><span class="kw">data.frame</span>(m1)</a>
<a class="sourceLine" id="cb55-12" title="12"><span class="op">&gt;</span><span class="st">   </span>X1 X2 X3 X4 X5</a>
<a class="sourceLine" id="cb55-13" title="13"><span class="op">&gt;</span><span class="st"> </span>x  <span class="dv">3</span>  <span class="dv">1</span>  <span class="dv">1</span>  <span class="dv">5</span>  <span class="dv">0</span></a>
<a class="sourceLine" id="cb55-14" title="14"><span class="op">&gt;</span><span class="st"> </span>y  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">9</span></a></code></pre></div>
<p>För åtkomst till element finns nu flera alternativ. Dels kan används precis som förut ´[]´, dels finns nu möjlighet att använda <code>$</code> för att komma åt data genom att använda variabelnamn. I nedanstående kod jämförs de bägge metoderna.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa kolumn 3 </span></a>
<a class="sourceLine" id="cb56-2" title="2"><span class="er">&gt;</span><span class="st"> </span>df[<span class="dv">2</span>,<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb56-3" title="3"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">1</span></a>
<a class="sourceLine" id="cb56-4" title="4"><span class="op">&gt;</span><span class="st"> </span>df<span class="op">$</span>x[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb56-5" title="5"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">1</span></a>
<a class="sourceLine" id="cb56-6" title="6"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Visa värdet i rad 2 och kolumn 1 </span></a>
<a class="sourceLine" id="cb56-7" title="7"><span class="er">&gt;</span><span class="st"> </span>df[,<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb56-8" title="8"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] Denmark Finland Iceland Norway  Sweden </a>
<a class="sourceLine" id="cb56-9" title="9"><span class="op">&gt;</span><span class="st"> </span>Levels<span class="op">:</span><span class="st"> </span>Denmark Finland Iceland Norway Sweden</a>
<a class="sourceLine" id="cb56-10" title="10"><span class="op">&gt;</span><span class="st"> </span>df<span class="op">$</span>nordic_countries</a>
<a class="sourceLine" id="cb56-11" title="11"><span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] Denmark Finland Iceland Norway  Sweden </a>
<a class="sourceLine" id="cb56-12" title="12"><span class="op">&gt;</span><span class="st"> </span>Levels<span class="op">:</span><span class="st"> </span>Denmark Finland Iceland Norway Sweden</a></code></pre></div>
<p>Vi kan enkelt addera nya kolumner till en data frame.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Ursprungligt data frame</span></a>
<a class="sourceLine" id="cb57-2" title="2"><span class="er">&gt;</span><span class="st"> </span>df</a>
<a class="sourceLine" id="cb57-3" title="3"><span class="op">&gt;</span><span class="st">   </span>x y nordic_countries</a>
<a class="sourceLine" id="cb57-4" title="4"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark</a>
<a class="sourceLine" id="cb57-5" title="5"><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland</a>
<a class="sourceLine" id="cb57-6" title="6"><span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland</a>
<a class="sourceLine" id="cb57-7" title="7"><span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway</a>
<a class="sourceLine" id="cb57-8" title="8"><span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden</a>
<a class="sourceLine" id="cb57-9" title="9"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa variabeln sample_size baserat på n som bara har ett värde</span></a>
<a class="sourceLine" id="cb57-10" title="10"><span class="er">&gt;</span><span class="st"> </span>df<span class="op">$</span>sample_size &lt;-<span class="st"> </span>n</a>
<a class="sourceLine" id="cb57-11" title="11"><span class="op">&gt;</span><span class="st"> </span>df</a>
<a class="sourceLine" id="cb57-12" title="12"><span class="op">&gt;</span><span class="st">   </span>x y nordic_countries sample_size</a>
<a class="sourceLine" id="cb57-13" title="13"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">150</span></a>
<a class="sourceLine" id="cb57-14" title="14"><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span></a>
<a class="sourceLine" id="cb57-15" title="15"><span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span></a>
<a class="sourceLine" id="cb57-16" title="16"><span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span></a>
<a class="sourceLine" id="cb57-17" title="17"><span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span></a>
<a class="sourceLine" id="cb57-18" title="18"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa en variabel som heter ysq baserat på y i samma data frame.</span></a>
<a class="sourceLine" id="cb57-19" title="19"><span class="er">&gt;</span><span class="st"> </span>df<span class="op">$</span>ysq &lt;-<span class="st"> </span>df<span class="op">$</span>y<span class="op">^</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb57-20" title="20"><span class="op">&gt;</span><span class="st"> </span>df</a>
<a class="sourceLine" id="cb57-21" title="21"><span class="op">&gt;</span><span class="st">   </span>x y nordic_countries sample_size ysq</a>
<a class="sourceLine" id="cb57-22" title="22"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">150</span>   <span class="dv">4</span></a>
<a class="sourceLine" id="cb57-23" title="23"><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span></a>
<a class="sourceLine" id="cb57-24" title="24"><span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span></a>
<a class="sourceLine" id="cb57-25" title="25"><span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span></a>
<a class="sourceLine" id="cb57-26" title="26"><span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span></a>
<a class="sourceLine" id="cb57-27" title="27"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa en tom variabel som heter x_cat</span></a>
<a class="sourceLine" id="cb57-28" title="28"><span class="er">&gt;</span><span class="st"> </span>df<span class="op">$</span>x_cat &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb57-29" title="29"><span class="op">&gt;</span><span class="st"> </span>df</a>
<a class="sourceLine" id="cb57-30" title="30"><span class="op">&gt;</span><span class="st">   </span>x y nordic_countries sample_size ysq x_cat</a>
<a class="sourceLine" id="cb57-31" title="31"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">150</span>   <span class="dv">4</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb57-32" title="32"><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb57-33" title="33"><span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb57-34" title="34"><span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb57-35" title="35"><span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span>    <span class="ot">NA</span></a></code></pre></div>
<p>Genom att kombinera <code>$</code> förenklas användningen av de logiska operatorerna och det är enkelt att transformera variabler och även skapa mindre data frames.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Ändra värdet på sample_size för Danmark från 150 till 300</span></a>
<a class="sourceLine" id="cb58-2" title="2"><span class="er">&gt;</span><span class="st"> </span>df<span class="op">$</span>sample_size[df<span class="op">$</span>nordic_countries <span class="op">==</span><span class="st"> &quot;Denmark&quot;</span>] &lt;-<span class="st"> </span><span class="dv">300</span></a>
<a class="sourceLine" id="cb58-3" title="3"><span class="op">&gt;</span><span class="st"> </span>df</a>
<a class="sourceLine" id="cb58-4" title="4"><span class="op">&gt;</span><span class="st">   </span>x y nordic_countries sample_size ysq x_cat</a>
<a class="sourceLine" id="cb58-5" title="5"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">300</span>   <span class="dv">4</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb58-6" title="6"><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb58-7" title="7"><span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb58-8" title="8"><span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb58-9" title="9"><span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb58-10" title="10"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Ändra värden från NA till 1 i x_cat om x är större än 2</span></a>
<a class="sourceLine" id="cb58-11" title="11"><span class="er">&gt;</span><span class="st"> </span>df<span class="op">$</span>x_cat[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb58-12" title="12"><span class="op">&gt;</span><span class="st"> </span>df</a>
<a class="sourceLine" id="cb58-13" title="13"><span class="op">&gt;</span><span class="st">   </span>x y nordic_countries sample_size ysq x_cat</a>
<a class="sourceLine" id="cb58-14" title="14"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">300</span>   <span class="dv">4</span>     <span class="dv">1</span></a>
<a class="sourceLine" id="cb58-15" title="15"><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb58-16" title="16"><span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb58-17" title="17"><span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span>     <span class="dv">1</span></a>
<a class="sourceLine" id="cb58-18" title="18"><span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span>    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb58-19" title="19"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Ändra värden från NA till 0 i x_cat om x är mindre än eller lika 2</span></a>
<a class="sourceLine" id="cb58-20" title="20"><span class="er">&gt;</span><span class="st"> </span>df<span class="op">$</span>x_cat[x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb58-21" title="21"><span class="op">&gt;</span><span class="st"> </span>df</a>
<a class="sourceLine" id="cb58-22" title="22"><span class="op">&gt;</span><span class="st">   </span>x y nordic_countries sample_size ysq x_cat</a>
<a class="sourceLine" id="cb58-23" title="23"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">300</span>   <span class="dv">4</span>     <span class="dv">1</span></a>
<a class="sourceLine" id="cb58-24" title="24"><span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span> <span class="dv">1</span> <span class="dv">3</span>          Finland         <span class="dv">150</span>   <span class="dv">9</span>     <span class="dv">0</span></a>
<a class="sourceLine" id="cb58-25" title="25"><span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> <span class="dv">1</span> <span class="dv">5</span>          Iceland         <span class="dv">150</span>  <span class="dv">25</span>     <span class="dv">0</span></a>
<a class="sourceLine" id="cb58-26" title="26"><span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span>     <span class="dv">1</span></a>
<a class="sourceLine" id="cb58-27" title="27"><span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span> <span class="dv">0</span> <span class="dv">9</span>           Sweden         <span class="dv">150</span>  <span class="dv">81</span>     <span class="dv">0</span></a>
<a class="sourceLine" id="cb58-28" title="28"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa ett nytt data frame bestående av bara rader där x_cat är lika med 1</span></a>
<a class="sourceLine" id="cb58-29" title="29"><span class="er">&gt;</span><span class="st"> </span>df1 &lt;-<span class="st"> </span>df[df<span class="op">$</span>x_cat <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, ]</a>
<a class="sourceLine" id="cb58-30" title="30"><span class="op">&gt;</span><span class="st"> </span>df1</a>
<a class="sourceLine" id="cb58-31" title="31"><span class="op">&gt;</span><span class="st">   </span>x y nordic_countries sample_size ysq x_cat</a>
<a class="sourceLine" id="cb58-32" title="32"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="dv">3</span> <span class="dv">2</span>          Denmark         <span class="dv">300</span>   <span class="dv">4</span>     <span class="dv">1</span></a>
<a class="sourceLine" id="cb58-33" title="33"><span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span>           Norway         <span class="dv">150</span>  <span class="dv">36</span>     <span class="dv">1</span></a></code></pre></div>
<p>Spara <strong>dataobjects.R</strong>.</p>
<style>
div.green{ background-color:#abd4b3; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<p><font size="5"> </font>
<img src="docs/images/important.png" width="5%" /></p>
<p>Det är ett moment som är väldigt viktigt i R och som inledningsvis tar tid att lära. Det är av förklarliga skäl ett oerhört viktigt moment i dataanalys och något varje användare måste vara trygg med. Det finns alternativa sätt arbeta med data i R och ofta kan samma resultat erhållas med olika lösningar. Vad som presentas här är är ett alternativ. Datahanteringen är ofta en tidskrävande del i statistisk undersökning och stor noggrannhet är viktigt. Det går inte att tillräckligt betona hur betydelsefull datahanteringen är i en undersökning. En korrekt analys kräver ju korrekt data.</p>
<p>Det är viktigt att arbeta med data och lära sig hantera data.
DEt finns ofta flera lösningar, men på denna kurs rekommenderas starkt att ni följer de lösingar som presenteras här. Visserligen är de inte effektivast, varken i termer av beräkningstid eller längd på kod, men det är ett transparent sätt att jobba. Ni minimerar även risken för att det blir.</p>
<p>Exemplen här täcker även inte alla fall som ni kan tänkas stöta på när ni arbetar med komplicerade datamängder antingen i senare studier eller i arbetslivet. Men ni kan hantera de vanligaste typerna av datahantering som man stöter på.</p>
</div>
</div>
</div>
<div id="funktioner" class="section level2">
<h2><span class="header-section-number">3.3</span> Funktioner</h2>
<p>En funktion utför operationer på objekt. Oftast sparas sedan resultatet som ett nytt objekt. Genom att ändra argument kan man anpassa vad funktionen gör. Börja med att skriva in nedanstående tre vektorer.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1"><span class="co"># Skapar två numeriska vektorer</span></a>
<a class="sourceLine" id="cb59-2" title="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb59-3" title="3">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">9</span>)</a>
<a class="sourceLine" id="cb59-4" title="4">ymis &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>, <span class="ot">NA</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">6</span>)</a></code></pre></div>
<p>Skriv därefter in nedanstående kod, spara och kör.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" title="1"><span class="co"># Funktion för att summera värdera i en vektor</span></a>
<a class="sourceLine" id="cb60-2" title="2"><span class="kw">sum</span>(x)</a></code></pre></div>
<pre><code>[1] 10</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" title="1"><span class="co"># length() beräknar antalet element i en vektor och spara i objektet n</span></a>
<a class="sourceLine" id="cb62-2" title="2">n &lt;-<span class="st"> </span><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb62-3" title="3">n</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" title="1"><span class="co"># Beräkna medelvärdet av en vektor</span></a>
<a class="sourceLine" id="cb64-2" title="2">xbar &lt;-<span class="st"> </span><span class="kw">sum</span>(x)<span class="op">/</span>n</a>
<a class="sourceLine" id="cb64-3" title="3">xbar</a>
<a class="sourceLine" id="cb64-4" title="4"></a>
<a class="sourceLine" id="cb64-5" title="5"><span class="co"># Beräkna stickprovsvarians s^2</span></a>
<a class="sourceLine" id="cb64-6" title="6">s2 &lt;-<span class="st"> </span><span class="kw">sum</span>( (x <span class="op">-</span><span class="st"> </span>xbar)<span class="op">^</span><span class="dv">2</span> )<span class="op">/</span>(n <span class="dv">-1</span>)</a>
<a class="sourceLine" id="cb64-7" title="7">s2</a>
<a class="sourceLine" id="cb64-8" title="8"></a>
<a class="sourceLine" id="cb64-9" title="9"><span class="co"># Funktioner för medelvärdet och stickprovsvarians. Jämfört med resultat ovan</span></a>
<a class="sourceLine" id="cb64-10" title="10"><span class="kw">mean</span>(x)</a>
<a class="sourceLine" id="cb64-11" title="11"><span class="kw">var</span>(x)</a>
<a class="sourceLine" id="cb64-12" title="12"></a>
<a class="sourceLine" id="cb64-13" title="13"><span class="co"># Skapa en vektor som repeterar ett värde </span></a>
<a class="sourceLine" id="cb64-14" title="14">z &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">3</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb64-15" title="15">z</a>
<a class="sourceLine" id="cb64-16" title="16"></a>
<a class="sourceLine" id="cb64-17" title="17"><span class="co"># Funktion som skapar en sekvens från 2 till 3 med steglängd 0.25</span></a>
<a class="sourceLine" id="cb64-18" title="18">w &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">2</span>, <span class="dt">to =</span> <span class="dv">3</span>, <span class="dt">by =</span> <span class="fl">0.25</span>)</a>
<a class="sourceLine" id="cb64-19" title="19">w</a>
<a class="sourceLine" id="cb64-20" title="20"></a>
<a class="sourceLine" id="cb64-21" title="21"><span class="co"># Skapa en en vektor av element som repeterats </span></a>
<a class="sourceLine" id="cb64-22" title="22">r &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="kw">rep</span>(<span class="dv">4</span>, <span class="dv">2</span>), <span class="kw">rep</span>(<span class="dv">9</span>, <span class="dv">10</span>))</a>
<a class="sourceLine" id="cb64-23" title="23">r</a>
<a class="sourceLine" id="cb64-24" title="24"></a>
<a class="sourceLine" id="cb64-25" title="25"><span class="co"># Summan av ymis blir NA eftersom 3 + NA + 6 + 3 + 6 blir NA.</span></a>
<a class="sourceLine" id="cb64-26" title="26"><span class="kw">sum</span>(ymis) </a>
<a class="sourceLine" id="cb64-27" title="27"></a>
<a class="sourceLine" id="cb64-28" title="28"><span class="co"># Funktionen help() ger en beskrivning av vad en funktion gör</span></a>
<a class="sourceLine" id="cb64-29" title="29"><span class="kw">help</span>(sum)</a></code></pre></div>
<pre><code>## starting httpd help server ... done</code></pre>
<p>I hjälpfilen står under <em>Usage</em> <code>sum(..., na.rm = FALSE)</code>. och under <em>Arguments</em> <code>...  numeric or complex or logical vectors.</code> samt <code>na.rm  logical. Should missing values (including NaN) be removed?</code>. Grundinställningen (default) är FALSE, det vill säga <code>NA</code> inkluderas i funktionen. För ta bort missing valus väljs <code>na.rm=TRUE</code></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" title="1"><span class="co"># Genom att använda argumentet na.rm exkluderas NA</span></a>
<a class="sourceLine" id="cb66-2" title="2"><span class="kw">sum</span>(ymis, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb66-3" title="3">[<span class="dv">1</span>] <span class="dv">18</span></a></code></pre></div>
<p>Hjälpfilerna är ofta svår att förstå, men exemplen längst ner i hjälpfilerna är i regel klargörande.</p>
<p>Funktioner smo är vanliga att använda är funker</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="kw">hist</span>(x)</a></code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-80-1.png" width="672" /></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" title="1"><span class="op">&gt;</span><span class="st"> </span><span class="kw">plot</span>(x, y)</a></code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-80-2.png" width="672" /></p>
<p>Det är enkelt att skapa egna funktioner i R och vilket är styrka.</p>
<p>Avslutningsvis finns det par viktiga funktioner för att hantera dataobjekt.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" title="1"><span class="co"># Funktionen ls() listar alla objekt i minnet</span></a>
<a class="sourceLine" id="cb69-2" title="2"><span class="kw">ls</span>()</a>
<a class="sourceLine" id="cb69-3" title="3"> [<span class="dv">1</span>] <span class="st">&quot;df&quot;</span>                 <span class="st">&quot;df1&quot;</span>                <span class="st">&quot;m1&quot;</span>                </a>
<a class="sourceLine" id="cb69-4" title="4"> [<span class="dv">4</span>] <span class="st">&quot;m2&quot;</span>                 <span class="st">&quot;m3&quot;</span>                 <span class="st">&quot;m4&quot;</span>                </a>
<a class="sourceLine" id="cb69-5" title="5"> [<span class="dv">7</span>] <span class="st">&quot;m5&quot;</span>                 <span class="st">&quot;my__first_vec&quot;</span>      <span class="st">&quot;n&quot;</span>                 </a>
<a class="sourceLine" id="cb69-6" title="6">[<span class="dv">10</span>] <span class="st">&quot;nordic_countries&quot;</span>   <span class="st">&quot;r&quot;</span>                  <span class="st">&quot;s2&quot;</span>                </a>
<a class="sourceLine" id="cb69-7" title="7">[<span class="dv">13</span>] <span class="st">&quot;v&quot;</span>                  <span class="st">&quot;w&quot;</span>                  <span class="st">&quot;x&quot;</span>                 </a>
<a class="sourceLine" id="cb69-8" title="8">[<span class="dv">16</span>] <span class="st">&quot;x_nordic_countries&quot;</span> <span class="st">&quot;xbar&quot;</span>               <span class="st">&quot;y&quot;</span>                 </a>
<a class="sourceLine" id="cb69-9" title="9">[<span class="dv">19</span>] <span class="st">&quot;ymis&quot;</span>               <span class="st">&quot;ysub&quot;</span>               <span class="st">&quot;z&quot;</span>                 </a>
<a class="sourceLine" id="cb69-10" title="10"><span class="co"># Funktionen rm() raderar ett objekt</span></a>
<a class="sourceLine" id="cb69-11" title="11"><span class="kw">rm</span>(y)</a>
<a class="sourceLine" id="cb69-12" title="12"><span class="co"># Se om objektet y finns kvar</span></a>
<a class="sourceLine" id="cb69-13" title="13"><span class="kw">ls</span>()</a>
<a class="sourceLine" id="cb69-14" title="14"> [<span class="dv">1</span>] <span class="st">&quot;df&quot;</span>                 <span class="st">&quot;df1&quot;</span>                <span class="st">&quot;m1&quot;</span>                </a>
<a class="sourceLine" id="cb69-15" title="15"> [<span class="dv">4</span>] <span class="st">&quot;m2&quot;</span>                 <span class="st">&quot;m3&quot;</span>                 <span class="st">&quot;m4&quot;</span>                </a>
<a class="sourceLine" id="cb69-16" title="16"> [<span class="dv">7</span>] <span class="st">&quot;m5&quot;</span>                 <span class="st">&quot;my__first_vec&quot;</span>      <span class="st">&quot;n&quot;</span>                 </a>
<a class="sourceLine" id="cb69-17" title="17">[<span class="dv">10</span>] <span class="st">&quot;nordic_countries&quot;</span>   <span class="st">&quot;r&quot;</span>                  <span class="st">&quot;s2&quot;</span>                </a>
<a class="sourceLine" id="cb69-18" title="18">[<span class="dv">13</span>] <span class="st">&quot;v&quot;</span>                  <span class="st">&quot;w&quot;</span>                  <span class="st">&quot;x&quot;</span>                 </a>
<a class="sourceLine" id="cb69-19" title="19">[<span class="dv">16</span>] <span class="st">&quot;x_nordic_countries&quot;</span> <span class="st">&quot;xbar&quot;</span>               <span class="st">&quot;ymis&quot;</span>              </a>
<a class="sourceLine" id="cb69-20" title="20">[<span class="dv">19</span>] <span class="st">&quot;ysub&quot;</span>               <span class="st">&quot;z&quot;</span>                 </a></code></pre></div>
<p>Spara återigen scriptet. Stäng R.</p>
<p>För att <strong>radera alla objekt</strong> används kommandot <code>rm(list = ls())</code>. Var försiktig med denna funktion eftersom allt försvinner! Emellertid kan det vara en god idé inleda en dataanlys med denna kod för att säkerställa att minnet är tomt innan data läses in och analyser görs så att konflkter mellan objekt inte uppstår.</p>
<hr />
</div>
<div id="sammanfattning-2" class="section level2">
<h2><span class="header-section-number">3.4</span> Sammanfattning</h2>
<style>
div.red{ background-color:#F5B7B1; border-radius: 5px; padding: 20px;}
</style>
<div class="red">
<p><font size="5"> </font>
Du ska kunna</p>
<ul>
<li>installera R och Rstudio och starta det utan felmeddelanden.</li>
<li>använda R som miniräknare och använda de olika metoderna för att exekvera kod i editorn.</li>
<li>installera ett R-paket och aktivera det.</li>
</ul>
</div>
<hr />
</div>
<div id="övningar-1" class="section level2">
<h2><span class="header-section-number">3.5</span> Övningar</h2>
<div id="övning-2.1-1" class="section level3 unnumbered">
<h3>Övning 2.1</h3>
<p>Du har ett stickprov betående av observationerna <span class="math inline">\(4,-2,5,6,8\)</span>.</p>
<ol style="list-style-type: lower-alpha">
<li>Beräkna medelvärdet.</li>
<li>Beräkna standardavvikelsen.</li>
<li>Beräkna variationsbredden.</li>
<li>Beräkna det geometriska medelvärdet för de positiva värden <span class="math inline">\(4, 5, 6, 8\)</span>.</li>
<li>Beräkna det geometriska medelvärdet för alla värden <span class="math inline">\(4, -2, 5, 6, 8\)</span>.</li>
</ol>
</div>
<div id="svar-2.1-1" class="section level3 unnumbered">
<h3>Svar 2.1</h3>
<ol style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">8</span>)</a>
<a class="sourceLine" id="cb70-2" title="2"><span class="kw">mean</span>(x)</a>
<a class="sourceLine" id="cb70-3" title="3">[<span class="dv">1</span>] <span class="fl">4.2</span></a></code></pre></div>
<ul>
<li>Svar: Medelvärdet är 4.2</li>
</ul>
<ol start="2" style="list-style-type: lower-alpha">
<li>Standardavvikelsen <span class="math inline">\(s\)</span> beräknas i R i editorn antingen genom att direkt tillämpa formeln för stickprovets standardavvikelse</li>
</ol>
<p><span class="math display">\[s=\sqrt{\dfrac{\sum_{i=1}^n (x_i -\bar{x})^2}{n-1}}\]</span></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" title="1"><span class="kw">sd</span>(x)</a>
<a class="sourceLine" id="cb71-2" title="2">[<span class="dv">1</span>] <span class="fl">3.768289</span></a></code></pre></div>
<ul>
<li>Svar: Standardavvikelsen är 3.768</li>
</ul>
<ol start="3" style="list-style-type: lower-alpha">
<li>Variationsbredden, dvs skillnaden mellan det största och det minsta värdet är</li>
</ol>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" title="1"><span class="kw">max</span>(x) <span class="op">-</span><span class="st"> </span><span class="kw">min</span>(x)</a></code></pre></div>
<pre><code>## [1] 10</code></pre>
<ul>
<li>Svar: Variationsbredden är är 10.</li>
</ul>
<ol start="4" style="list-style-type: lower-alpha">
<li>Det geometriska medelvärdet <span class="math display">\[\bar{x}_g=(x_1\cdot x_2 \cdot \cdots \cdot x_n)^{1/n}\]</span> kan i R beräknas med</li>
</ol>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" title="1"><span class="co"># Välj enbart positiva värden</span></a>
<a class="sourceLine" id="cb74-2" title="2">xpos &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb74-3" title="3">xpos[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>] &lt;-<span class="st"> </span>x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>] </a>
<a class="sourceLine" id="cb74-4" title="4"><span class="co"># Du kan beräkna det geometriska medelvärdet med</span></a>
<a class="sourceLine" id="cb74-5" title="5"><span class="kw">exp</span>( <span class="kw">mean</span>(<span class="kw">log</span>(xpos)) )</a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" title="1"><span class="co"># Alternativt kan du funktionen geometric.mean() </span></a>
<a class="sourceLine" id="cb76-2" title="2"><span class="co"># i paketet psych. Aktivera paketet och beräkna.</span></a>
<a class="sourceLine" id="cb76-3" title="3"><span class="kw">library</span>(<span class="st">&quot;psych&quot;</span>)</a>
<a class="sourceLine" id="cb76-4" title="4"><span class="kw">geometric.mean</span>(xpos)</a></code></pre></div>
<pre><code>## [1] 5.566315</code></pre>
<ul>
<li>Svar: Det geometriska medelvärdet är 3.95.</li>
</ul>
<ol start="5" style="list-style-type: lower-alpha">
<li>Det geometriska medelvärdet <span class="math display">\[\bar{x}_g=(x_1\cdot x_2 \cdot \cdots \cdot x_n)^{1/n}\]</span> kan i R beräknas med</li>
</ol>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" title="1">(<span class="dv">4</span>  <span class="op">*</span><span class="st"> </span>(<span class="op">-</span><span class="dv">2</span>) <span class="op">*</span><span class="st"> </span><span class="dv">5</span> <span class="op">*</span><span class="st"> </span><span class="dv">6</span> <span class="op">*</span><span class="st"> </span><span class="dv">8</span>)<span class="op">^</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<ul>
<li>Svar: Eftersom en observation är negativ blir NaN, vilket betyder ‘’Not a Number’’. Det går alltså inte att beräkna.</li>
</ul>
</div>
<div id="övning-2.2-1" class="section level3 unnumbered">
<h3>Övning 2.2</h3>
<p>Ett slumpmässigt urval ger följande observationer <span class="math inline">\(0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1\)</span>,där <span class="math inline">\(1=Arbetslös\)</span> och <span class="math inline">\(0=Förvärvsarbetande\)</span>.
Beräkna andelen arbetslösa i stickprovet.</p>
</div>
<div id="svar-2.2-1" class="section level3 unnumbered">
<h3>Svar 2.2</h3>
<p>Andelen arbetslösa beräkna i R med</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" title="1">(<span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">0</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="op">/</span><span class="dv">13</span> </a></code></pre></div>
<pre><code>## [1] 0.3846154</code></pre>
<ul>
<li>Svar: Andelen arbetslösa i stickprovet är 0.38.</li>
</ul>
</div>
<div id="övning-2.3-1" class="section level3 unnumbered">
<h3>Övning 2.3</h3>
<p>Kosumentpriset 2006-2011 är</p>
<table>
<caption><span id="tab:unnamed-chunk-88">Table 3.1: </span>Konsumentprisindex (KPI) 2006-2011</caption>
<tbody>
<tr class="odd">
<td align="right">2006</td>
<td align="right">284.2</td>
</tr>
<tr class="even">
<td align="right">2007</td>
<td align="right">290.5</td>
</tr>
<tr class="odd">
<td align="right">2008</td>
<td align="right">300.6</td>
</tr>
<tr class="even">
<td align="right">2009</td>
<td align="right">299.7</td>
</tr>
<tr class="odd">
<td align="right">2010</td>
<td align="right">303.5</td>
</tr>
<tr class="even">
<td align="right">2011</td>
<td align="right">311.4</td>
</tr>
</tbody>
</table>
<p>Med hur många procent har prisnivån förändrats från 2007 till 2010?</p>
</div>
<div id="svar-2.3-1" class="section level3 unnumbered">
<h3>Svar 2.3</h3>
<p>Beräkning i R ger</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" title="1"><span class="fl">303.46</span><span class="op">/</span><span class="fl">290.51</span></a></code></pre></div>
<pre><code>## [1] 1.044577</code></pre>
<ul>
<li>Svar: Prisnivån har ökat med 4.5%.</li>
</ul>
</div>
<div id="övning-2.4-1" class="section level3 unnumbered">
<h3>Övning 2.4</h3>
<p>Denna övningar handlar om potentslagarna. Då <span class="math inline">\(x\)</span> och <span class="math inline">\(y\)</span> är reella och <span class="math inline">\(a,b&gt;0\)</span> gäller följande likheter:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(a^x\cdot a^y=a^{x+y}\)</span></li>
<li><span class="math inline">\((a^x)^y=a^{xy}\)</span></li>
<li><span class="math inline">\(\left(\frac{a}{b}\right)^x=\frac{a^x}{b^x}\)</span></li>
<li><span class="math inline">\(\frac{a^x}{a^y}=a^{x-y}\)</span></li>
<li><span class="math inline">\(a^x \cdot b^x=(ab)^x\)</span></li>
<li><span class="math inline">\(a^0=1\)</span></li>
</ol>
<p>Beräkna nedanstående uttryck relatera svaren till potenslagarna.</p>
<ol style="list-style-type: lower-alpha">
<li><span class="math inline">\(4^2 + 4^3\)</span></li>
<li><span class="math inline">\(4^2*4^3\)</span></li>
<li><span class="math inline">\(4^5\)</span></li>
<li><span class="math inline">\((4^2)^3\)</span></li>
<li><span class="math inline">\(4^15\)</span></li>
<li><span class="math inline">\(4^2/4^3\)</span></li>
<li><span class="math inline">\(4^{-1}\)</span></li>
<li><span class="math inline">\(4^{-2}\)</span></li>
<li><span class="math inline">\(1/(4^2)\)</span></li>
<li><span class="math inline">\(1/16\)</span></li>
<li><span class="math inline">\(3^4*4^4\)</span></li>
<li><span class="math inline">\(12^4\)</span></li>
</ol>
</div>
<div id="svar-2.4-1" class="section level3 unnumbered">
<h3>Svar 2.4</h3>
<p>I R kan uttrycken enkelt beräknas.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" title="1"><span class="dv">4</span><span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span><span class="op">^</span><span class="dv">3</span></a>
<a class="sourceLine" id="cb84-2" title="2">[<span class="dv">1</span>] <span class="dv">80</span></a>
<a class="sourceLine" id="cb84-3" title="3"><span class="dv">4</span><span class="op">^</span><span class="dv">2</span><span class="op">*</span><span class="dv">4</span><span class="op">^</span><span class="dv">3</span></a>
<a class="sourceLine" id="cb84-4" title="4">[<span class="dv">1</span>] <span class="dv">1024</span></a>
<a class="sourceLine" id="cb84-5" title="5"><span class="dv">4</span><span class="op">^</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb84-6" title="6">[<span class="dv">1</span>] <span class="dv">1024</span></a>
<a class="sourceLine" id="cb84-7" title="7">(<span class="dv">4</span><span class="op">^</span><span class="dv">2</span>)<span class="op">^</span><span class="dv">3</span></a>
<a class="sourceLine" id="cb84-8" title="8">[<span class="dv">1</span>] <span class="dv">4096</span></a>
<a class="sourceLine" id="cb84-9" title="9"><span class="dv">4</span><span class="op">^</span><span class="dv">15</span></a>
<a class="sourceLine" id="cb84-10" title="10">[<span class="dv">1</span>] <span class="dv">1073741824</span></a>
<a class="sourceLine" id="cb84-11" title="11"><span class="dv">4</span><span class="op">^</span><span class="dv">2</span><span class="op">/</span><span class="dv">4</span><span class="op">^</span><span class="dv">3</span></a>
<a class="sourceLine" id="cb84-12" title="12">[<span class="dv">1</span>] <span class="fl">0.25</span></a>
<a class="sourceLine" id="cb84-13" title="13"><span class="dv">4</span><span class="op">^</span>{<span class="op">-</span><span class="dv">1</span>}</a>
<a class="sourceLine" id="cb84-14" title="14">[<span class="dv">1</span>] <span class="fl">0.25</span></a>
<a class="sourceLine" id="cb84-15" title="15"><span class="dv">4</span><span class="op">^</span>{<span class="op">-</span><span class="dv">2</span>}</a>
<a class="sourceLine" id="cb84-16" title="16">[<span class="dv">1</span>] <span class="fl">0.0625</span></a>
<a class="sourceLine" id="cb84-17" title="17"><span class="dv">1</span><span class="op">/</span>(<span class="dv">4</span><span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb84-18" title="18">[<span class="dv">1</span>] <span class="fl">0.0625</span></a>
<a class="sourceLine" id="cb84-19" title="19"><span class="dv">1</span><span class="op">/</span><span class="dv">16</span></a>
<a class="sourceLine" id="cb84-20" title="20">[<span class="dv">1</span>] <span class="fl">0.0625</span></a>
<a class="sourceLine" id="cb84-21" title="21"><span class="dv">3</span><span class="op">^</span><span class="dv">4</span><span class="op">*</span><span class="dv">4</span><span class="op">^</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb84-22" title="22">[<span class="dv">1</span>] <span class="dv">20736</span></a>
<a class="sourceLine" id="cb84-23" title="23"><span class="dv">12</span><span class="op">^</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb84-24" title="24">[<span class="dv">1</span>] <span class="dv">20736</span></a></code></pre></div>
<p>Vi ser att för <span class="math inline">\(b= c\)</span> pga 1. <span class="math inline">\(d= e\)</span> pga 2. <span class="math inline">\(k=l\)</span> pga 5. Vidare gäller…</p>
</div>
<div id="övning-2.5-1" class="section level3 unnumbered">
<h3>Övning 2.5</h3>
<p>Den naturliga logaritmen, dvs logaritmen med
basen <span class="math inline">\(e \approx 2.718282\)</span>, används ofta i statistiska beräkningar. Några logaratimlagar som gäller för naturliga logaritmen är:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(\ln\, \left (x\cdot y \right )=\ln\,x+\ln\,y\)</span></li>
<li><span class="math inline">\(\ln\, \left (x/ y \right )=\ln\,x-\ln\,y\)</span></li>
<li><span class="math inline">\(\ln\,x^{a}=a\cdot \ln\,x\)</span></li>
<li><span class="math inline">\(\ln e = 1\)</span></li>
<li><span class="math inline">\(e^{\ln x} = x\)</span></li>
<li><span class="math inline">\(\ln^{e^x} = x\)</span></li>
</ol>
<p>Beräkna nedanstående uttryck och relatera svaren till logaritmlagarna</p>
<ol style="list-style-type: lower-alpha">
<li><span class="math inline">\(\ln(3*4)\)</span></li>
<li><span class="math inline">\(\ln(3) + \ln(4)\)</span></li>
<li><span class="math inline">\(\ln(3/4)\)</span></li>
<li><span class="math inline">\(\ln(3) - \ln(4)\)</span></li>
<li><span class="math inline">\(\ln e\)</span></li>
<li><span class="math inline">\(\ln e^5\)</span></li>
<li><span class="math inline">\(e^{5+6}\)</span></li>
<li><span class="math inline">\(e^5*e^6\)</span></li>
<li>$5 5 + 6 6</li>
</ol>
</div>
<div id="svar-2.5-1" class="section level3 unnumbered">
<h3>Svar 2.5</h3>
<p>I R kan uttrycken enkelt beräknas.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" title="1"><span class="kw">log</span>(<span class="dv">3</span><span class="op">*</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb85-2" title="2">[<span class="dv">1</span>] <span class="fl">2.484907</span></a>
<a class="sourceLine" id="cb85-3" title="3"><span class="kw">log</span>(<span class="dv">3</span>) <span class="op">+</span><span class="st"> </span><span class="kw">log</span>(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb85-4" title="4">[<span class="dv">1</span>] <span class="fl">2.484907</span></a>
<a class="sourceLine" id="cb85-5" title="5"><span class="kw">log</span>(<span class="dv">3</span><span class="op">/</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb85-6" title="6">[<span class="dv">1</span>] <span class="fl">-0.2876821</span></a>
<a class="sourceLine" id="cb85-7" title="7"><span class="kw">log</span>(<span class="dv">3</span>) <span class="op">-</span><span class="st"> </span><span class="kw">log</span>(<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb85-8" title="8">[<span class="dv">1</span>] <span class="fl">-0.2876821</span></a>
<a class="sourceLine" id="cb85-9" title="9"><span class="kw">log</span>(<span class="kw">exp</span>(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb85-10" title="10">[<span class="dv">1</span>] <span class="dv">1</span></a>
<a class="sourceLine" id="cb85-11" title="11"><span class="kw">log</span>(<span class="kw">exp</span>(<span class="dv">5</span>))</a>
<a class="sourceLine" id="cb85-12" title="12">[<span class="dv">1</span>] <span class="dv">5</span></a>
<a class="sourceLine" id="cb85-13" title="13"><span class="kw">exp</span>(<span class="dv">5</span><span class="op">+</span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb85-14" title="14">[<span class="dv">1</span>] <span class="fl">59874.14</span></a>
<a class="sourceLine" id="cb85-15" title="15"><span class="kw">exp</span>(<span class="dv">5</span>)<span class="op">*</span><span class="kw">exp</span>(<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb85-16" title="16">[<span class="dv">1</span>] <span class="fl">59874.14</span></a>
<a class="sourceLine" id="cb85-17" title="17"><span class="dv">5</span><span class="op">*</span><span class="kw">log</span>(<span class="dv">5</span>) <span class="op">+</span><span class="st"> </span><span class="dv">6</span><span class="op">*</span><span class="kw">log</span>(<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb85-18" title="18">[<span class="dv">1</span>] <span class="fl">18.79775</span></a></code></pre></div>
</div>
<div id="övning-2.6-1" class="section level3 unnumbered">
<h3>Övning 2.6</h3>
<p>Låt observationerna <span class="math inline">\(4,-2,5,6,8\)</span> vara obundet slumpmässigt urval från en normalfördelad population. Genomför en hypotesprövning på 5% signifikansnivå för att testa medelvärdet i population är skild från 1.</p>
</div>
<div id="svar-2.6-1" class="section level3 unnumbered">
<h3>Svar 2.6</h3>
<ol style="list-style-type: decimal">
<li>Vi observerar <span class="math inline">\(x=\{4,-2,5,6,8\}.\)</span></li>
<li>Hypoteser: <span class="math inline">\(H_0:\mu=0\)</span> vs <span class="math inline">\(H_1:\mu \neq 0\)</span></li>
<li>Antaganden: Variabeln <span class="math inline">\(x\)</span> är normalfördelad i populationen. Populationsvariansen <span class="math inline">\(\sigma^2\)</span> är okänd i populationen. Vi har ett litet stickprov, <span class="math inline">\(n=5\)</span>.</li>
<li>Testfunktionen ges av <span class="math inline">\(t=\dfrac{\bar{x}-\mu}{\sqrt{s^2/n}}\)</span>. Denna teststatistika är <span class="math inline">\(t\)</span>-fördelad med <span class="math inline">\(n-1\)</span> frihetsgrader om nollhypotesen är sann.</li>
<li>Beslutregel: <span class="math inline">\(\alpha=0.05\)</span>. Tvåsidigt test, förkasta därför <span class="math inline">\(H_0\)</span> om <span class="math inline">\(|t_{obs}| &gt; t_{krit} = t_{4,\alpha/2=0.025} = 2.776\)</span></li>
</ol>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" title="1">( (<span class="dv">4</span> <span class="op">+</span><span class="st"> </span>(<span class="op">-</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span> <span class="op">+</span><span class="st"> </span><span class="dv">8</span>)<span class="op">/</span><span class="dv">5</span> <span class="op">-</span><span class="st"> </span><span class="dv">1</span> )<span class="op">/</span><span class="kw">sqrt</span>( ( <span class="dv">4</span><span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>(<span class="op">-</span><span class="dv">2</span>)<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span><span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span><span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">8</span><span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span>(<span class="op">-</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span> <span class="op">+</span><span class="st"> </span><span class="dv">8</span>)<span class="op">^</span><span class="dv">2</span><span class="op">/</span><span class="dv">5</span> )<span class="op">/</span><span class="st"> </span>(<span class="dv">5-1</span>)<span class="op">/</span><span class="dv">5</span> )</a>
<a class="sourceLine" id="cb86-2" title="2">[<span class="dv">1</span>] <span class="fl">1.898851</span></a></code></pre></div>
<p>Eftersom <span class="math inline">\(t_{obs}=\)</span> 1.8988507 <span class="math inline">\(&lt; 2.776 = t_{krit}\)</span> kan vi inte förkasta nollhypotesen.</p>
<ul>
<li>Svar: Vi kan på 5% signifikansnivå inte påvisa att medelvärdet i populationen är skilt från 1. Notera att detta <strong>inte</strong> innebär att vi visar att medelvärdet är 1.</li>
</ul>
</div>
<div id="övning-2.7-1" class="section level3 unnumbered">
<h3>Övning 2.7</h3>
<p>Du observerar följande datapunkter <span class="math inline">\(x = \{4,7,2,4,6\}\)</span> och $y={7,3, 2, 5,6}$.</p>
<p><img src="dpk_files/figure-html/unnamed-chunk-93-1.png" width="672" /></p>
<ol style="list-style-type: lower-alpha">
<li>Använd minsta-kvadratmetoden och beräkna koefficienterna <span class="math inline">\(a\)</span> och <span class="math inline">\(b\)</span> i regressionslinjen <span class="math inline">\(y=a + bx\)</span>.</li>
<li>Använd koefficienterna och ge en prediktion för <span class="math inline">\(y\)</span> givet att <span class="math inline">\(x=7\)</span>.</li>
<li>Beräkna residualen för <span class="math inline">\(x=7\)</span></li>
<li>Beräkna residualspridningen.</li>
</ol>
</div>
<div id="svar-2.7-1" class="section level3 unnumbered">
<h3>Svar 2.7</h3>
<ol style="list-style-type: lower-alpha">
<li>Riktningskoefficienten ges av
<span class="math display">\[b=\dfrac{\sum_{i=1}^n(x_i-\bar{x})(y_i-\bar{y})}{\sum_{i=1}^n(x_i - \bar{x})^2}\]</span></li>
</ol>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" title="1"><span class="co"># Direkt tillämpning av formeln ger </span></a>
<a class="sourceLine" id="cb87-2" title="2">( (<span class="dv">4</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) <span class="op">*</span><span class="st"> </span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb87-3" title="3"><span class="st">  </span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) <span class="op">*</span><span class="st"> </span>(<span class="dv">3</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb87-4" title="4"><span class="st">  </span>(<span class="dv">2</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) <span class="op">*</span><span class="st"> </span>(<span class="dv">2</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb87-5" title="5"><span class="st">  </span>(<span class="dv">4</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) <span class="op">*</span><span class="st"> </span>(<span class="dv">5</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb87-6" title="6"><span class="st">  </span>(<span class="dv">6</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) <span class="op">*</span><span class="st"> </span>(<span class="dv">6</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>) ) <span class="op">/</span></a>
<a class="sourceLine" id="cb87-7" title="7">( (<span class="dv">4</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>)<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb87-8" title="8"><span class="st">  </span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>)<span class="op">^</span><span class="dv">2</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb87-9" title="9"><span class="st">  </span>(<span class="dv">2</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>)<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb87-10" title="10"><span class="st">  </span>(<span class="dv">4</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>)<span class="op">^</span><span class="dv">2</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb87-11" title="11"><span class="st">  </span>(<span class="dv">6</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>)<span class="op">^</span><span class="dv">2</span> )</a>
<a class="sourceLine" id="cb87-12" title="12">[<span class="dv">1</span>] <span class="fl">0.2105263</span></a>
<a class="sourceLine" id="cb87-13" title="13"><span class="co"># Det går att räkna ut detta i flera steg genom att </span></a>
<a class="sourceLine" id="cb87-14" title="14"><span class="co"># t ex beräkna täljare och nämnare separat. </span></a>
<a class="sourceLine" id="cb87-15" title="15"><span class="co"># Alternativt använda beräkningsformeln</span></a>
<a class="sourceLine" id="cb87-16" title="16"></a>
<a class="sourceLine" id="cb87-17" title="17">( <span class="dv">4</span><span class="op">*</span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span><span class="op">*</span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span><span class="op">*</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span><span class="op">*</span><span class="dv">6</span> <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span><span class="op">+</span><span class="dv">7</span><span class="op">+</span><span class="dv">2</span><span class="op">+</span><span class="dv">4</span><span class="op">+</span><span class="dv">6</span>)<span class="op">*</span>(<span class="dv">7</span><span class="op">+</span><span class="dv">3</span><span class="op">+</span><span class="dv">2</span><span class="op">+</span><span class="dv">5</span><span class="op">+</span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span> )<span class="op">/</span></a>
<a class="sourceLine" id="cb87-18" title="18">( (<span class="dv">4</span><span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span><span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span><span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span><span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span><span class="op">^</span><span class="dv">2</span>) <span class="op">-</span><span class="st">  </span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">^</span><span class="dv">2</span><span class="op">/</span><span class="dv">5</span> )  </a>
<a class="sourceLine" id="cb87-19" title="19">[<span class="dv">1</span>] <span class="fl">0.2105263</span></a>
<a class="sourceLine" id="cb87-20" title="20"></a>
<a class="sourceLine" id="cb87-21" title="21"><span class="co"># En kommentar: Dessa beräkningar kommer förenklas betydligt i R, vilket vi ska se senare.</span></a></code></pre></div>
<p>Interceptet är <span class="math inline">\(a=\bar{y} - b\bar{x}\)</span></p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" title="1">(<span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span> <span class="op">-</span><span class="st"> </span><span class="fl">0.2105</span><span class="op">*</span>(<span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">7</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="dv">6</span>)<span class="op">/</span><span class="dv">5</span>  </a>
<a class="sourceLine" id="cb88-2" title="2">[<span class="dv">1</span>] <span class="fl">3.6317</span></a></code></pre></div>
<ul>
<li>Svar: Riktningskoefficienten beräknas till <span class="math inline">\(b=0.2105\)</span>, vilket tolkas som att om <span class="math inline">\(x\)</span> ökar en enhet så ökar <span class="math inline">\(y\)</span> i <em>genomsnitt</em> med <span class="math inline">\(0.2105\)</span>
enheter. Interceptet beräknas till <span class="math inline">\(a=3.632\)</span>, vilket tolkas som medelvärdet för <span class="math inline">\(y\)</span> när <span class="math inline">\(x=0\)</span>.</li>
</ul>
<ol start="2" style="list-style-type: lower-alpha">
<li>Använd koefficienterna från regressionslinjen och sätt in värdet <span class="math inline">\(x=7\)</span>.</li>
</ol>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" title="1"><span class="fl">3.6316</span>   <span class="op">+</span><span class="st">    </span><span class="fl">0.2105</span><span class="op">*</span><span class="dv">7</span>  </a>
<a class="sourceLine" id="cb89-2" title="2">[<span class="dv">1</span>] <span class="fl">5.1051</span></a></code></pre></div>
<ul>
<li>Svar: Prediktionen <span class="math inline">\(\hat{y}=\)</span> 5.1051. Detta är punkten på regressionslinjen när <span class="math inline">\(x=7\)</span> och vår bästa gissning för det <span class="math inline">\(y\)</span>-värde en individ med värdet <span class="math inline">\(x=7\)</span> kommer att ha.</li>
</ul>
<ol start="3" style="list-style-type: lower-alpha">
<li>En residual är skillnaden mellan ett predicerat värde och det faktiska observerade värdet, <span class="math inline">\(\hat{\varepsilon}=y_i - \hat{y}\)</span>.
Eftersom <span class="math inline">\(y=3\)</span> när <span class="math inline">\(x=7\)</span> så residualen</li>
</ol>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" title="1"><span class="dv">3</span> <span class="op">-</span><span class="st"> </span>(<span class="fl">3.6316</span>   <span class="op">+</span><span class="st">    </span><span class="fl">0.2105</span><span class="op">*</span><span class="dv">7</span>) </a>
<a class="sourceLine" id="cb90-2" title="2">[<span class="dv">1</span>] <span class="fl">-2.1051</span></a></code></pre></div>
<ul>
<li>Svar: Residualen för <span class="math inline">\(x=7\)</span> är -2.1051.</li>
</ul>
<ol start="4" style="list-style-type: lower-alpha">
<li>Residualspridningen ges av <span class="math display">\[s_\varepsilon=\sqrt{\dfrac{\sum_{i=1}^n(y_i - \hat{y}_i)^2}{n-2}}= \sqrt{\dfrac{\sum_{i=1}^n\hat{\varepsilon}_i^2}{n-2}}\]</span>. Vi beräknar på samma sätt som i c) övriga residualer, kvadrerar och summerar.</li>
</ol>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" title="1"><span class="kw">sqrt</span>(</a>
<a class="sourceLine" id="cb91-2" title="2">( (<span class="dv">7</span> <span class="op">-</span><span class="st"> </span>(<span class="fl">3.6316</span>   <span class="op">+</span><span class="st">    </span><span class="fl">0.2105</span><span class="op">*</span><span class="dv">4</span>))<span class="op">^</span><span class="dv">2</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb91-3" title="3"><span class="st">  </span>(<span class="dv">3</span> <span class="op">-</span><span class="st"> </span>(<span class="fl">3.6316</span>   <span class="op">+</span><span class="st">    </span><span class="fl">0.2105</span><span class="op">*</span><span class="dv">7</span>))<span class="op">^</span><span class="dv">2</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb91-4" title="4"><span class="st">  </span>(<span class="dv">2</span> <span class="op">-</span><span class="st"> </span>(<span class="fl">3.6316</span>   <span class="op">+</span><span class="st">    </span><span class="fl">0.2105</span><span class="op">*</span><span class="dv">2</span>))<span class="op">^</span><span class="dv">2</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb91-5" title="5"><span class="st">  </span>(<span class="dv">5</span> <span class="op">-</span><span class="st"> </span>(<span class="fl">3.6316</span>   <span class="op">+</span><span class="st">    </span><span class="fl">0.2105</span><span class="op">*</span><span class="dv">4</span>))<span class="op">^</span><span class="dv">2</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb91-6" title="6"><span class="st">  </span>(<span class="dv">6</span> <span class="op">-</span><span class="st"> </span>(<span class="fl">3.6316</span>   <span class="op">+</span><span class="st">    </span><span class="fl">0.2105</span><span class="op">*</span><span class="dv">6</span>))<span class="op">^</span><span class="dv">2</span> ) <span class="op">/</span><span class="st"> </span></a>
<a class="sourceLine" id="cb91-7" title="7"><span class="st">  </span>(<span class="dv">5</span> <span class="op">-</span><span class="st"> </span><span class="dv">2</span>) )</a>
<a class="sourceLine" id="cb91-8" title="8">[<span class="dv">1</span>] <span class="fl">2.347077</span></a></code></pre></div>
<ul>
<li>Svar: Residualspridningen är 2.347</li>
</ul>
<p>(Notera att <span class="math inline">\(\sum_{i=1}^n \varepsilon_i^2\)</span> kallas för <em>residualkvadratsumman</em>.)</p>
</div>
<div id="övning-2.8-1" class="section level3 unnumbered">
<h3>Övning 2.8</h3>
<ol style="list-style-type: decimal">
<li>Installera paketet <strong>MASS</strong> som innehåller funktioner som kan vara användbara senare på kursen.</li>
<li>Aktivera det installerade paketet <strong>MASS</strong>.</li>
</ol>
</div>
<div id="svar-2.8-1" class="section level3 unnumbered">
<h3>Svar 2.8</h3>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" title="1"><span class="co"># Installera paket</span></a>
<a class="sourceLine" id="cb92-2" title="2"><span class="kw">install.packages</span>(<span class="st">&quot;MASS&quot;</span>)</a>
<a class="sourceLine" id="cb92-3" title="3"><span class="co"># Aktivera paket</span></a>
<a class="sourceLine" id="cb92-4" title="4"><span class="kw">library</span>(<span class="st">&quot;MASS&quot;</span>)</a></code></pre></div>
<p>class() - what kind of object is it (high-level)?
typeof() - what is the object’s data type (low-level)?
length() - how long is it? What about two dimensional objects?
attributes() - does it have any metadata?</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="att-börja-använda-r.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
