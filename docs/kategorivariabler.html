<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 5 Kategorivariabler | Tillämpad statistik med R</title>
  <meta name="description" content="Kapitel 5 Kategorivariabler | Tillämpad statistik med R" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 5 Kategorivariabler | Tillämpad statistik med R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 5 Kategorivariabler | Tillämpad statistik med R" />
  
  
  

<meta name="author" content="Ronnie Pingel och Valentin Zulj" />


<meta name="date" content="2020-11-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="läsa-in-och-spara-data.html"/>
<link rel="next" href="kvantitativa-variabler-kommer-ej-uppdateras-ht20.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduktion</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#om-statistisk-programmering-med-r"><i class="fa fa-check"></i><b>1.1</b> Om statistisk programmering med R</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#allmänna-tips-om-r-på-kursen"><i class="fa fa-check"></i><b>1.2</b> Allmänna tips om R på kursen</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#sammanfattning"><i class="fa fa-check"></i><b>1.3</b> Sammanfattning</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#referenser"><i class="fa fa-check"></i><b>1.4</b> Referenser</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html"><i class="fa fa-check"></i><b>2</b> Att börja använda R</a><ul>
<li class="chapter" data-level="2.1" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-och-rstudio"><i class="fa fa-check"></i><b>2.1</b> Installation av R och RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-på-macos"><i class="fa fa-check"></i><b>2.1.1</b> Installation av R på MacOS</a></li>
<li class="chapter" data-level="2.1.2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-på-windows"><i class="fa fa-check"></i><b>2.1.2</b> Installation av R på Windows</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-rstudio"><i class="fa fa-check"></i><b>2.2</b> Installation av RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#första-sessionen"><i class="fa fa-check"></i><b>2.3</b> Första sessionen</a></li>
<li class="chapter" data-level="2.4" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#paket"><i class="fa fa-check"></i><b>2.4</b> Paket</a></li>
<li class="chapter" data-level="2.5" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#sammanfattning-1"><i class="fa fa-check"></i><b>2.5</b> Sammanfattning</a></li>
<li class="chapter" data-level="2.6" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övningar"><i class="fa fa-check"></i><b>2.6</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.1"><i class="fa fa-check"></i>Övning 2.1</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.2"><i class="fa fa-check"></i>Övning 2.2</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.3"><i class="fa fa-check"></i>Övning 2.3</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.4"><i class="fa fa-check"></i>Övning 2.4</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.5"><i class="fa fa-check"></i>Övning 2.5</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.6"><i class="fa fa-check"></i>Övning 2.6</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.7"><i class="fa fa-check"></i>Övning 2.7</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.8"><i class="fa fa-check"></i>Övning 2.8</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html"><i class="fa fa-check"></i><b>3</b> Data, objekt och funktioner</a><ul>
<li class="chapter" data-level="3.1" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#data-och-objekt"><i class="fa fa-check"></i><b>3.1</b> Data och objekt</a></li>
<li class="chapter" data-level="3.2" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer"><i class="fa fa-check"></i><b>3.2</b> Vektorer</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer-och-indexering"><i class="fa fa-check"></i><b>3.2.1</b> Vektorer och indexering</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer-och-logiska-operatorer"><i class="fa fa-check"></i><b>3.2.2</b> Vektorer och logiska operatorer</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#matriser"><i class="fa fa-check"></i><b>3.3</b> Matriser</a></li>
<li class="chapter" data-level="3.4" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#data-frames"><i class="fa fa-check"></i><b>3.4</b> Data frames</a></li>
<li class="chapter" data-level="3.5" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#funktioner"><i class="fa fa-check"></i><b>3.5</b> Funktioner</a></li>
<li class="chapter" data-level="3.6" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#sammanfattning-2"><i class="fa fa-check"></i><b>3.6</b> Sammanfattning</a></li>
<li class="chapter" data-level="3.7" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övningar-1"><i class="fa fa-check"></i><b>3.7</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.1"><i class="fa fa-check"></i>Övning 3.1</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.2"><i class="fa fa-check"></i>Övning 3.2</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.3"><i class="fa fa-check"></i>Övning 3.3</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.4"><i class="fa fa-check"></i>Övning 3.4</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.5"><i class="fa fa-check"></i>Övning 3.5</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.6"><i class="fa fa-check"></i>Övning 3.6</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.7"><i class="fa fa-check"></i>Övning 3.7</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.8"><i class="fa fa-check"></i>Övning 3.8</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.9"><i class="fa fa-check"></i>Övning 3.9</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.10"><i class="fa fa-check"></i>Övning 3.10</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.11"><i class="fa fa-check"></i>Övning 3.11</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.12"><i class="fa fa-check"></i>Övning 3.12</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.13"><i class="fa fa-check"></i>Övning 3.13</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.14"><i class="fa fa-check"></i>Övning 3.14</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html"><i class="fa fa-check"></i><b>4</b> Läsa in och spara data</a><ul>
<li class="chapter" data-level="4.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#principer-för-organiserade-datamaterial"><i class="fa fa-check"></i><b>4.1</b> Principer för organiserade datamaterial</a></li>
<li class="chapter" data-level="4.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#working-directory"><i class="fa fa-check"></i><b>4.2</b> Working directory</a></li>
<li class="chapter" data-level="4.3" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-datamaterial-med-hjälp-av-kod"><i class="fa fa-check"></i><b>4.3</b> Läsa in datamaterial med hjälp av kod</a><ul>
<li class="chapter" data-level="4.3.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#text--och-csv-filer"><i class="fa fa-check"></i><b>4.3.1</b> Text- och CSV-filer</a></li>
<li class="chapter" data-level="4.3.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#excel-filer"><i class="fa fa-check"></i><b>4.3.2</b> Excel-filer</a></li>
<li class="chapter" data-level="4.3.3" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övriga-format"><i class="fa fa-check"></i><b>4.3.3</b> Övriga format</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-datamaterial-med-hjälp-av-menyerna-i-rstudio"><i class="fa fa-check"></i><b>4.4</b> Läsa in datamaterial med hjälp av menyerna i RStudio</a><ul>
<li class="chapter" data-level="4.4.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-data-från-working-directory"><i class="fa fa-check"></i><b>4.4.1</b> Läsa in data från working directory</a></li>
<li class="chapter" data-level="4.4.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-data-med-import-dataset"><i class="fa fa-check"></i><b>4.4.2</b> Läsa in data med “Import Dataset”</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#spara-datamaterial-med-hjälp-av-r"><i class="fa fa-check"></i><b>4.5</b> Spara datamaterial med hjälp av R</a></li>
<li class="chapter" data-level="4.6" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övningar-2"><i class="fa fa-check"></i><b>4.6</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.1"><i class="fa fa-check"></i>Övning 4.1</a></li>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.2"><i class="fa fa-check"></i>Övning 4.2</a></li>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.3"><i class="fa fa-check"></i>Övning 4.3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="kategorivariabler.html"><a href="kategorivariabler.html"><i class="fa fa-check"></i><b>5</b> Kategorivariabler</a><ul>
<li class="chapter" data-level="5.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#en-binär-variabel"><i class="fa fa-check"></i><b>5.1</b> En binär variabel</a><ul>
<li class="chapter" data-level="5.1.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#kodning"><i class="fa fa-check"></i><b>5.1.1</b> Kodning</a></li>
<li class="chapter" data-level="5.1.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller-och-figurer"><i class="fa fa-check"></i><b>5.1.2</b> Tabeller och figurer</a></li>
<li class="chapter" data-level="5.1.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens"><i class="fa fa-check"></i><b>5.1.3</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#två-binära-variabler"><i class="fa fa-check"></i><b>5.2</b> Två binära variabler</a><ul>
<li class="chapter" data-level="5.2.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller"><i class="fa fa-check"></i><b>5.2.1</b> Tabeller</a></li>
<li class="chapter" data-level="5.2.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#kvantifiering-av-samband"><i class="fa fa-check"></i><b>5.2.2</b> Kvantifiering av samband</a></li>
<li class="chapter" data-level="5.2.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#figurer"><i class="fa fa-check"></i><b>5.2.3</b> Figurer</a></li>
<li class="chapter" data-level="5.2.4" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens-1"><i class="fa fa-check"></i><b>5.2.4</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tre-kategorier-eller-fler"><i class="fa fa-check"></i><b>5.3</b> Tre kategorier eller fler</a><ul>
<li class="chapter" data-level="5.3.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#kodning-1"><i class="fa fa-check"></i><b>5.3.1</b> Kodning</a></li>
<li class="chapter" data-level="5.3.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller-och-figurer-1"><i class="fa fa-check"></i><b>5.3.2</b> Tabeller och figurer</a></li>
<li class="chapter" data-level="5.3.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens-2"><i class="fa fa-check"></i><b>5.3.3</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="kategorivariabler.html"><a href="kategorivariabler.html#samband-mellan-kategorivariabler"><i class="fa fa-check"></i><b>5.4</b> Samband mellan kategorivariabler</a><ul>
<li class="chapter" data-level="5.4.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller-och-figurer-2"><i class="fa fa-check"></i><b>5.4.1</b> Tabeller och figurer</a></li>
<li class="chapter" data-level="5.4.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens-3"><i class="fa fa-check"></i><b>5.4.2</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övningar-3"><i class="fa fa-check"></i><b>5.5</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.1"><i class="fa fa-check"></i>Övning 5.1</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.2"><i class="fa fa-check"></i>Övning 5.2</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.3"><i class="fa fa-check"></i>Övning 5.3</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.4"><i class="fa fa-check"></i>Övning 5.4</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.5"><i class="fa fa-check"></i>Övning 5.5</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.6"><i class="fa fa-check"></i>Övning 5.6</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.7"><i class="fa fa-check"></i>Övning 5.7</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.8"><i class="fa fa-check"></i>Övning 5.8</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.9"><i class="fa fa-check"></i>Övning 5.9</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.10"><i class="fa fa-check"></i>Övning 5.10</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.11"><i class="fa fa-check"></i>Övning 5.11</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.12"><i class="fa fa-check"></i>Övning 5.12</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.13"><i class="fa fa-check"></i>Övning 5.13</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="kategorivariabler.html"><a href="kategorivariabler.html#referenser-1"><i class="fa fa-check"></i><b>5.6</b> Referenser</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="kvantitativa-variabler-kommer-ej-uppdateras-ht20.html"><a href="kvantitativa-variabler-kommer-ej-uppdateras-ht20.html"><i class="fa fa-check"></i><b>6</b> Kvantitativa variabler (Kommer ej uppdateras HT20)</a></li>
<li class="chapter" data-level="7" data-path="tabeller-1.html"><a href="tabeller-1.html"><i class="fa fa-check"></i><b>7</b> Tabeller</a><ul>
<li class="chapter" data-level="7.1" data-path="tabeller-1.html"><a href="tabeller-1.html#exportera-tabeller-till-html"><i class="fa fa-check"></i><b>7.1</b> Exportera tabeller till html</a></li>
<li class="chapter" data-level="7.2" data-path="tabeller-1.html"><a href="tabeller-1.html#några-vanliga-tabeller"><i class="fa fa-check"></i><b>7.2</b> Några vanliga tabeller</a><ul>
<li class="chapter" data-level="7.2.1" data-path="tabeller-1.html"><a href="tabeller-1.html#tabell-för-att-beskriva-urvalet"><i class="fa fa-check"></i><b>7.2.1</b> Tabell för att beskriva urvalet</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="tabeller-1.html"><a href="tabeller-1.html#principer-för-tabeller"><i class="fa fa-check"></i><b>7.3</b> Principer för tabeller</a></li>
<li class="chapter" data-level="7.4" data-path="tabeller-1.html"><a href="tabeller-1.html#paket-för-tabeller"><i class="fa fa-check"></i><b>7.4</b> Paket för tabeller</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="figurer-1.html"><a href="figurer-1.html"><i class="fa fa-check"></i><b>8</b> Figurer</a><ul>
<li class="chapter" data-level="8.1" data-path="figurer-1.html"><a href="figurer-1.html#grundläggande-figurhantering"><i class="fa fa-check"></i><b>8.1</b> Grundläggande figurhantering</a></li>
<li class="chapter" data-level="8.2" data-path="figurer-1.html"><a href="figurer-1.html#färger-och-figurer"><i class="fa fa-check"></i><b>8.2</b> Färger och figurer</a><ul>
<li class="chapter" data-level="8.2.1" data-path="figurer-1.html"><a href="figurer-1.html#presentation-av-aggregerade-data"><i class="fa fa-check"></i><b>8.2.1</b> Presentation av aggregerade data</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="figurer-1.html"><a href="figurer-1.html#cirkeldigram"><i class="fa fa-check"></i><b>8.3</b> Cirkeldigram</a></li>
<li class="chapter" data-level="8.4" data-path="figurer-1.html"><a href="figurer-1.html#figurer-för-fördelningar"><i class="fa fa-check"></i><b>8.4</b> Figurer för fördelningar</a></li>
<li class="chapter" data-level="8.5" data-path="figurer-1.html"><a href="figurer-1.html#lådagram"><i class="fa fa-check"></i><b>8.5</b> Lådagram</a></li>
<li class="chapter" data-level="8.6" data-path="figurer-1.html"><a href="figurer-1.html#spridningsdiagram"><i class="fa fa-check"></i><b>8.6</b> Spridningsdiagram</a></li>
<li class="chapter" data-level="8.7" data-path="figurer-1.html"><a href="figurer-1.html#exportera-figurer"><i class="fa fa-check"></i><b>8.7</b> Exportera figurer</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html"><i class="fa fa-check"></i><b>9</b> Urvalsmetoder</a><ul>
<li class="chapter" data-level="9.1" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#obundet-slumpmässigt-urval-utan-återläggning"><i class="fa fa-check"></i><b>9.1</b> Obundet slumpmässigt urval utan återläggning</a><ul>
<li class="chapter" data-level="9.1.1" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-populationsmedelvärdet-mu"><i class="fa fa-check"></i><b>9.1.1</b> Inferens för populationsmedelvärdet, <span class="math inline">\(\mu\)</span></a></li>
<li class="chapter" data-level="9.1.2" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-populationsandelen-p"><i class="fa fa-check"></i><b>9.1.2</b> Inferens för populationsandelen, <span class="math inline">\(p\)</span></a></li>
<li class="chapter" data-level="9.1.3" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-populationstotalen-tau"><i class="fa fa-check"></i><b>9.1.3</b> Inferens för populationstotalen, <span class="math inline">\(\tau\)</span></a></li>
<li class="chapter" data-level="9.1.4" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#beräkningar-av-stickprovstorlek"><i class="fa fa-check"></i><b>9.1.4</b> Beräkningar av stickprovstorlek</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#stratifierat-urval"><i class="fa fa-check"></i><b>9.2</b> Stratifierat urval</a><ul>
<li class="chapter" data-level="9.2.1" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-mu"><i class="fa fa-check"></i><b>9.2.1</b> Inferens för <span class="math inline">\(\mu\)</span></a></li>
<li class="chapter" data-level="9.2.2" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-p"><i class="fa fa-check"></i><b>9.2.2</b> Inferens för <span class="math inline">\(p\)</span></a></li>
<li class="chapter" data-level="9.2.3" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-tau"><i class="fa fa-check"></i><b>9.2.3</b> Inferens för <span class="math inline">\(\tau\)</span></a></li>
<li class="chapter" data-level="9.2.4" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#allokering-av-n"><i class="fa fa-check"></i><b>9.2.4</b> Allokering av <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#gruppurval"><i class="fa fa-check"></i><b>9.3</b> Gruppurval</a><ul>
<li class="chapter" data-level="9.3.1" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-mu-1"><i class="fa fa-check"></i><b>9.3.1</b> Inferens för <span class="math inline">\(\mu\)</span></a></li>
<li class="chapter" data-level="9.3.2" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-tau-1"><i class="fa fa-check"></i><b>9.3.2</b> Inferens för <span class="math inline">\(\tau\)</span></a></li>
<li class="chapter" data-level="9.3.3" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-p-1"><i class="fa fa-check"></i><b>9.3.3</b> Inferens för <span class="math inline">\(p\)</span></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#efterstratifiering"><i class="fa fa-check"></i><b>9.4</b> Efterstratifiering</a></li>
<li class="chapter" data-level="9.5" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övningar-4"><i class="fa fa-check"></i><b>9.5</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.1"><i class="fa fa-check"></i>Övning 7.1</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.2"><i class="fa fa-check"></i>Övning 7.2</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.3"><i class="fa fa-check"></i>Övning 7.3</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.4"><i class="fa fa-check"></i>Övning 7.4</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.5"><i class="fa fa-check"></i>Övning 7.5</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.6"><i class="fa fa-check"></i>Övning 7.6</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.7"><i class="fa fa-check"></i>Övning 7.7</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.8"><i class="fa fa-check"></i>Övning 7.8</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.9"><i class="fa fa-check"></i>Övning 7.9</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.10"><i class="fa fa-check"></i>Övning 7.10</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.11"><i class="fa fa-check"></i>Övning 7.11</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.12"><i class="fa fa-check"></i>Övning 7.12</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.13"><i class="fa fa-check"></i>Övning 7.13</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.14"><i class="fa fa-check"></i>Övning 7.14</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.15"><i class="fa fa-check"></i>Övning 7.15</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.16"><i class="fa fa-check"></i>Övning 7.16</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.16-1"><i class="fa fa-check"></i>Övning 7.16</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.17"><i class="fa fa-check"></i>Övning 7.17</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.18"><i class="fa fa-check"></i>Övning 7.18</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.19"><i class="fa fa-check"></i>Övning 7.19</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.20"><i class="fa fa-check"></i>Övning 7.20</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.21"><i class="fa fa-check"></i>Övning 7.21</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.22"><i class="fa fa-check"></i>Övning 7.22</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.23"><i class="fa fa-check"></i>Övning 7.23</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.24"><i class="fa fa-check"></i>Övning 7.24</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.25"><i class="fa fa-check"></i>Övning 7.25</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.26"><i class="fa fa-check"></i>Övning 7.26</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.27"><i class="fa fa-check"></i>Övning 7.27</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="experiment.html"><a href="experiment.html"><i class="fa fa-check"></i><b>10</b> Experiment</a><ul>
<li class="chapter" data-level="10.1" data-path="experiment.html"><a href="experiment.html#det-klassiska-experimentet"><i class="fa fa-check"></i><b>10.1</b> Det klassiska experimentet</a></li>
<li class="chapter" data-level="10.2" data-path="experiment.html"><a href="experiment.html#stratifiering"><i class="fa fa-check"></i><b>10.2</b> Stratifiering</a></li>
<li class="chapter" data-level="10.3" data-path="experiment.html"><a href="experiment.html#tabell-1-vid-randomiserade-försök"><i class="fa fa-check"></i><b>10.3</b> Tabell 1 vid randomiserade försök</a></li>
<li class="chapter" data-level="10.4" data-path="experiment.html"><a href="experiment.html#anova"><i class="fa fa-check"></i><b>10.4</b> ANOVA</a></li>
<li class="chapter" data-level="10.5" data-path="experiment.html"><a href="experiment.html#jämförelse-med-t-test"><i class="fa fa-check"></i><b>10.5</b> Jämförelse med t-test</a></li>
<li class="chapter" data-level="10.6" data-path="experiment.html"><a href="experiment.html#experimentella-designer"><i class="fa fa-check"></i><b>10.6</b> Experimentella designer</a></li>
<li class="chapter" data-level="10.7" data-path="experiment.html"><a href="experiment.html#aspekter-som-inte-ingår-i-detta-block"><i class="fa fa-check"></i><b>10.7</b> Aspekter som inte ingår i detta block</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tillämpad statistik med R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="kategorivariabler" class="section level1">
<h1><span class="header-section-number">Kapitel 5</span> Kategorivariabler</h1>
<p>En nödvändig färdighet vid arbete med data är att kunna hantera och analysera kategorivariabler. Vi börjar i detta kapitel med det enkla fallet binära variabler för att i ett senare övergå till att studera hur man arbetar med variabler som har fler än två kategorier.</p>
<p>I princip alla datamaterial innehåller variabler med kategorier och även om data inledningsvis inte innehåller kategorivariabler är det vanligt att av olika skäl omkoda kvantitativa variabler till kategorier. Kategorivariabler kan vara antingen på nominal eller ordinalskala. Dessutom är det inte ovanligt att även analysera diskreta kvantitativa variabler som om de bestod av kategorier.</p>
<p>För nybörjaren kan det vara förvirrande att det finns åtminstone två alternativ, som bägge är viktiga, för hur man arbetar med kategorivariabler.</p>
<ul>
<li><strong>Alternativ 1</strong>. En kategorivariabel hanteras som en numerisk variabel efter att kategorierna tilldelats numeriska värden. Exempelvis kan vi för en <strong>binär variabel</strong> ange att värdena 0 och 1 representerar två kategorier. Observera att val värden påverkar hur variabeln används i analysen.</li>
<li><strong>Alternativ 2</strong>. En kategoriabel definieras med funktionen <strong>factor()</strong>som datatypen <strong>faktor</strong>. En faktors kategorier benämns i R för <strong>levels</strong> (nivåer). Fördelen med att definiera en variabel som faktor är att R kan använda information om den binära variabeln i analyser och resultat. Till exempel kan kategoriernas namn presenteras i resultat. Dessutom kräver en del metoder i R en faktor-variabel. Observera att det, av förklarliga skäl, inte går att utföra räkneoperationer på variabler definierade som datatypen faktor.</li>
</ul>
<p>Eftersom bägge varianterna har för- och nackdelar återfinns ofta <strong>bägge varianter</strong> av kodning för en och samma binära variabel i ett dataset — en numerisk (i fallet med en binär variabel kodad 0-1 kallad för <strong>variabelnamn_bin</strong>) och version kodad som faktor (kallad <strong>variabelnamn_cat</strong>).</p>
<p>Vi kommer i stor utsträckning använda data för att exemplifiera och framför allt kommer nedanstående dataset användas.</p>
<ul>
<li><strong>utbildning</strong>: “Vilken är din högsta avslutade utbildning?” - <em>låg. Gymnasieutbildning eller lägre</em>. <em>hög. Grundexamen på universitetet eller högre.</em><br />
</li>
<li><strong>alder</strong>: “Hur gammal är du?” - <em>0. 65-79 år, 1. 50-64 år, 2. 18-49 år.</em></li>
<li><strong>rokare</strong>: “Röker du minst en cigarett varje vecka?” - 1. Ja, 0. Nej.</li>
<li><strong>kon</strong>: - “Vilket kön är du?” - <em>man</em>, <em>kvinna</em></li>
<li><strong>reklam</strong>: “Anser du att TV-reklam för spel bör vara tillåtet?” - <em>Ja</em>, <em>Nej</em>, <em>Har ej tagit ställning</em>.</li>
<li><strong>inkomst</strong>: “Vilken är din månadsinkomst?” - <em>inkomst kr/mån</em></li>
<li><strong>alkohol</strong>: “Hur ställer du dig till att i Sverige ha ett totalt förbud mot att sälja alkohol?” - <em>1. Mycket positiv. 2. Ganska positiv. 3. Varken positiv eller negativ. 4. Ganska negativ 5. Mycket negativ.</em></li>
<li><strong>cannabis</strong>: “Hur ställer du dig till att i Sverige ha ett totalt förbud mot att sälja cannabis?” - <em>1. Mycket positiv. 2. Ganska positiv. 3. Varken positiv eller negativ. 4. Ganska negativ 5. Mycket negativ.</em></li>
<li><strong>cigaretter</strong>: Hur ställer du dig till att i Sverige ha ett totalt förbud mot att sälja cigaretter?&quot; - <em>1. Mycket positiv. 2. Ganska positiv. 3. Varken positiv eller negativ. 4. Ganska negativ 5. Mycket negativ.</em></li>
<li><strong>mat</strong>: antal inköp av mat per vecka</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">utbildning =</span> <span class="kw">c</span>(<span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>,<span class="st">&quot;hög&quot;</span>,<span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>,  <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>,<span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>,<span class="st">&quot;hög&quot;</span>,  <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>,  <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>,<span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>,  <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>, <span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>,<span class="st">&quot;låg&quot;</span>),
<span class="dt">alder =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>,<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>,<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>), 
<span class="dt">rokare =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>),
<span class="dt">kon =</span> <span class="kw">c</span>(<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>,<span class="st">&#39;kvinna&#39;</span>,<span class="st">&#39;man&#39;</span>),
<span class="dt">reklam =</span> <span class="kw">c</span>(<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Nej&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Ja&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>,<span class="st">&#39;Har ej tagit ställning&#39;</span>),
<span class="dt">inkomst =</span> <span class="kw">c</span>(<span class="dv">13941</span>,<span class="dv">39664</span>,<span class="dv">13168</span>,<span class="dv">28809</span>,<span class="dv">55952</span>,<span class="dv">12495</span>,<span class="dv">20185</span>,<span class="dv">38094</span>,<span class="dv">13822</span>,<span class="dv">32932</span>,<span class="dv">22205</span>,<span class="dv">36625</span>,<span class="dv">51575</span>,<span class="dv">21508</span>,<span class="dv">33509</span>,<span class="dv">26322</span>,<span class="dv">15392</span>,<span class="dv">21626</span>,<span class="dv">18837</span>,<span class="dv">24299</span>,<span class="dv">38921</span>,<span class="dv">38951</span>,<span class="dv">18360</span>,<span class="dv">32974</span>,<span class="dv">14131</span>,<span class="dv">28463</span>,<span class="dv">38232</span>,<span class="dv">20072</span>,<span class="dv">24300</span>,<span class="dv">40883</span>,<span class="dv">9090</span>,<span class="dv">30565</span>,<span class="dv">32935</span>,<span class="dv">32589</span>,<span class="dv">14408</span>,<span class="dv">33223</span>,<span class="dv">20177</span>,<span class="dv">32574</span>,<span class="dv">30640</span>,<span class="dv">16255</span>,<span class="dv">24056</span>,<span class="dv">18365</span>,<span class="dv">22039</span>,<span class="dv">32859</span>,<span class="dv">13595</span>,<span class="dv">10514</span>,<span class="dv">19490</span>,<span class="dv">30075</span>,<span class="dv">29849</span>,<span class="dv">14371</span>,<span class="dv">15076</span>,<span class="dv">18983</span>,<span class="dv">26641</span>,<span class="dv">14967</span>,<span class="dv">38646</span>,<span class="dv">27197</span>,<span class="dv">15314</span>,<span class="dv">9058</span>,<span class="dv">10275</span>,<span class="dv">19248</span>,<span class="dv">33629</span>,<span class="dv">16039</span>,<span class="dv">15302</span>,<span class="dv">8363</span>,<span class="dv">29178</span>,<span class="dv">29565</span>,<span class="dv">35454</span>,<span class="dv">25673</span>,<span class="dv">25116</span>,<span class="dv">21695</span>,<span class="dv">12594</span>,<span class="dv">31860</span>,<span class="dv">48489</span>,<span class="dv">37977</span>,<span class="dv">20106</span>,<span class="dv">45531</span>,<span class="dv">27277</span>,<span class="dv">15418</span>,<span class="dv">18315</span>,<span class="dv">20529</span>,<span class="dv">24322</span>,<span class="dv">9509</span>,<span class="dv">22487</span>,<span class="dv">14443</span>,<span class="dv">30287</span>,<span class="dv">33711</span>,<span class="dv">28788</span>,<span class="dv">38495</span>,<span class="dv">43640</span>,<span class="dv">21820</span>,<span class="dv">12945</span>,<span class="dv">29219</span>,<span class="dv">26099</span>,<span class="dv">53993</span>,<span class="dv">18370</span>,<span class="dv">13513</span>,<span class="dv">34515</span>,<span class="dv">39675</span>,<span class="dv">24622</span>,<span class="dv">10069</span>,<span class="dv">42460</span>,<span class="dv">21113</span>,<span class="dv">32073</span>,<span class="dv">40741</span>,<span class="dv">25925</span>,<span class="dv">48530</span>,<span class="dv">37672</span>,<span class="dv">16809</span>,<span class="dv">53412</span>,<span class="dv">28576</span>,<span class="dv">20974</span>,<span class="dv">53895</span>,<span class="dv">17485</span>,<span class="dv">9382</span>,<span class="dv">26977</span>,<span class="dv">37076</span>,<span class="dv">34885</span>,<span class="dv">24809</span>,<span class="dv">12793</span>,<span class="dv">18749</span>,<span class="dv">22223</span>,<span class="dv">27462</span>,<span class="dv">33319</span>,<span class="dv">25212</span>,<span class="dv">19846</span>,<span class="dv">36005</span>,<span class="dv">22765</span>,<span class="dv">25484</span>,<span class="dv">5710</span>,<span class="dv">22545</span>,<span class="dv">26475</span>,<span class="dv">50017</span>,<span class="dv">10044</span>,<span class="dv">28683</span>,<span class="dv">28379</span>,<span class="dv">36793</span>,<span class="dv">37007</span>,<span class="dv">43140</span>,<span class="dv">11389</span>,<span class="dv">28621</span>,<span class="dv">8074</span>,<span class="dv">18887</span>,<span class="dv">8729</span>,<span class="dv">34029</span>,<span class="dv">22957</span>,<span class="dv">25761</span>,<span class="dv">21928</span>,<span class="dv">23366</span>,<span class="dv">21629</span>,<span class="dv">29325</span>,<span class="dv">17545</span>,<span class="dv">34121</span>,<span class="dv">9780</span>,<span class="dv">34344</span>,<span class="dv">15565</span>,<span class="dv">35821</span>,<span class="dv">22192</span>,<span class="dv">24715</span>,<span class="dv">29730</span>,<span class="dv">36446</span>,<span class="dv">19315</span>,<span class="dv">18764</span>,<span class="dv">30303</span>,<span class="dv">44705</span>,<span class="dv">24113</span>,<span class="dv">24773</span>,<span class="dv">13433</span>,<span class="dv">21116</span>,<span class="dv">22444</span>,<span class="dv">17098</span>,<span class="dv">27646</span>,<span class="dv">29356</span>,<span class="dv">11167</span>,<span class="dv">39386</span>,<span class="dv">46786</span>,<span class="dv">20476</span>,<span class="dv">32806</span>,<span class="dv">8196</span>,<span class="dv">20299</span>,<span class="dv">11016</span>,<span class="dv">28822</span>,<span class="dv">34008</span>,<span class="dv">36611</span>,<span class="dv">40839</span>,<span class="dv">38823</span>,<span class="dv">27474</span>,<span class="dv">21803</span>,<span class="dv">23579</span>,<span class="dv">24328</span>,<span class="dv">26289</span>,<span class="dv">34776</span>,<span class="dv">42902</span>,<span class="dv">5958</span>,<span class="dv">20928</span>,<span class="dv">8996</span>,<span class="dv">14684</span>,<span class="dv">19391</span>,<span class="dv">14105</span>,<span class="dv">24321</span>,<span class="dv">31704</span>,<span class="dv">40910</span>,<span class="dv">14725</span>,<span class="dv">25166</span>,<span class="dv">33578</span>,<span class="dv">21071</span>,<span class="dv">37265</span>,<span class="dv">21827</span>,<span class="dv">17284</span>,<span class="dv">16401</span>,<span class="dv">38311</span>,<span class="dv">10416</span>,<span class="dv">16634</span>,<span class="dv">32329</span>,<span class="dv">18411</span>,<span class="dv">11388</span>,<span class="dv">22741</span>,<span class="dv">45799</span>,<span class="dv">24504</span>,<span class="dv">18190</span>,<span class="dv">9708</span>,<span class="dv">9590</span>,<span class="dv">10068</span>,<span class="dv">15552</span>,<span class="dv">34781</span>,<span class="dv">17205</span>,<span class="dv">12180</span>,<span class="dv">31054</span>,<span class="dv">19803</span>,<span class="dv">34321</span>,<span class="dv">28206</span>,<span class="dv">13392</span>,<span class="dv">25659</span>,<span class="dv">13679</span>,<span class="dv">10817</span>,<span class="dv">48137</span>,<span class="dv">16057</span>,<span class="dv">30680</span>,<span class="dv">28931</span>,<span class="dv">8746</span>,<span class="dv">51031</span>,<span class="dv">15530</span>,<span class="dv">21598</span>,<span class="dv">12816</span>,<span class="dv">39388</span>,<span class="dv">36873</span>,<span class="dv">10815</span>,<span class="dv">26335</span>,<span class="dv">8332</span>,<span class="dv">25860</span>,<span class="dv">12491</span>,<span class="dv">26264</span>,<span class="dv">17914</span>,<span class="dv">13240</span>,<span class="dv">51238</span>,<span class="dv">18080</span>,<span class="dv">28812</span>,<span class="dv">40576</span>,<span class="dv">33316</span>,<span class="dv">3978</span>,<span class="dv">32843</span>,<span class="dv">14942</span>,<span class="dv">33416</span>,<span class="dv">11274</span>,<span class="dv">14775</span>,<span class="dv">25466</span>,<span class="dv">15959</span>,<span class="dv">21031</span>,<span class="dv">12042</span>,<span class="dv">9518</span>,<span class="dv">38184</span>,<span class="dv">10007</span>,<span class="dv">8226</span>,<span class="dv">11975</span>,<span class="dv">29364</span>,<span class="dv">57382</span>,<span class="dv">11814</span>,<span class="dv">28760</span>,<span class="dv">19193</span>,<span class="dv">24117</span>,<span class="dv">35747</span>),
<span class="dt">alkohol =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>),
<span class="dt">cannabis=</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>),
<span class="dt">cigaretter =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">1</span>),
<span class="dt">mat =</span> <span class="kw">c</span>(<span class="dv">8</span>,<span class="dv">8</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">8</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">8</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">8</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">0</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">8</span>,<span class="dv">8</span>))</code></pre></div>
<div id="en-binär-variabel" class="section level2">
<h2><span class="header-section-number">5.1</span> En binär variabel</h2>
<div id="kodning" class="section level3">
<h3><span class="header-section-number">5.1.1</span> Kodning</h3>
<p>Oavsett om en binär variabel har kategorier som inte går att rangordna (till exempel variabeln <span class="math inline">\(kön\)</span> med kategorierna <span class="math inline">\(kvinna\)</span> och <span class="math inline">\(man\)</span>) eller har kategorier som går att rangordna (till exempel <span class="math inline">\(utbildning\)</span> med kategorierna <span class="math inline">\(låg\)</span> och <span class="math inline">\(hög\)</span>) beskrivs en binär variabel på samma sätt. Vi ska nu presentera visa hur man beskriver en binär variabel, utifrån de tidigare två nämnda alternativen.</p>
<p>Vi exemplifierar med att beskriva variabel som heter <span class="math inline">\(utbildning\)</span> som har två kategorier, <span class="math inline">\(låg\)</span> och <span class="math inline">\(hög\)</span> och som vi läser in nedan. Med funktionen <strong>str()</strong> identifieras att <span class="math inline">\(utbildning\)</span> är en variabel med datatypen <em>character</em>. Det är alltid viktigt att undersöka variablers datatyp, emellertid är detta ingen kod som sedan sparas i scriptet. Efter datatypen är undersökt kan denna rad med kod tas bort från scriptet. Funktionen <strong>str()</strong> är användbar för att undersöka alla typer av objekt i R, till exempel variabler, dataframes och objekt som innehåller sparade resultat.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Undersök hur R identifierar variabelns datatyp  </span>
  <span class="kw">str</span>(df<span class="op">$</span>utbildning)
<span class="op">&gt;</span><span class="st">  </span>Factor w<span class="op">/</span><span class="st"> </span><span class="dv">2</span> levels <span class="st">&quot;hög&quot;</span>,<span class="st">&quot;låg&quot;</span><span class="op">:</span><span class="st"> </span><span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> ...</code></pre></div>
<p>Med <strong>Alternativ 1</strong> för hantering av kategorivariabler tilldelas de två kategorierna i den binära variabeln numeriska värden och variabeln analyseras sedan som en numerisk variabel. Det är vanligast att ge kategorierna värdena 0 och 1. En anledning är tolkningen blir i termer av andelar av den kategori som är kodad 1.</p>
<p>Exemplet nedan illustrerar hur man med det numeriska alternativet kan beskriva den ursprungliga variabeln <span class="math inline">\(utbildning\)</span> som har kategorierna <span class="math inline">\(low\)</span> och <span class="math inline">\(high\)</span>. Den uppenbara fördelen med att kodningen 0-1, jämfört med 1-2, är att 0-1 ger en bekväm tolkning eftersom medelvärdet då är proportionen.</p>
<p>Kommandot <strong>str()</strong> identifierar nu att både <em>utb_bin</em> och <em>utb_12</em> är av typen <em>numeric</em>.</p>
<p>Med <strong>mean()</strong> och <strong>summary()</strong> erhålls information som beskriver <em>utb_bin</em> och <em>utb_12</em>. Vi ser att 41% har hög utbildning, däremot framgår inte antalet som har låg respektive hög utbildning.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Numerisk kodning: 0 = låg, 1 = hög</span>
  df<span class="op">$</span>utb_bin &lt;-<span class="st"> </span><span class="ot">NA</span>
  df<span class="op">$</span>utb_bin[df<span class="op">$</span>utbildning <span class="op">==</span><span class="st"> &quot;hög&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
  df<span class="op">$</span>utb_bin[df<span class="op">$</span>utbildning <span class="op">==</span><span class="st"> &quot;låg&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
  <span class="kw">str</span>(df<span class="op">$</span>utb_bin)
<span class="op">&gt;</span><span class="st">  </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">280</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> ...
  phat &lt;-<span class="st"> </span><span class="kw">mean</span>(df<span class="op">$</span>utb_bin)
  phat
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="fl">0.4142857</span>
  <span class="kw">summary</span>(df<span class="op">$</span>utb_bin)
<span class="op">&gt;</span><span class="st">    </span>Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
<span class="op">&gt;</span><span class="st">  </span><span class="fl">0.0000</span>  <span class="fl">0.0000</span>  <span class="fl">0.0000</span>  <span class="fl">0.4143</span>  <span class="fl">1.0000</span>  <span class="fl">1.0000</span>

<span class="co"># Numerisk kodning: 1 = låg, 2 = hög</span>
  df<span class="op">$</span>utb_<span class="dv">12</span> &lt;-<span class="st"> </span><span class="ot">NA</span>
  df<span class="op">$</span>utb_<span class="dv">12</span> [df<span class="op">$</span>utbildning <span class="op">==</span><span class="st"> &quot;hög&quot;</span>] &lt;-<span class="st"> </span><span class="dv">2</span>
  df<span class="op">$</span>utb_<span class="dv">12</span> [df<span class="op">$</span>utbildning <span class="op">==</span><span class="st"> &quot;låg&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
  <span class="kw">summary</span>(df<span class="op">$</span>utb_<span class="dv">12</span> )
<span class="op">&gt;</span><span class="st">    </span>Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
<span class="op">&gt;</span><span class="st">   </span><span class="fl">1.000</span>   <span class="fl">1.000</span>   <span class="fl">1.000</span>   <span class="fl">1.414</span>   <span class="fl">2.000</span>   <span class="fl">2.000</span></code></pre></div>
<p>Med <strong>Alternativ 2</strong> används funktionen <strong>factor()</strong> för skapa en faktorvariabel <strong>utb_cat</strong></p>
<p>Kommandot <strong>str()</strong> identifierar nu att <strong>utb_cat</strong> har två nivåer med kategorinamnen<br />
<em>“låg”</em> and <em>“hög”</em>. R tilldelar automatiskt kategorierna <em>nivåer</em>, där “high” är level 1 och “low” är level 2. Observera att nivåer används för att bestämma en rangordning och kan inte användas i aritmetiska beräkningar. Även om valet av nominal- eller ordinalskala i teorin saknar betydelse för en binär variabel är det viktigt att veta ordningen på nivåerna om man hanterar variabeln som en faktor.Det finns nämligen analyser i R där ordningen spelar roll. Nivåerna bestäms utifrån den ordning kategorierna dyker upp i variabeln <em>såvida inte en numerisk variabel görs om till en faktor</em>.</p>
<p>Faktorvariabeln kan beskrivas med <strong>summary()</strong> som redovisar antalet inom respektive utbildningskategori. Däremot kan vi inte använda <strong>mean()</strong> och därmed inte fram andelen med denna funktion.</p>
<p>Det går att i funktionen <strong>factor()</strong> använda argumentet <strong>levels</strong> för att manuellt ange nivåerna. Dessutom kan det i detta exempel uppfattas som förvirrande för användaren att <em>hög</em> har tilldelats nivå 1 medan <em>låg</em> är nivå 2. Av dessa skäl ändras därför ordningen med hjälp av argumentet <em>levels</em>.</p>
<p>Vid arbete med faktorer används ofta en funktion (ej att förväxla med <em>argumententet</em> <strong>levels()</strong> för att ändra kategorinamn.I exemplet nedan används denna funktion för att ändra kategorinamn på <span class="math inline">\(utb_cat\)</span>. Koden för att ändra namn är inte uppenbar för nybörjaren och det är enklast om du kopierar koden nedan och ändrar den efter dina behov.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa en faktorvariabel  </span>
  df<span class="op">$</span>utb_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>utbildning)
  <span class="kw">str</span>(df<span class="op">$</span>utb_cat)
<span class="op">&gt;</span><span class="st">  </span>Factor w<span class="op">/</span><span class="st"> </span><span class="dv">2</span> levels <span class="st">&quot;hög&quot;</span>,<span class="st">&quot;låg&quot;</span><span class="op">:</span><span class="st"> </span><span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> ...
  <span class="kw">mean</span>(df<span class="op">$</span>utb_cat)
<span class="op">&gt;</span><span class="st"> </span>Warning <span class="cf">in</span> <span class="kw">mean.default</span>(df<span class="op">$</span>utb_cat)<span class="op">:</span><span class="st"> </span>argument is not numeric or logical<span class="op">:</span>
<span class="er">&gt;</span><span class="st"> </span>returning <span class="ot">NA</span>
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="ot">NA</span>
  <span class="kw">summary</span>(df<span class="op">$</span>utb_cat)
<span class="op">&gt;</span><span class="st"> </span>hög låg 
<span class="op">&gt;</span><span class="st"> </span><span class="dv">116</span> <span class="dv">164</span>
<span class="co"># Test att utföra en räkneoperation på en faktorvariabel</span>
  <span class="kw">mean</span>(df<span class="op">$</span>utb_cat)
<span class="op">&gt;</span><span class="st"> </span>Warning <span class="cf">in</span> <span class="kw">mean.default</span>(df<span class="op">$</span>utb_cat)<span class="op">:</span><span class="st"> </span>argument is not numeric or logical<span class="op">:</span>
<span class="er">&gt;</span><span class="st"> </span>returning <span class="ot">NA</span>
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="ot">NA</span>
<span class="co"># Ändra ordningen på nivåerna </span>
  df<span class="op">$</span>utb_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>utb_cat, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;låg&quot;</span>, <span class="st">&quot;hög&quot;</span>))
  <span class="kw">str</span>(df<span class="op">$</span>utb_cat)
<span class="op">&gt;</span><span class="st">  </span>Factor w<span class="op">/</span><span class="st"> </span><span class="dv">2</span> levels <span class="st">&quot;låg&quot;</span>,<span class="st">&quot;hög&quot;</span><span class="op">:</span><span class="st"> </span><span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> ...
  <span class="kw">summary</span>(df<span class="op">$</span>utb_cat)
<span class="op">&gt;</span><span class="st"> </span>låg hög 
<span class="op">&gt;</span><span class="st"> </span><span class="dv">164</span> <span class="dv">116</span>
<span class="co"># Ändra för valt element namn i vektor levels(utbildning_cat)  </span>
  <span class="kw">levels</span>(df<span class="op">$</span>utb_cat)[<span class="kw">levels</span>(df<span class="op">$</span>utb_cat) <span class="op">==</span><span class="st"> &quot;låg&quot;</span>] &lt;-<span class="st"> &quot;Låg utbildning&quot;</span>
  <span class="kw">levels</span>(df<span class="op">$</span>utb_cat)[<span class="kw">levels</span>(df<span class="op">$</span>utb_cat) <span class="op">==</span><span class="st"> &quot;hög&quot;</span>] &lt;-<span class="st"> &quot;Hög utbildning&quot;</span>
  df<span class="op">$</span>utb_cat
<span class="op">&gt;</span><span class="st">   </span>[<span class="dv">1</span>] Hög utbildning Hög utbildning Låg utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">   </span>[<span class="dv">5</span>] Hög utbildning Låg utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">   </span>[<span class="dv">9</span>] Låg utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">13</span>] Hög utbildning Hög utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">17</span>] Hög utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">21</span>] Hög utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">25</span>] Hög utbildning Låg utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">29</span>] Hög utbildning Låg utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">33</span>] Låg utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">37</span>] Låg utbildning Låg utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">41</span>] Hög utbildning Hög utbildning Låg utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">45</span>] Hög utbildning Låg utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">49</span>] Låg utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">53</span>] Hög utbildning Hög utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">57</span>] Hög utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">61</span>] Hög utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">65</span>] Hög utbildning Låg utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">69</span>] Hög utbildning Låg utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">73</span>] Låg utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">77</span>] Låg utbildning Låg utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">81</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">85</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">89</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">93</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st">  </span>[<span class="dv">97</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">101</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">105</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">109</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">113</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">117</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">121</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">125</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">129</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">133</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">137</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">141</span>] Hög utbildning Hög utbildning Låg utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">145</span>] Hög utbildning Låg utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">149</span>] Låg utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">153</span>] Hög utbildning Hög utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">157</span>] Hög utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">161</span>] Hög utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">165</span>] Hög utbildning Låg utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">169</span>] Hög utbildning Låg utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">173</span>] Låg utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">177</span>] Låg utbildning Låg utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">181</span>] Hög utbildning Hög utbildning Låg utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">185</span>] Hög utbildning Låg utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">189</span>] Låg utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">193</span>] Hög utbildning Hög utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">197</span>] Hög utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">201</span>] Hög utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">205</span>] Hög utbildning Låg utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">209</span>] Hög utbildning Låg utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">213</span>] Låg utbildning Hög utbildning Hög utbildning Hög utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">217</span>] Låg utbildning Låg utbildning Hög utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">221</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">225</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">229</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">233</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">237</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">241</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">245</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">249</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">253</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">257</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">261</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">265</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">269</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">273</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">277</span>] Låg utbildning Låg utbildning Låg utbildning Låg utbildning
<span class="op">&gt;</span><span class="st"> </span>Levels<span class="op">:</span><span class="st"> </span>Låg utbildning Hög utbildning</code></pre></div>
<p>Avslutningsvis är det viktigt att studera den betydelse <strong>bortfall</strong> har för analyserna. I exemplet nedan skapas bortfall genom att lägga bortfall kodat <em>NA</em> för observation 3 och 10. Vi ser att med <strong>summary()</strong> hanteras bortfallet i bägge fallen. Används däremot <strong>mean()</strong> måste argumentet <strong>na.rm</strong> användas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa en variabel med missing data (NA) i element 3, 10 i den numeriska</span>
<span class="co"># variabeln df$utb_bin och genomför samma analys som förut</span>
 df<span class="op">$</span>utb_bin_mis &lt;-<span class="st"> </span>df<span class="op">$</span>utb_bin
 df<span class="op">$</span>utb_bin_mis[<span class="dv">3</span>] &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>utb_bin_mis[<span class="dv">10</span>] &lt;-<span class="st"> </span><span class="ot">NA</span>
 <span class="kw">mean</span>(df<span class="op">$</span>utb_bin_mis)
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="ot">NA</span>
<span class="co"># Medelvärde baserat på 278 observationer</span>
 <span class="kw">mean</span>(df<span class="op">$</span>utb_bin_mis, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="fl">0.4136691</span>
 <span class="kw">summary</span>(df<span class="op">$</span>utb_bin_mis)
<span class="op">&gt;</span><span class="st">    </span>Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA<span class="st">&#39;s </span>
<span class="st">&gt;  0.0000  0.0000  0.0000  0.4137  1.0000  1.0000       2</span>

<span class="st"># Skapa en variabel med missing data (NA) i element 3, 10 i faktor-variabeln</span>
<span class="st"># utb_cat och genomför samma analys som förut </span>
<span class="st"> df$utb_cat_mis &lt;- df$utb_cat</span>
<span class="st"> df$utb_cat_mis[3] &lt;- NA</span>
<span class="st"> df$utb_cat_mis[10] &lt;- NA</span>
<span class="st"> summary(df$utb_cat_mis)</span>
<span class="st">&gt; Låg utbildning Hög utbildning           NA&#39;</span>s 
<span class="op">&gt;</span><span class="st">            </span><span class="dv">163</span>            <span class="dv">115</span>              <span class="dv">2</span></code></pre></div>
</div>
<div id="tabeller-och-figurer" class="section level3">
<h3><span class="header-section-number">5.1.2</span> Tabeller och figurer</h3>
<p>Tabeller och kategorivariabler är direkt relaterade och det går att redovisa en binär variabel med hjälp av tabell-funktionen <strong>table()</strong>. Denna funktion hanterar både en och flera variabler med olika antal kategorier. Eftersom <strong>table()</strong> kan vara något svår för nybörjaren är det lämpligt att introducera denna funktion på det enklaste fallet, nämligen tidigare skapade binära variablerna.</p>
<p>Vi ser att <strong>table()</strong> ger frekvenser oavsett om variabeln är numerisk eller en faktor. Det gäller dock att vara uppmärksam på bortfall eftersom <strong>table()</strong> ignorerar detta om vi inte anger något annat. För att presentera frekvenser även för bortfall används måste argumentet <strong>useNA</strong> användas. Tabellerna nedan illustrerar detta.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Tabell baserad på variabel utan bortfall</span>
 <span class="kw">table</span>(df<span class="op">$</span>utb_cat)
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>Låg utbildning Hög utbildning 
<span class="op">&gt;</span><span class="st">            </span><span class="dv">164</span>            <span class="dv">116</span>
<span class="co"># Tabell baserad på variabel med bortfall</span>
 <span class="kw">table</span>(df<span class="op">$</span>utb_cat_mis)
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>Låg utbildning Hög utbildning 
<span class="op">&gt;</span><span class="st">            </span><span class="dv">163</span>            <span class="dv">115</span>
<span class="co"># Tabell baserad på variabel med bortfall där vi tar hänsyn till detta i tabellen</span>
 <span class="kw">table</span>(df<span class="op">$</span>utb_cat_mis, <span class="dt">useNA =</span> <span class="st">&quot;ifany&quot;</span>)
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>Låg utbildning Hög utbildning           <span class="op">&lt;</span><span class="ot">NA</span><span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">            </span><span class="dv">163</span>            <span class="dv">115</span>              <span class="dv">2</span></code></pre></div>
<p>Varför använda <strong>table()</strong>? Genom att skapa ett tabell-objekt erhålls en flexibilitet genom att funktioner anpassade för tabeller kan användas. Den vanligaste funktionen är <strong>prop.table()</strong> som beräknar andelar (relativa frekvenser, proportioner) baserat på tabellobjektets frekvenser. Att enbart redovisa frekvenser är nämligen ofta inte tillräckligt om data ska analyseras.</p>
<p>Vi skapar nedan ett tabell-objekt med frekvenser, sedan appliceras <strong>prop.table()</strong> för att erhålla andelarna (0.414 och 0.586) för respektive utbildningsnivå.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="co"># Skapa tabell-objekt med frekvenser från tabell-objektetet</span>
<span class="er">&gt;</span><span class="st">  </span>freq_table_utb_cat &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>utb_cat)
<span class="op">&gt;</span><span class="st">  </span>freq_table_utb_cat
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>Låg utbildning Hög utbildning 
<span class="op">&gt;</span><span class="st">            </span><span class="dv">164</span>            <span class="dv">116</span>
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span><span class="co"># Skapa tabell med andelar från tabell-objektetet</span>
<span class="er">&gt;</span><span class="st">  </span>prop_table_utb_cat &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table_utb_cat)
<span class="op">&gt;</span><span class="st">  </span>prop_table_utb_cat
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>Låg utbildning Hög utbildning 
<span class="op">&gt;</span><span class="st">      </span><span class="fl">0.5857143</span>      <span class="fl">0.4142857</span></code></pre></div>
<p>Som nämnt är det i regel viktigt att beskriva <em>både frekvenser och andelar</em>.</p>
<p>Nedan görs detta genom använda <strong>cbind()</strong> och kombinera tabell-objektet med frekvenser och objektet med andelar med andelar. Sedan namnges kolumnerna <strong>colnames()</strong>. Eftersom <strong>utb_cat</strong>, då det är en faktorvariabel redan har kategorierna namngivna behöver raderna inte namnges. Om så inte vore fallet kunde vi använt <strong>rownames()</strong> för att namnge rader.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st">  </span><span class="co"># Kombinera frekvenser och andelar. Passa samtidigt på att avrunda till en decimal och göra om variabeln till procent. </span>
<span class="er">&gt;</span><span class="st">  </span>table_utb &lt;-<span class="st"> </span><span class="kw">cbind</span>(freq_table_utb_cat, <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>prop_table_utb_cat, <span class="dv">1</span>))
<span class="op">&gt;</span><span class="st">  </span>table_utb
<span class="op">&gt;</span><span class="st">                </span>freq_table_utb_cat     
<span class="op">&gt;</span><span class="st"> </span>Låg utbildning                <span class="dv">164</span> <span class="fl">58.6</span>
<span class="op">&gt;</span><span class="st"> </span>Hög utbildning                <span class="dv">116</span> <span class="fl">41.4</span>
<span class="op">&gt;</span><span class="st"> </span><span class="co"># Ge tabellens kolumner namn </span>
<span class="er">&gt;</span><span class="st">  </span><span class="kw">colnames</span>(table_utb) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Frekvens&quot;</span>, <span class="st">&quot;Procent (%)&quot;</span>)
<span class="op">&gt;</span><span class="st">  </span>table_utb
<span class="op">&gt;</span><span class="st">                </span>Frekvens <span class="kw">Procent</span> (%)
<span class="op">&gt;</span><span class="st"> </span>Låg utbildning      <span class="dv">164</span>        <span class="fl">58.6</span>
<span class="op">&gt;</span><span class="st"> </span>Hög utbildning      <span class="dv">116</span>        <span class="fl">41.4</span></code></pre></div>
<p>Ett alternativ till tabeller är figurer. För att illustrera kategorivariabler används ofta <strong>stapeldiagram</strong> och i R konstrueras sådana med funktionen <strong>barplot()</strong>. Det går att betrakta stapeldiagram som en grafisk representation av en tabell och vid användning av <strong>barplot()</strong> är därför utgångspunkten ofta (men inte alltid) ett tabell-objekt.</p>
<p>Nedan konstrueras två figurer, en baserad på tabell-objektet med frekvenser och en baserad på objektet med andelar. Observera att nedanstående är avsett att illustrera stapeldiagram och ett <strong>stapeldiagram tillför i fallet med en enda binär variabel ingen information.</strong> Det räcker nästan alltid med att istället bara ange numeriska värden.</p>
<p>Du bör uppmärksamma att i exemplet är axlarna namngivna på ett tydligt sätt! Vi kommer efterhand att introducera de möjligheter som finns att anpassa figurer till exakt hur man vill ha dem.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Stapeldiagram baserat på tabellen med frekvenser</span>
<span class="kw">barplot</span>(freq_table_utb_cat,     <span class="co"># Ange tabellen som ska beskrivas</span>
        <span class="dt">ylab =</span> <span class="st">&quot;Antal&quot;</span>)         <span class="co"># Ange namn för y-axeln</span></code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-177-1.png" width="384" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Stapeldiagram baserat på tabellen med andelar</span>
<span class="kw">barplot</span>(prop_table_utb_cat, 
        <span class="dt">ylab =</span> <span class="st">&quot;Procent (%)&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-177-2.png" width="384" /></p>
</div>
<div id="inferens" class="section level3">
<h3><span class="header-section-number">5.1.3</span> Inferens</h3>
<p>Hittills har vi ägnat oss åt att beskriva en binär variabel i stickprovet, men ofta är målet att uttala oss om egenskaper i en population, så kallad inferens. Vi kommer i detta avsnitt att utgå från en <em>beskrivande frågeställning</em> och följande två sätt att göra inferens är då vanliga.</p>
<ul>
<li>Det <strong>första</strong> sättet är att beräkna <strong>konfidensintervall</strong> för med viss säkerhet få en uppfattning om andelen i populationen, <span class="math inline">\(p\)</span>.</li>
<li>Det <strong>andra</strong> är att med <strong>hypotesprövning</strong> undersöka i vilken utsträckning vårt data stämmer överens med en hypotes om populationen, <span class="math inline">\(H_0: p =p_0\)</span>.</li>
</ul>
<p>Utgångspunkten är ett slumpmässigt urval från en <strong>stor population</strong> och vi börjar med att se hur ett <strong>konfidensintervall</strong> kan konstrueras för andelen <span class="math inline">\(p\)</span> i populationen. Stickprovsandelen är <span class="math inline">\(\hat{p}\)</span> kan definieras som <span class="math inline">\(\hat{p}=\dfrac{k}{n}\)</span> där <span class="math inline">\(n\)</span> är antal försök (antal 0or och 1or) och <span class="math inline">\(k\)</span> är antalet lyckade försök (antal 1or). Givet OSU och <span class="math inline">\(np(1-p)&gt;5\)</span> är andelsestimatorn approximativt normalfördelad och ett konfidensintervall ges av <span class="math display">\[
\hat{p}\pm z_{\alpha/2}\sqrt{\hat{V}(\hat{p})},
\]</span> där <span class="math inline">\(\hat{V}(\hat{p}) = \dfrac{\hat{p}(1-\hat{p})}{n}\)</span> är skattningen av stickprovsandelens varians och <span class="math inline">\(z_{\alpha/2}\)</span> är ett värde från den standardnormalfördelningen baserat på konfidensgraden <span class="math inline">\(100(1-\alpha)\%\)</span>. Notera att felmarginalen är <span class="math inline">\(z_{\alpha/2}\sqrt{\hat{V}(\hat{p})}\)</span>.</p>
<p>Anta variabeln <strong>utbldning</strong> består av mätningar på individer dragna med OSU från en stor population. Målet är att beräkna ett 95% konfidensintervall för andelen med högutbildning i populationen, <span class="math inline">\(p\)</span>. Genom att implementera ovanstående formler kan detta enkelt beräknas i R.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Beräkna antalet lyckade försök k (antal 1or)</span>
  k &lt;-<span class="st"> </span>freq_table_utb_cat[<span class="dv">2</span>]  
<span class="co"># Beräkna antal försök (1or or 0r). Denna kodning gör att eventuella NA inte tas med i beräkningen av n</span>
  n &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_utb_cat)
  <span class="co"># Skattning av andelen med hög utbildning. Det går även att använda mean(df$utb_bin)</span>
  phat &lt;-<span class="st"> </span>k<span class="op">/</span>n   
<span class="co"># Skatta variansen</span>
  vphat &lt;-<span class="st"> </span>phat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>phat)<span class="op">/</span>n
<span class="co"># Välja konfidensgrad 100*(1-alpha)%</span>
  alpha &lt;-<span class="st"> </span><span class="fl">0.05</span>
<span class="co"># Detta ger värdet för från z-fördelningen med 2.5% i högre svansen  </span>
  z_alpha &lt;-<span class="st"> </span><span class="kw">qnorm</span>((<span class="dv">1</span><span class="op">-</span>alpha<span class="op">/</span><span class="dv">2</span>))  
<span class="co"># Konfidensintervallets nedre gräns (lower limit) </span>
  ll &lt;-<span class="st"> </span>phat <span class="op">-</span><span class="st"> </span>z_alpha<span class="op">*</span><span class="kw">sqrt</span>(vphat)
<span class="co"># Konfidensintervallets övre gräns (upper limit) </span>
  ul &lt;-<span class="st"> </span>phat <span class="op">+</span><span class="st"> </span>z_alpha<span class="op">*</span><span class="kw">sqrt</span>(vphat)
  p_KI &lt;-<span class="st"> </span><span class="kw">c</span>(ll, ul)
  p_KI
Hög utbildning Hög utbildning 
     <span class="fl">0.3565876</span>      <span class="fl">0.4719839</span> 
<span class="co"># Undersöker förutsättningen np(1-p) &gt;5. Vi använder phat istället för p eftersom det är det enda vi # har. Man måste alltid undersöka om resultaten går att lita på!</span>
  n<span class="op">*</span>phat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>phat)
Hög utbildning 
      <span class="fl">67.94286</span> </code></pre></div>
<p>Vi skattar att 41.4% är högutbildade i populationen. Med 95% säkerhet är andelen högutbildade i populationen mellan 35.7% och 47.2%</p>
<p>Vi ska nu se på hur inferens kan göras i form av <strong>hypotesprövning</strong>. Givet OSU och samma förutsättningar som för skapandet av konfidensintervall gäller vid hypotesprövning av <span class="math inline">\(H_0: p = p_{H_0}\)</span> test-statistikan<br />
<span class="math display">\[z = \dfrac{\hat{p} - p_{H_0}}{\sqrt{\dfrac{p_{H_0}(1-p_{H_0})}{n}}}\]</span> är approximativt <span class="math inline">\(N(0,1)\)</span> om <span class="math inline">\(H_0\)</span> är sann.</p>
<p>För att exemplifiera, anta att vi vill undersöka om 40% i populationen har hög utbildning. Vi sätter upp hypoteserna <span class="math inline">\(H_0: p = 0.4\)</span> vs <span class="math inline">\(H_1: p \neq 0.4\)</span>. Utifrån från formeln ovan beräknas det observerat <span class="math inline">\(z\)</span>-värde. Vi ser sedan se hur extremt det är i en standardnormalfördelning för att få fram <span class="math inline">\(p\)</span>-värdet. Vad som avses med extremt beror på formulering av mothypotesen, dvs om den är ensidig eller tvåsidig. Om vi önskar fatta ett beslut jämförs <span class="math inline">\(p\)</span>-värdet mot en förvald signifikansnivå.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># p givet nollhypotesen</span>
  pH0 &lt;-<span class="st"> </span><span class="fl">0.4</span>
<span class="co"># Teststatistika</span>
  zobs &lt;-<span class="st"> </span>(phat <span class="op">-</span><span class="st"> </span>pH0)<span class="op">/</span><span class="kw">sqrt</span>(pH0<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>pH0)<span class="op">/</span>n)
  zobs
Hög utbildning 
       <span class="fl">0.48795</span> 
<span class="co"># Vi erhåller ett observerat z-värde. p-värdet är anger hur extremt detta z-värde. </span>
<span class="co"># pnorm() för sannolikheten VÄNSTER om z-värdet. Se Tabell 6.2.A i Formelsamling. För att beräkna # # p-värdet vid två sidig mothypotes används absolutbesloppet (abs()) och vi tar 1 minus och multiplicerar med 2. </span>
  p_value &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="kw">abs</span>(zobs)) )
  p_value
Hög utbildning 
     <span class="fl">0.6255852</span> </code></pre></div>
<p>Vi erhåller att <span class="math inline">\(p=\)</span> 0.626. Tolkningen är att <em>givet att andelen högutbildade i populationen skulle vara 40% är sannolikheten 0.63 att observera andelen som observeras eller mer extrem.</em> Data stämmer alltså ganska väl överens med nollhypotesen! Ett beslut på 5% signifikansnivå skulle innebär att vi inte kan förkasta nollhypotesen. Huruvida vi vill fatta ett beslut eller inte beror på målet för analysen.</p>
<p>Det finns dock en inbyggd funktion i R för att göra ovanstående analyser, nämligen <strong>prop.test()</strong>. I funktionen <strong>prop.test()</strong> anges först antalet lyckade försök (1or) samt det totala antalet försök (1or och 0r). Med argumentet <strong>p</strong> anges nollhypotesen och med argumentet <strong>alternative</strong> specificeras mothypotesen. Argumentet <strong>conf.level</strong> anger konfidensgrad för konfidensintervallet. Slutligen bestämmer argumentet <strong>correct</strong> om kontinuitetsskorrektion ska användas. Vi använder inte kontinuitetskorrektion på denna kurs och sätter denna till <em>FALSE</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Använd funktionen prop.test() för att skapa konfidensintervall utan korrigering</span>
  utb_analysis &lt;-<span class="st"> </span><span class="kw">prop.test</span>(<span class="dt">x =</span> k,        <span class="co"># Antal lyckade försök (1or)</span>
                            <span class="dt">n =</span> n,        <span class="co"># Antal försök (1or och 0or)</span>
                            <span class="dt">p =</span> <span class="fl">0.4</span>,      <span class="co"># H0</span>
                            <span class="dt">alternative =</span> <span class="st">&quot;two.sided&quot;</span>,  <span class="co"># Mothypotes</span>
                            <span class="dt">conf.level =</span> <span class="fl">0.95</span>,          <span class="co"># Signifikansnivå 1-conflevel</span>
                            <span class="dt">correct =</span> <span class="ot">FALSE</span>)            <span class="co"># Ej kontnuitetskorrektion</span>
  utb_analysis

    <span class="dv">1</span><span class="op">-</span>sample proportions test without continuity correction

data<span class="op">:</span><span class="st">  </span>k out of n, null probability <span class="fl">0.4</span>
X<span class="op">-</span>squared =<span class="st"> </span><span class="fl">0.2381</span>, df =<span class="st"> </span><span class="dv">1</span>, p<span class="op">-</span>value =<span class="st"> </span><span class="fl">0.6256</span>
alternative hypothesis<span class="op">:</span><span class="st"> </span>true p is not equal to <span class="fl">0.4</span>
<span class="dv">95</span> percent confidence interval<span class="op">:</span>
<span class="st"> </span><span class="fl">0.3581276</span> <span class="fl">0.4727639</span>
sample estimates<span class="op">:</span>
<span class="st">        </span>p 
<span class="fl">0.4142857</span> </code></pre></div>
<p>Vi börjar med att se på resultatet från hypotesprövningen och upptäcker exakt samma <span class="math inline">\(p\)</span>-värde som förut! Vårt tidigare observerade <span class="math inline">\(z\)</span>-värde, 0.488 erhålls genom att ta roten ur 0.2380952.</p>
<p>Vidare är konfidensintervallet mycket likt det tidigare framräknade intervallet. De överensstämmer dock inte exakt, vilket beror på att R använder något en annan formel för konfidensintervallet som har något bättre egenskaper om andelen är nära 0 eller 1 och stickprovet är litet.</p>
<p>Anta att vi vill hämta värden från analysen som finns i det sparade objektet <strong>utb_analysis</strong>. Genom att använda <strong>str()</strong> redovisas vad som finns sparat i objektet. Koden nedan illustrerar hur <span class="math inline">\(p\)</span>-värdet kan hämtas om vi enbart är intresserad av just detta.</p>
<hr />
<p><img src="docs/images/warning.png" width="5%" /></p>
<style>
div.green{ background-color:#abd4b3; border-radius: 5px; padding: 20px;}
</style>
<div class="green">
<p><font size="5"> Risk med inferens när <span class="math inline">\(p\)</span> är nära 0 eller 1 </font></p>
<ul>
<li>Om andelen i populationen är nära 0 eller 1 krävs stort stickprov för att inferensen ska bli korrekt! Tumregeln <span class="math inline">\(np(1-p)&gt;5\)</span> fungerar dåligt om andelen i populationen är mycket nära 0 eller 1. Konsekvensen blir för lägre konfidensgrad och ett högre Typ-I fel än i förväg angivet. Vi gör fel oftare!</li>
</ul>
<p>Beträffande konfidensintervall är Wilson score interval, som är det konfidensintervall R använder i <strong>prop.test</strong>, ett något bättre alternativ än den formeln som vi använder. I de absolut flesta fall har det inget betydelse om vi väljer <strong>prop.test()</strong> eller intervallet som baseras på normalapproximation.</p>
<p>För hypotesprövning finns alternativet att använda ett så kallat exakt binomial-test. Detta test introduceras emellertid inte här utan vi hänvisar till funktionen <strong>binom.test()</strong> och tillhörande dokumentation.</p>
<p>Var som sagt uppmärksam om andelen är nära 0 eller nära 1!</p>
<p><strong>Undersök på egen hand med följande app!</strong></p>
<p><a href="https://jetty.im.uu.se/shiny/ConfidenceIntervals_prop/" class="uri">https://jetty.im.uu.se/shiny/ConfidenceIntervals_prop/</a></p>
</div>
<hr />
<p><img src="docs/images/note.png" width="5%" /></p>
<style>
div.yellow{ background-color:#FFFA94; border-radius: 5px; padding: 20px;}
</style>
<div class="yellow">
<p><font size="5"> Test av andelar eller <span class="math inline">\(\chi^2\)</span>-test? </font></p>
<ul>
<li>Ett <strong>prop.test()</strong> med två-sidig mothypotes är likvärdigt med <span class="math inline">\(\chi^2\)</span>-test. <span class="math inline">\(\chi^2\)</span>-statistikan är samma som <span class="math inline">\(z\)</span>-statistikan i kvadrat! Problemet med test av <span class="math inline">\(p\)</span> kan nämligen formuleras som ett goodness-of-fit test med observerade frekvenser (<span class="math inline">\(116\)</span> 1or och <span class="math inline">\(164\)</span> 0or) och under nollhypotesen förväntade frekvenser (<span class="math inline">\(np_{H_0}=112\)</span> 1or och <span class="math inline">\(n(1-p_{H_0})=168\)</span> 0r). Vi illusterar i en tabell:</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="center">1or</th>
<th align="center">0or</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">116 (112)</td>
<td align="center">164 (168)</td>
</tr>
</tbody>
</table>
<p>Formeln för <span class="math inline">\(\chi^2\)</span>-testet går det sedan att tillämpa <span class="math display">\[\chi^2 = \sum_{i=1}^2 \dfrac{(O_i-E_i)^2}{E_i} = \dfrac{(116-112)^2}{112} + \dfrac{(164-168)^2}{168}=0.2381\]</span> vilket i detta fall jämförs med en <span class="math inline">\(\chi^2\)</span>-fördelning med 1 frihetsgrad. Notera att mothypotesen vid <span class="math inline">\(\chi^2\)</span>-testet alltid är två-sidig, vilket motiverar användningen av <strong>prop.test()</strong>.</p>
</div>
<hr />
</div>
</div>
<div id="två-binära-variabler" class="section level2">
<h2><span class="header-section-number">5.2</span> Två binära variabler</h2>
<div id="tabeller" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Tabeller</h3>
<p>Det primära analysverktyget för två binära variabler är i regel <strong>table()</strong>. Även om <strong>table()</strong> kan användas vid analys av en enda variabel, är den framför allt användbar för att skapa korstabeller, dvs analys av två kategorivariabler samtidigt. I <strong>table()</strong> anges den radvisa variabeln först, sedan kolumnvisa variabeln. Tabellen som erhålls kallas i fallet med två variabler för tvåvägs-korstabell. I de fall det går att översätta variablerna i termer av oberoende variabel och beroende variabel, sätts den oberoende variabeln i regel kolumnsvis (x-axel) och den beroende variabeln radvis (y-axel). Detta är analogt med spridningsdiagram som har en <span class="math inline">\(x\)</span>-variabel och en <span class="math inline">\(y\)</span>-variabel!</p>
<p>Vi ska nu beskriva sambandet mellan utbildningsnivå och rökning. Först skapas en korstabell med frekvenser, sedan skapas en tabell innehållande andelar. Notera att det kräver en del pusslande för att få tabeller precis som man önskar, men i gengäld erhålls stor flexibilitet vad gäller den slutliga utformningen av tabellen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa en variabel rokare som är 1 om rökare och 0 om icke-rökare  </span>
<span class="co"># Korstabulering av utb_bin och rokare (rökning radvis och utbildning kolumnvis)</span>
  freq_table_utb_rokare &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>rokare, df<span class="op">$</span>utb_cat)
  freq_table_utb_rokare
<span class="op">&gt;</span><span class="st">    </span>
<span class="er">&gt;</span><span class="st">     </span>Låg utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">   </span><span class="dv">0</span>             <span class="dv">76</span>             <span class="dv">80</span>
<span class="op">&gt;</span><span class="st">   </span><span class="dv">1</span>             <span class="dv">88</span>             <span class="dv">36</span></code></pre></div>
<p>Vi har en tabell med frekvenser, men för att använda tabellen måste den i regel modifieras. För det första måste rader och kolumner tydligare namnges. Vi kan här tillämpa <strong>rownames()</strong> eller <strong>colnames()</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Med rownames() kan vi förtydliga radnamnen  </span>
 <span class="kw">rownames</span>(freq_table_utb_rokare) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Icke rökare&quot;</span>, <span class="st">&quot;Rökare&quot;</span>)
 freq_table_utb_rokare
<span class="op">&gt;</span><span class="st">              </span>
<span class="er">&gt;</span><span class="st">               </span>Låg utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">   </span>Icke rökare             <span class="dv">76</span>             <span class="dv">80</span>
<span class="op">&gt;</span><span class="st">   </span>Rökare                  <span class="dv">88</span>             <span class="dv">36</span></code></pre></div>
<p>Sedan måste sambandet åskådliggöras bättre om sambandsanalys är syftet. Det är nämligen svårt avläsa samband med enbart frekvenser, därför måste andelar (procent) anges. Precis som tidigare används därför funktionen <strong>prop.table()</strong> på ett objekt från <strong>table()</strong>. En två-vägs kortstabell ger nu <strong>prop.table()</strong> tre möjligheter att beräkna andelar:</p>
<ul>
<li>Andelar baserade på totala antalet (default)</li>
<li>Andelar beräknade utifrån radvisa totaler i nämnarna, genom att sätta argumentet <strong>margin = 1</strong></li>
<li>Andelar baserade på kolumnvisa totaler i nämnarna, genom sätta argumentet <strong>margin = 2</strong>.</li>
</ul>
<p>Notera att det är <strong>mycket viktigt</strong> att välja rätt andelar att beräkna eftersom dessa styr tolkningen av resultaten. Vi illustrerar nu hur andelarna beräknas i R och tolkar dem sen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Andelar baserat alla</span>
  table_all &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table_utb_rokare)
  table_all
<span class="op">&gt;</span><span class="st">              </span>
<span class="er">&gt;</span><span class="st">               </span>Låg utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">   </span>Icke rökare      <span class="fl">0.2714286</span>      <span class="fl">0.2857143</span>
<span class="op">&gt;</span><span class="st">   </span>Rökare           <span class="fl">0.3142857</span>      <span class="fl">0.1285714</span>
<span class="co"># Andelar baserat rader</span>
  table_row_prop &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table_utb_rokare, <span class="dt">margin =</span> <span class="dv">1</span>)
  table_row_prop 
<span class="op">&gt;</span><span class="st">              </span>
<span class="er">&gt;</span><span class="st">               </span>Låg utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">   </span>Icke rökare      <span class="fl">0.4871795</span>      <span class="fl">0.5128205</span>
<span class="op">&gt;</span><span class="st">   </span>Rökare           <span class="fl">0.7096774</span>      <span class="fl">0.2903226</span>
<span class="co"># Andelar baserat kolumner</span>
  table_column_prop &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table_utb_rokare, <span class="dt">margin =</span> <span class="dv">2</span>)
  table_column_prop  
<span class="op">&gt;</span><span class="st">              </span>
<span class="er">&gt;</span><span class="st">               </span>Låg utbildning Hög utbildning
<span class="op">&gt;</span><span class="st">   </span>Icke rökare      <span class="fl">0.4634146</span>      <span class="fl">0.6896552</span>
<span class="op">&gt;</span><span class="st">   </span>Rökare           <span class="fl">0.5365854</span>      <span class="fl">0.3103448</span></code></pre></div>
<p>Spendera tid med att tolka de olika tabellerna! För att förenkla tolkningen beskriver vi nedan sambanden i termer av sannolikheter.</p>
<ul>
<li>Den första tabellen visar att av alla i undersökningen är 27.1% icke-rökare och har låg utbildning. Om urvalet är slumpmässigt är detta således en skattning av sannolikheten <span class="math inline">\(\Pr(\text{Icke-rökare}\,\, \&amp; \,\, \text{Låg utbildning})\)</span>. På motsvarande sätt är 28.6%, 31.4% och 12.9% skattningar av <span class="math inline">\(\Pr(\text{Icke-rökare}\,\, \&amp; \,\, \text{Hög utbildning})\)</span>, <span class="math inline">\(\Pr(\text{Rökare}\,\, \&amp; \,\, \text{Låg utbildning})\)</span> och <span class="math inline">\(\Pr(\text{Rökare}\,\, \&amp; \,\, \text{Hög utbildning})\)</span>. Huruvida dessa skattningar är relevanta beror på syftet med undersökningen.</li>
<li>Den andra tabellen visar, genom att beräkna radprocent, att bland icke-rökarna har 48.7% låg utbildning. Det innebär naturligtvis att bland icke-rökarna har 51.3% hög utbildning. Om urvalet är slumpmässigt är dessa skattningar av <span class="math inline">\(\Pr(\text{Låg utbildning}|\text{Icke-rökare})\)</span> och <span class="math inline">\(\Pr(\text{Hög utbildning}|\text{Icke-rökare})\)</span>. På motsvarande sätt har 71% låg utbildning respektive 29% hög utbildning bland rökarna. <span class="math inline">\(\Pr(\text{Låg utbildning}|\text{Rökare})\)</span> och <span class="math inline">\(\Pr(\text{Hög utbildning}|\text{Rökare})\)</span>. Vi kan alltså med denna analys jämföra utbildningsnivån bland icke-rökare och rökare.</li>
<li>Den tredje tabellen visar, genom att beräkna kolumnprocent, att bland de lågutbildade röker 53.7% medan bland de högutbildade röker 31%. Detta är således skattningar av <span class="math inline">\(\Pr(\text{Rökare} | \text{Låg utbildning})\)</span> respektive <span class="math inline">\(\Pr(\text{Rökare} | \text{Hög utbildning})\)</span>. På motsvarande sätt är 46.3% och 69% skattningar av <span class="math inline">\(\Pr(\text{Icke-rökare}|\text{Låg utbildning})\)</span> och <span class="math inline">\(\Pr(\text{Icke-rökare}|\text{Hög utbildning})\)</span>. Vi kan konstatera att i stickprovet är andelen rökare större bland lågutbildade än högutbildade.</li>
</ul>
<p>Vilken tabell som redovisas beror således på frågeställning. Om syftet är att studera huruvida utbildning påverkar benägenheten att röka är det den tredje tabellen den som ska redovisas. Det är nämligen i denna enkelt att jämföra andelarna som röker i respektive utbildningskategori.</p>
<p>Vi konstruerar nu en korstabell innehåller <em>både</em> frekvenser och andelar baserade på kolumner och som tydligt beskriver sambandet. Tabellen konstrueras med <strong>cbind()</strong>, dessutom skapas procent med en decimal genom att använda **round(100*andel,1)**.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa tabell för presentation av analys</span>
  table_utb_rokare &lt;-<span class="st"> </span><span class="kw">cbind</span>(freq_table_utb_rokare[,<span class="dv">1</span>], <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>table_column_prop[,<span class="dv">1</span>], <span class="dv">1</span>),
                            freq_table_utb_rokare[,<span class="dv">2</span>], <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>table_column_prop[,<span class="dv">2</span>], <span class="dv">1</span>))
<span class="co"># Ange kolumnm</span>
  <span class="kw">colnames</span>(table_utb_rokare) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Låg (n)&quot;</span>, <span class="st">&quot;Låg (%)&quot;</span>, <span class="st">&quot;Hög (n)&quot;</span>, <span class="st">&quot;Hög (%)&quot;</span>)
<span class="co"># Se på tabellen</span>
  table_utb_rokare
<span class="op">&gt;</span><span class="st">             </span>Lå<span class="kw">g</span> (n) Lå<span class="kw">g</span> (<span class="op">%) Hög (n) Hög (%</span>)
<span class="op">&gt;</span><span class="st"> </span>Icke rökare      <span class="dv">76</span>    <span class="fl">46.3</span>      <span class="dv">80</span>      <span class="dv">69</span>
<span class="op">&gt;</span><span class="st"> </span>Rökare           <span class="dv">88</span>    <span class="fl">53.7</span>      <span class="dv">36</span>      <span class="dv">31</span></code></pre></div>
<p>Avslutningsvis, för fullständighetens skull, används funktionen <strong>addmargins()</strong> på tabellobjektet för att addera marginalsummor till tabellen. Genom att ange 1 adderas kolumnsummor, genom att ange två adderas radsummor. Anges inget argument adderas kolumnssummor och radsummor.</p>
<p>Nu är vi klara med tabellen! Det som återstår är att exportera den till ett ordbehandlingsprogram eller ett bildspel, men detta beskrivs i ett senare avsnitt.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  table_utb_rokare_final &lt;-<span class="st"> </span><span class="kw">addmargins</span>(table_utb_rokare, <span class="dv">1</span>) 
  <span class="kw">rownames</span>(table_utb_rokare_final) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Icke-rökare&quot;</span>, <span class="st">&quot;Rökare&quot;</span>, <span class="st">&quot;Summa&quot;</span>)
  table_utb_rokare_final 
<span class="op">&gt;</span><span class="st">             </span>Lå<span class="kw">g</span> (n) Lå<span class="kw">g</span> (<span class="op">%) Hög (n) Hög (%</span>)
<span class="op">&gt;</span><span class="st"> </span>Icke<span class="op">-</span>rökare      <span class="dv">76</span>    <span class="fl">46.3</span>      <span class="dv">80</span>      <span class="dv">69</span>
<span class="op">&gt;</span><span class="st"> </span>Rökare           <span class="dv">88</span>    <span class="fl">53.7</span>      <span class="dv">36</span>      <span class="dv">31</span>
<span class="op">&gt;</span><span class="st"> </span>Summa           <span class="dv">164</span>   <span class="fl">100.0</span>     <span class="dv">116</span>     <span class="dv">100</span></code></pre></div>
</div>
<div id="kvantifiering-av-samband" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Kvantifiering av samband</h3>
<p>Samband eller beroende mellan två binära variabler kan kvantifieras med olika mått. Ett vanligt sätt är användning av <span class="math inline">\(\chi^2\)</span>-måttet för att testa om två variabler är oberoende och kan sägas undersöka hur starkt ett samband är. Förutom <span class="math inline">\(\chi^2\)</span>-måttet finns en rad andra mått för graden av beroende, såsom Lambda-koefficienten, Cramérs V och tetrakorisk korrelation. Dessa mått introduceras inte här, men det kan vara bra att känna till att det finns alternativ till ^2$-måttet.</p>
<p>Ofta vill undersökaren dock relatera sambandet till en konkret frågeställning som inte bara handlar om beroende, det vill säga man önskar få en uppfattning av storleken på sambandet. De tre vanligaste måtten på storleken på samband (så kallade effektstorlekar) mellan två binära variabler är:</p>
<ul>
<li><strong>Skillnaden i andelar</strong> (absolut jämförelse av andelar): <span class="math display">\[p_{diff} = \Pr(Y=1|X=1) - \Pr(Y=0|X=1) = p_1 - p_0\]</span>. Skillnaden i andelar kan anta värdena <span class="math inline">\(-1 \leq p_{diff} \leq1\)</span>. Ofta kallat riskdifferens. Skillnaden i andelar är även en skillnad i procentenheter. <span class="math inline">\(0\)</span> indikerar ingen skillnad. Positiva värden indikerar en högre sannolikhet i grupp 1 jämfört med grupp 0. Negativa värden indikerar en lägre sannolikhet i grupp 1 jämfört med grupp 0.</li>
<li><strong>Kvoten av andelar</strong> (relativ jämförelse av andelar): <span class="math display">\[p_{kvot} = \dfrac{\Pr(Y=1|X=1)}{\Pr(Y=0|X=1)}= p_1/p_0\]</span>. Kvoten av andelar kan anta värdena <span class="math inline">\(0 \leq p_{kvot} &lt; \infty\)</span>. Ofta kallat relativ risk. <span class="math inline">\(p_{kvot}=1\)</span> indikerar ingen skillnad mellan grupperna. <span class="math inline">\(p_{kvot} &gt;1\)</span> indikerar en högre sannolikhet i grupp 1 jämfört med grupp 0. <span class="math inline">\(p_{kvot} &lt; 1\)</span> indikerar en lägre sannolikhet i grupp 1 jämfört med grupp 0.</li>
<li><strong>Oddskvoten</strong> (relativ jämförelse av odds): <span class="math display">\[OR = \dfrac{Odds(X=1)}{Odds(X=0)}=\dfrac{\dfrac{\Pr(Y=1|X=1)}{1 - \Pr(Y=1|X=1)}}{\dfrac{\Pr(Y=1|X=0)}{1 - \Pr(Y=1|X=0)}} = \dfrac{p_1/(1-p_1)}{p_0/(1-p_0)},\]</span>, där oddset för en händelse givet <span class="math inline">\(x\)</span> är definierat som <span class="math display">\[Odds(X=x)=\dfrac{\Pr(Y=1|X=x)}{1-(\Pr(Y=1|X=x)}=\dfrac{\Pr(Y=1|X=x)}{\Pr(Y=0|X=x)}.\]</span> Oddskvoten kan anta värdena <span class="math inline">\(0 \leq OR &lt; \infty\)</span>. Ofta kallat oddsratio. <span class="math inline">\(OR=1\)</span> indikerar ingen skillnad mellan grupperna. <span class="math inline">\(OR &gt;1\)</span> indikerar en högre sannolikhet i grupp 1 jämfört med grupp 0. <span class="math inline">\(OR &lt; 1\)</span> indikerar en lägre sannolikhet i grupp 1 jämfört med grupp 0.</li>
</ul>
<p>Notera att ovanstående mått är definierade utifrån populationen. I praktiken används motsvarigheterna i stickprovet <span class="math inline">\(\hat{p_1}=k_1/n_1\)</span> och <span class="math inline">\(\hat{p_0}=k_0/n_0\)</span>, där <span class="math inline">\(k_1\)</span> och <span class="math inline">\(k_0\)</span> är antalet lyckade försök (1or) i respektive <span class="math inline">\(x\)</span>-kategori och <span class="math inline">\(n_1\)</span> och <span class="math inline">\(n_0\)</span> är antalet försök i respektive <span class="math inline">\(x\)</span>-kategori.</p>
<p>Vilket av dessa tre mått som är mest relevant att presentera beror på syftet med undersökningen och ofta bör åtminstone både ett absolut mått och ett relativt mått presenteras. Måste man göra en indelning kan absoluta jämförelser av andelar ofta (men inte alltid!) vara mest policy-relevant eftersom måttet kan tolkas som en skillnad i procenheter mellan två stycken grupper. Däremot kan en relativ jämförelse av andelar uppfattas som mer relevant för en enskild individ. Detta beror dock på andra faktorer som populationsstorleken!</p>
<p>Eftersom oddskvoten inte är lika enkel att förstå som relativa andelar är det ett mått som i regel främst väljs på grund av studiedesign eller statistisk analysmetod.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Beräkna andelen rökare bland högutbildade. Det går även att använda mean( rokare[df$utb_bin == 1] ) eller table_row_prop[2,2]  </span>
 k1 &lt;-<span class="st">  </span>freq_table_utb_rokare[<span class="dv">2</span>,<span class="dv">2</span>] 
 n1 &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_utb_rokare[,<span class="dv">2</span>])   <span class="co"># Summera antal i kolumn 2, dvs de i kategori 1</span>
 phat1 &lt;-<span class="st"> </span>k1<span class="op">/</span>n1
<span class="co"># Beräkna andelen rökare bland lågutbildade. Det går även att använda mean( rokare[df$utb_bin == 0] ) eller table_row_prop[2,1] </span>
 k0 &lt;-<span class="st"> </span>freq_table_utb_rokare[<span class="dv">2</span>,<span class="dv">1</span>]
 n0 &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_utb_rokare[,<span class="dv">1</span>])   <span class="co"># Summera antal i kolumn 1, dvs de i kategori 0</span>
 phat0 &lt;-<span class="st"> </span>k0<span class="op">/</span>n0
<span class="co"># Skillnad i andelar </span>
 phat_diff &lt;-<span class="st"> </span>phat1 <span class="op">-</span><span class="st"> </span>phat0
 phat_diff
[<span class="dv">1</span>] <span class="op">-</span><span class="fl">0.2262405</span>
<span class="co"># kvot av andelar </span>
 phat_kvot &lt;-<span class="st"> </span>phat1<span class="op">/</span>phat0
 phat_kvot
[<span class="dv">1</span>] <span class="fl">0.5783699</span>
<span class="co"># oddskvot</span>
 orhat &lt;-<span class="st"> </span>(phat1<span class="op">/</span>(<span class="dv">1</span><span class="op">-</span>phat1))<span class="op">/</span>((phat0<span class="op">/</span>(<span class="dv">1</span><span class="op">-</span>phat0)))
 orhat
[<span class="dv">1</span>] <span class="fl">0.3886364</span></code></pre></div>
<p>Tolkningen av dessa tre resultat är:</p>
<ul>
<li>Bland högutbildade röker 22 procentenheter mindre jämfört med lågutbildade.</li>
<li>Högutbildade har 100(1 - 0.578)% = 42.2% reducerad sannolikhet (risk) att röka jämfört med lågutbildade.</li>
<li>Högutbildade har 100(1 - 0.389)% = 62.1% reducerat odds för att röka jämfört lågutbildade.</li>
</ul>
<p>En pedagogisk poäng skulle vara att vända på analysen, dvs att sätta den kategori som ökar sannolikheten (lågutbildade) som 1 och jämförelsekategorin (högutbildade) som 0. Detta skulle ge följande resultat och tolkning:</p>
<ul>
<li>Bland lågutbildade röker 22 procentenheter fler jämfört med lågutbildade.</li>
<li>Lågutbildade har 72.9% ökad sannolikhet att röka jämfört med högutbildade.</li>
<li>Lågutbildade har 2.57 gånger större odds för att röka jämfört med lågutbildade.</li>
</ul>
<hr />
<p><img src="docs/images/note.png" width="5%" /></p>
<style>
div.yellow{ background-color:#FFFA94; border-radius: 5px; padding: 20px;}
</style>
<div class="yellow">
<p><font size="5"> Absoluta eller relativa jämförelser av andelar? </font></p>
<ul>
<li><p>Anta att 0.2% (2 av 1000) av alla som får Covid-19 dör. Ett studie visar att ett nytt antiviralt läkemedel leder till att endast 0.1% (1 av 1000) dör. Det är en skillnad i dödlighet på endast 0.1 procentenheter, men för individen innebär detta en halverad risk för att dö! Huruvida det är policyrelevant beror dock på hur många man räknar med att drabbas. Låt säg att bara 10 000 drabbas av Covid-19, då skulle läkemedlet rädda 10 liv. Skulle däremot 1 miljon få Covid-19 då skulle läkemedlet potentiellt rädda 10 000 liv.</p></li>
<li><p>Anta att arbetsförmedlingen introducerar ett nytt åtgärdsprogram riktat mot gymnasieungdomar som riskerar att inte slutföra gymnasieskolan. Bland eleverna som deltar i programmet kommer 90% få slutbetyg, medan i kontrollgrupp får 70% slutbetyg. Det är alltså en skillnad på hela 20 procentenheter. För en individ ökar dock sannolikheten till behörighet med endast 29%.</p></li>
</ul>
</div>
<hr />
</div>
<div id="figurer" class="section level3">
<h3><span class="header-section-number">5.2.3</span> Figurer</h3>
<p>För att åskådliggöra samband mellan två binära variabler används återigen oftast <strong>barplot()</strong>.</p>
<ul>
<li>Med <em>freq_table_utb_rokare</em> skapas ett stapeldiagram som redovisar antalet i respektive kategori. Vad denna figur visar är att det finns fler lågutbildade än högutbildade. Dessutom relaterar diagrammet direkt till frekvenserna i varje cell i tabellen. Denna figur är kan vara användbar i en del fall, men ofta blir det svårt att utläsa samband.</li>
<li>Med <em>table_row_prop</em> blir figuren meninglös eftersom andelen lågutbildade är mer än 1!</li>
<li>Med <em>table_col_prop</em> ges en tydlig bild av om andelen rökare inom respektive utbildning. Om vi däremot önskar få någon uppfattning om <em>antalet</em> som finns i respektive utbildningskategori ger denna figur ingen information.</li>
</ul>
<p>Vi illusterar nedan. För fullständighetens finns även argumentet <strong>legend</strong> med i koden. En <strong>legend</strong> i R är en förklaring av komponenterna i figuren. Prova kör de olika figurerna nedan och relatera till koden.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Stapeldiagram med frekvenser</span>
 <span class="kw">barplot</span>(freq_table_utb_rokare,                               <span class="co"># Tabellen</span>
         <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;Låg utbildning&quot;</span>, <span class="st">&quot;Hög utbildning&quot;</span>),   <span class="co"># Ge namn till staplarna</span>
         <span class="dt">ylab =</span> <span class="st">&quot;Antal&quot;</span>,                                      <span class="co"># Namn till y-axeln</span>
         <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Icke-rökare&quot;</span>, <span class="st">&quot;Rökare&quot;</span>),                 <span class="co"># Namn till kategorierna</span>
         <span class="dt">args.legend =</span>  <span class="kw">c</span>(<span class="dt">y =</span> <span class="dv">190</span>,                            <span class="co"># Ställa in position,</span>
                          <span class="dt">horiz =</span> <span class="ot">TRUE</span>,                      <span class="co"># Horisontell legend</span>
                          <span class="dt">bty =</span><span class="st">&#39;n&#39;</span>))                         <span class="co"># Ta bort kantlinje i legend.</span></code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-191-1.png" width="384" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Stapeldiagram med radprocent (felaktigt diagram!)</span>
 <span class="kw">barplot</span>(table_row_prop, 
         <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;Låg utbildning&quot;</span>, <span class="st">&quot;Hög utbildning&quot;</span>), 
         <span class="dt">ylab =</span> <span class="st">&quot;Andel&quot;</span>, 
         <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Icke-rökare&quot;</span>, <span class="st">&quot;Rökare&quot;</span>), 
         <span class="dt">args.legend =</span>  <span class="kw">c</span>(<span class="dt">y =</span> <span class="fl">1.4</span>, 
                          <span class="dt">horiz =</span> <span class="ot">TRUE</span>, 
                          <span class="dt">bty =</span><span class="st">&#39;n&#39;</span>))</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-191-2.png" width="384" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Stapeldiagram med kolumn</span>
 <span class="kw">barplot</span>(table_column_prop, 
         <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;Låg utbildning&quot;</span>, <span class="st">&quot;Hög utbildning&quot;</span>), 
         <span class="dt">ylab =</span> <span class="st">&quot;Andel&quot;</span>, 
         <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Icke-rökare&quot;</span>, <span class="st">&quot;Rökare&quot;</span>), 
         <span class="dt">args.legend =</span>  <span class="kw">c</span>(<span class="dt">y =</span> <span class="fl">1.2</span>, 
                          <span class="dt">horiz =</span> <span class="ot">TRUE</span>, 
                          <span class="dt">bty =</span><span class="st">&#39;n&#39;</span>))</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-191-3.png" width="384" /></p>
<p>Anta att syftet är att studera andelen rökare inom respektive utbildningskategori och vi väljer därför figuren som baseras på <strong>table_column_prop</strong>.</p>
<p>Med argumentet <strong>beside</strong> och placering av staplarna bredvid varandra kan sambandet eventuellt tydligare åskådliggöras. Alternativt skapas ett stapeldiagram baserad på enbart rad 2 från tabellen, dvs andelen rökare i respektive kategori. Förmodligen är detta sista stapeldiagram det tydligaste om vi bara är intresserade av att jämföra andelarna i respektive utbildningsnivå.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Uppdelat stapeldiagram </span>
 <span class="kw">barplot</span>(table_column_prop, 
         <span class="dt">beside=</span><span class="ot">TRUE</span>, 
         <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;Låg utbildning&quot;</span>, <span class="st">&quot;Hög utbildning&quot;</span>), 
         <span class="dt">ylab =</span> <span class="st">&quot;Andel&quot;</span>, 
         <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Icke-rökare&quot;</span>, <span class="st">&quot;Rökare&quot;</span>),
         <span class="dt">args.legend =</span>  <span class="kw">c</span>(<span class="dt">y =</span> <span class="fl">0.8</span>, 
                          <span class="dt">horiz =</span> <span class="ot">TRUE</span>, 
                          <span class="dt">bty =</span><span class="st">&#39;n&#39;</span>))</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-192-1.png" width="384" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Stapeldiagram som enbart redovisar andelen rökare i respektive utbildningsnivå</span>
<span class="kw">barplot</span>( table_row_prop[<span class="dv">2</span>,], 
         <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;Låg utbildning&quot;</span>, <span class="st">&quot;Hög utbildning&quot;</span>), 
         <span class="dt">ylab =</span> <span class="st">&quot;Andel rökare&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-192-2.png" width="384" /></p>
<hr />
<p><img src="docs/images/tip.png" width="5%" /></p>
<style>
div.burly{ background-color:#EAF2F8; border-radius: 5px; padding: 20px;}
</style>
<div class = "burly">

<p><font size="5"> Tips för ytterligare modifering av stapeldiagram </font></p>
<p>Varför inte unyttja den funktionalitet som R erbjuder? Den sista figuren är korrekt, men det kan behövas ytterligare modifiering för att få figuren estestisk tilltalande. Nedan presenteras ett sådant exempel. Vad gör denna figuren bättre än tidigare figurer tycker du?</p>
<p><img src="dpk_files/figure-html/unnamed-chunk-194-1.png" width="384" /></p>
<p>Notera att utförligare information presenteras i kapitlet med figurer och om koden i exemplet är komplicerad så kan du avvakta. Det är dock ofta en bra princip att titta på kod och undersöka vad som händer när man modifierar koden.</p>
<button title="figurrokareutbildning" type="button" onclick="if(document.getElementById('figurrokareutbildning') .style.display=='none')
              {document.getElementById('figurrokareutbildning') .style.display=''}
            else{document.getElementById('figurrokareutbildning') .style.display='none'}">
Visa kod
</button>
<div id="figurrokareutbildning" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Enklast är att ta färdig kod och modifiera efter eget behov. Om du inte förstår färdig kod, testa att ändra i koden och se vad som händer!</span>
<span class="co"># Gör om andelar till procent </span>
  percentages_rokare &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>table_row_prop[<span class="dv">2</span>,], <span class="dv">1</span>)
<span class="co"># Skapa objekt så vi kan hämta information från figurobjekt </span>
  my_bar &lt;-<span class="st"> </span><span class="kw">barplot</span>(  percentages_rokare, 
                      <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;Låg utbildning&quot;</span>, <span class="st">&quot;Hög utbildning&quot;</span>), 
                      <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">80</span>),                           <span class="co"># Gränser för y-axel</span>
                      <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>,                      <span class="co"># Stapelfärg</span>
                      <span class="dt">border =</span> <span class="st">&quot;white&quot;</span>,                       <span class="co"># Kantlinjefärg på stapel</span>
                      <span class="dt">ylab =</span> <span class="st">&quot;Rökare (%)&quot;</span>,                    <span class="co"># Namn på y-axel</span>
                      <span class="dt">cex.axis =</span> <span class="fl">1.1</span>,                         <span class="co"># Textstorlek på axlar</span>
                      <span class="dt">cex.lab =</span> <span class="fl">1.1</span>,                          <span class="co"># Textstorlek på namn</span>
                      <span class="dt">cex.names=</span><span class="fl">1.1</span>)                          <span class="co"># Textstorlek på namn</span>
<span class="co"># Lägg till proocent ovanför staplarna med hjälp av funktionen **text()**. I denna funktion anges koordinater (x,y) för # var texten ska in, där x-koordinaten är staplarnas placering i objektet my_bar och ofta får man testa sig fram. Med # argumentet **labels** bestäms vad som ska stå över staplarna. Funktionen **paste** används för att sammanfoga numeriska # värden och text, i detta fall procenttecknet.   </span>
  <span class="kw">text</span>(<span class="dt">x =</span> my_bar,                                         <span class="co"># x-koordinat för placering av text</span>
       <span class="dt">y =</span> percentages_rokare <span class="op">+</span><span class="st"> </span><span class="dv">6</span>,                         <span class="co"># y-koordinat för placering av test</span>
       <span class="dt">labels =</span> <span class="kw">paste</span>(percentages_rokare, <span class="st">&quot;%&quot;</span>,  <span class="dt">sep=</span><span class="st">&quot;&quot;</span>),   <span class="co"># Text</span>
       <span class="dt">cex =</span> <span class="fl">1.1</span>)                                           <span class="co"># Storlek på text</span></code></pre></div>
</div>
</div>
<p></br></p>
<hr />
</div>
<div id="inferens-1" class="section level3">
<h3><span class="header-section-number">5.2.4</span> Inferens</h3>
<p>Anta nu att målet är generalisera analyserna av stickprovet till en population, antingen med hjälp av konfidensintervall eller hypotesprövning.</p>
<p>Vi börjar med att göra inferens för skillnaden i populationsandelar <span class="math inline">\(p_1\)</span> och <span class="math inline">\(p_0\)</span> i två populationer, <span class="math inline">\(p_{diff}=p_1- p_0\)</span>. Utgångspunkten här är två oberoende OSU.</p>
<p>Givet att förutsättningarna för normalapproximation håller ges ett konfidensintervall av: <span class="math display">\[\hat{p_1} - \hat{p_0}\pm  z_{\alpha/2}\sqrt{\dfrac{\hat{p_1}(1-\hat{p_1})}{n_1} + \dfrac{\hat{p_0}(1-\hat{p_0})}{n_0}}\]</span> där <span class="math inline">\(z_{\alpha/2}\)</span> är värdet hämtat från standardiserade normalfördelningen.</p>
<p>Konfidensintervallet för skillnaden in andelar i populationen kan beräknas med <strong>prop.test()</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Ta fram värden för beräkningar</span>
 x0 &lt;-<span class="st">  </span>freq_table_utb_rokare[<span class="dv">2</span>,<span class="dv">1</span>]    <span class="co"># Antal rökare (1or) bland lågutbildare</span>
 x1 &lt;-<span class="st">  </span>freq_table_utb_rokare[<span class="dv">2</span>,<span class="dv">2</span>]    <span class="co"># Antal rökare (1or) bland högutbildare</span>
 n0 &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_utb_rokare[,<span class="dv">1</span>]) <span class="co"># Antal lågutbildare</span>
 n1 &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_utb_rokare[,<span class="dv">2</span>]) <span class="co"># Antal högutbildare</span>
<span class="co"># Skapa konfidensintervall</span>
 resultat &lt;-<span class="st"> </span><span class="kw">prop.test</span>(<span class="kw">c</span>(x1, x0), <span class="kw">c</span>(n1, n0), <span class="dt">correct =</span> <span class="ot">FALSE</span>)
<span class="co"># Skattning av skillnad i andelar</span>
 phat_diff &lt;-<span class="st"> </span>resultat<span class="op">$</span>estimate[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span>resultat<span class="op">$</span>estimate[<span class="dv">2</span>]
 p_diff_KI_resultat &lt;-<span class="st"> </span>resultat<span class="op">$</span>conf.int
 phat_diff
    prop <span class="dv">1</span> 
<span class="op">-</span><span class="fl">0.2262405</span> 
 p_diff_KI_resultat 
[<span class="dv">1</span>] <span class="op">-</span><span class="fl">0.3398732</span> <span class="op">-</span><span class="fl">0.1126079</span>
<span class="kw">attr</span>(,<span class="st">&quot;conf.level&quot;</span>)
[<span class="dv">1</span>] <span class="fl">0.95</span></code></pre></div>
<p>Vi kan även implementera formeln ovan och erhålla samma resultat.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Punktskattningar</span>
 phat1 &lt;-<span class="st"> </span>x1<span class="op">/</span>n1
 phat0 &lt;-<span class="st"> </span>x0<span class="op">/</span>n0
 phatdiff &lt;-<span class="st"> </span>phat1 <span class="op">-</span><span class="st"> </span>phat0
<span class="co"># Skattningen av variansen för skattningen av skillnaden i andelar </span>
 vhatphatdiff &lt;-<span class="st"> </span>phat1<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>phat1)<span class="op">/</span>n1 <span class="op">+</span><span class="st"> </span>phat0<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>phat0)<span class="op">/</span>n0 
<span class="co"># Konfidensintervall </span>
 alpha &lt;-<span class="st"> </span><span class="fl">0.05</span>
 z_alpha &lt;-<span class="st"> </span><span class="kw">qnorm</span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>alpha<span class="op">/</span><span class="dv">2</span>)
 ll &lt;-<span class="st"> </span>phat_diff <span class="op">-</span><span class="st"> </span>z_alpha<span class="op">*</span><span class="kw">sqrt</span>(vhatphatdiff)
 ul &lt;-<span class="st"> </span>phat_diff <span class="op">+</span><span class="st"> </span>z_alpha<span class="op">*</span><span class="kw">sqrt</span>(vhatphatdiff)
 p_diff_KI &lt;-<span class="st"> </span><span class="kw">c</span>(ll, ul)
<span class="co"># Resultat </span>
 phatdiff
 p_diff_KI
<span class="co"># Kolla förutsättningarna!</span>
 phat1<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>phat1)<span class="op">*</span>n1
 phat0<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>phat0)<span class="op">*</span>n0</code></pre></div>
<p>Tolkningen av resultaten kan skrivas på olika sätt. Nedan är två alternativ:</p>
<ul>
<li>Bland högutbildade röker 23 procentenheter mindre jämfört med lågutbildade. Med 95% säkerhet finns mellan 34 och 11 procenheter färre rökare bland högutbildade jämfört med lågutbildade.<br />
</li>
<li>Skillnaden i andelen som röker bland högutbildade jämfört med lågutbildade är -0.23 (95% KI: -0.34; -11%).</li>
</ul>
<p>Litar vi på resultaten? Detta bygger på två förutsättningar, OSU (som vi vet från designen) samt att normalapproximationen (vilket vi undersöker i stickprovet) fungerar.</p>
<p>Anta att syftet inte är att skatta skillnaden i andelen som röker, utan att frågan snarare är huruvida man röker i samma utsträckning oavsett utbildningsnivå. Då kan vi istället genomföra hypotesprövning och testa <span class="math inline">\(H_0: p_1 = p_0\)</span> mot en två-sidig mothypotes, <span class="math inline">\(H_0: p_1 \neq p_0\)</span> andvänds test-funktionen <span class="math display">\[ z = \dfrac{\hat{p}_1 - \hat{p}_0}{\hat{p}_{pool}(1- \hat{p}_{pool})\left(\dfrac{1}{n_1} + \dfrac{1}{n_0}\right)}\]</span> där <span class="math display">\[\hat{p}_{pool} = \dfrac{n_1\hat{p}_1 + n_0 \hat{p}_0}{n_1 + n_0}.\]</span> Testfunktionen är <span class="math inline">\(N(0,1)\)</span> om nollhypotesen är sann om vi har OSU och om normalapproximation gäller (<span class="math inline">\(n_1p_1(1-p_1) &gt; 5\)</span> och <span class="math inline">\(n_0p_0(1-p_0) &gt; 5\)</span>).</p>
<p>Ovanstående test kan göras med <strong>prop.test()</strong> och vi hämtar resultat från den redan tidigare genomförda analysen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Z-test (som beror på X2-värdet när det är tvåsidig)</span>
 z &lt;-<span class="st"> </span><span class="kw">sqrt</span>(resultat<span class="op">$</span>statistic)
 z
X<span class="op">-</span>squared 
 <span class="fl">3.754285</span> 
 resultat<span class="op">$</span>p.value
[<span class="dv">1</span>] <span class="fl">0.0001738371</span></code></pre></div>
<p>Det andra alternativet är att implementera formeln ovan och beräkna <span class="math inline">\(p\)</span>-värdet, vilket ger samma resultat.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Beräkningar baserade på tidigare kvantiteter </span>
 pooled_phat &lt;-<span class="st"> </span>(n1<span class="op">*</span>phat1 <span class="op">+</span><span class="st"> </span>n0<span class="op">*</span>phat0)<span class="op">/</span>(n1 <span class="op">+</span><span class="st"> </span>n0)
 zobs &lt;-<span class="st"> </span>(phat1 <span class="op">-</span><span class="st"> </span>phat0)<span class="op">/</span><span class="kw">sqrt</span>(pooled_phat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>pooled_phat)<span class="op">*</span>(<span class="dv">1</span><span class="op">/</span>n1 <span class="op">+</span><span class="st"> </span><span class="dv">1</span><span class="op">/</span>n0))
 p_value &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="kw">abs</span>(zobs)))
 p_value
[<span class="dv">1</span>] <span class="fl">0.0001738371</span></code></pre></div>
<p>Tolkningen är att <em>givet att andelen rökare är lika stor i bägge utbildningskategorier i populationen så är det 0.0002 sannolikhet att hitta en så stor skillnad i andelar eller större som vi erhållit</em>. Data stämmer alltså inte alls väl överens med nollhypotesen om ingen skillnad!</p>
<p>Det går även att genomföra en ensidig hypotesprövning. Anta att vi vill testa <span class="math inline">\(H_0: p_0 = p_1\)</span> vs <span class="math inline">\(H_1: p_1 &lt; p_0\)</span>, dvs om andelen rökare mindre bland högutbildade än bland lågutbildade. Vi måste nu <strong>prop.test()</strong> ange att mothypotesen är mindre än. För testet baserat på formeln ändras inte <span class="math inline">\(z\)</span>-värdet, däremot hur <span class="math inline">\(p\)</span>-värdet beräknas i <strong>pnorm()</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Version 1</span>
resultat_less &lt;-<span class="st"> </span><span class="kw">prop.test</span>(<span class="kw">c</span>(x1, x0), <span class="kw">c</span>(n1, n0), <span class="dt">alternativ =</span> <span class="st">&quot;less&quot;</span>, <span class="dt">correct =</span> <span class="ot">FALSE</span>)
resultat_less

    <span class="dv">2</span><span class="op">-</span>sample test <span class="cf">for</span> equality of proportions without continuity
    correction

data<span class="op">:</span><span class="st">  </span><span class="kw">c</span>(x1, x0) out of <span class="kw">c</span>(n1, n0)
X<span class="op">-</span>squared =<span class="st"> </span><span class="fl">14.095</span>, df =<span class="st"> </span><span class="dv">1</span>, p<span class="op">-</span>value =<span class="st"> </span><span class="fl">8.692e-05</span>
alternative hypothesis<span class="op">:</span><span class="st"> </span>less
<span class="dv">95</span> percent confidence interval<span class="op">:</span>
<span class="st"> </span><span class="op">-</span><span class="fl">1.000000</span> <span class="op">-</span><span class="fl">0.130877</span>
sample estimates<span class="op">:</span>
<span class="st">   </span>prop <span class="dv">1</span>    prop <span class="dv">2</span> 
<span class="fl">0.3103448</span> <span class="fl">0.5365854</span> 

<span class="co"># Version 2</span>
<span class="kw">pnorm</span>(zobs)
[<span class="dv">1</span>] <span class="fl">8.691855e-05</span></code></pre></div>
<p>Vi får ett mycket lågt <span class="math inline">\(p\)</span>-värde (<span class="math inline">\(p&lt;0.001\)</span>) som säger oss att <em>givet att andelen rökare är lika stor i bägge utbildningskategorier i populationen så är det 0.00008 sannolikhet att finna att högutbildade röker i så mycket mindre utsträckning eller ännu mindre jämfört med lågutbildade.</em> Data stämmer alltså inte alls väl överens med nollhypotesen om ingen skillnad!</p>
<p>Ett annat sätt att testa samband mellan binära variabler om vi har en två-sidigt mothypotes är att genomföra ett <em>test för oberoende</em>. En vanlig meted för att testa detta är <span class="math inline">\(\chi^2\)</span>-metoden, som testar hypoteserna: + <span class="math inline">\(H_0\)</span>: Det finns inget samband mellan variablerna (oberoende) + <span class="math inline">\(H_1\)</span>: Det finns ett samband mellan variablerna (beroende) Notera att mothypotesens riktning är ospecificerad!</p>
<p>Utgå från en <span class="math inline">\(2\times2\)</span>-tabell med frekvenser från två korstabulerade binära variabler. I respektive cell finns således observerade frekvenser <span class="math inline">\(O_{ij}\)</span>.</p>
<table>
<thead>
<tr class="header">
<th align="center"></th>
<th align="center">Kolumn 1</th>
<th align="center">Kolumn 2</th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>Rad 1</strong></td>
<td align="center"><span class="math inline">\(O_{11}\)</span></td>
<td align="center"><span class="math inline">\(O_{12}\)</span></td>
<td align="center">Radsumma 1</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center"><strong>Rad 2</strong></td>
<td align="center"><span class="math inline">\(O_{21}\)</span></td>
<td align="center"><span class="math inline">\(O_{22}\)</span></td>
<td align="center">Radsumma 2</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Kolumnsumma 1</td>
<td align="center">Kolumnsumma 2</td>
<td align="center">Totalsumma</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>Ett oberoendetest för kan genomföras med teststatistikan <span class="math display">\[\chi^2 = \dfrac{(O_{11} - E_{11})^2}{E_{11}}+ \dfrac{(O_{12} - E_{12})^2}{E_{12}}+\dfrac{ (O_{21} - E_{21})^2}{E_{21}}+ \dfrac{ (O_{22} - E_{22})^2}{E_{22}},\]</span> där <span class="math inline">\(E_{ij} = \dfrac{\text{Radsumma i}\cdot \text{Kolumnsumma j}}{\text{Totalsumma}}\)</span> är de förväntade frekvenserna givet att variablerna är oberoende. Teststatistikan är <span class="math inline">\(\chi^2\)</span>-fördelad med <span class="math inline">\(1\)</span> frihetsgrad om <span class="math inline">\(H_0\)</span> är sann och om antalet förväntade frekvenser i alla celler är större än 5. Det framräknade värdet i stickprovet, <span class="math inline">\(\chi^2_{obs}\)</span>, jämförs sedan med denna fördelning. Detta test är alltid ensidigt och genom att se hur extremt värdet är i högra svansen erhålls <span class="math inline">\(p\)</span>-värdet.</p>
<p>För att implementera testet i R används <strong>chisq.test()</strong> på ett tabell-objekt med frekvenser. Det går också att tillämpa formeln ovan kan genomföra ett <span class="math inline">\(\chi^2\)</span>-test. Det framräknade <span class="math inline">\(\chi^2\)</span>-värdet används sedan i <strong>pchisq()</strong> för ett erhålla <span class="math inline">\(p\)</span>-värdet.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> resultat_chisq &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(freq_table_utb_rokare, <span class="dt">correct =</span> <span class="ot">FALSE</span> )
 resultat_chisq

    Pearson<span class="st">&#39;s Chi-squared test</span>

<span class="st">data:  freq_table_utb_rokare</span>
<span class="st">X-squared = 14.095, df = 1, p-value = 0.0001738</span></code></pre></div>
<p>Vi erhåller samma <span class="math inline">\(p\)</span>-värde som när vi testade för skillnad av andelar i fallet med två-sidig mothypotes. <span class="math inline">\(\chi^2\)</span>-metoden kan alltså användas för att testa andelar, men testet är också ett mer generellt test för oberoende. Om två binära variabler är beroende, så är de beroende <strong>oavsett val av effektstorlek</strong>. Därför kan <span class="math inline">\(\chi^2\)</span>-metoden användas även för <span class="math inline">\(p_{kvot}\)</span> och <span class="math inline">\(OR\)</span>. Oberoende testet testar alltså någon av hypoteserna:</p>
<p><span class="math display">\[H_0: p_{diff} = 0\,\,\,\text{vs}\,\,\,H_1: p_{diff} \neq 0\]</span> <span class="math display">\[H_0: p_{kvot} = 1\,\,\,\text{vs}\,\,\,H_1: p_{kvot} \neq 1\]</span> <span class="math display">\[H_0: p_{OR} = 1\,\,\,\text{vs}\,\,\,H_1: p_{OR} \neq 1\]</span></p>
</div>
</div>
<div id="tre-kategorier-eller-fler" class="section level2">
<h2><span class="header-section-number">5.3</span> Tre kategorier eller fler</h2>
<p>Detta avsnitt lämpar sig i regel för variabler med relativt få kategorier, låt säg färre än 10. För analys av variabler med många kategorier kan alternativa metoder för analys och presentation vara bättre. Notera ordvalet <em>kan</em> eftersom val av presentation och analys måste bedömas från fall till fall.</p>
<div id="kodning-1" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Kodning</h3>
<p>Från ett statistiskt perspektiv är en variabel med fler än två kategorier antingen på nominal eller ordinal skalnivå. Precis som fallet med binära variabler finns möjligheten att arbeta med faktorer och det går i funktionen <strong>factor()</strong> att ange skalnivå med argumentet <strong>ordered</strong>. Det bör dock nämnas att det är vanligt att vid arbete med faktorer i R inte ta hänsyn till att variabeln är ordinalskala, utan om så görs beror på om analysen kräver det.</p>
<p>Vi inleder med det enklaste fallet, en kategorivariabel på nominalskala. Nedan skapas en faktorvariabel av <strong>reklam</strong> som anger uppfattning om reklam för spel genom att med <strong>factor</strong> definerar variabeln som en faktor. Vi tillämpar sedan <strong>str()</strong> för att förvissa oss om att den är definierad som faktor. Vi ser att varaiabeln har 3 nivåer, dvs <em>Factor w/ 3 levels</em> och med funktionen <strong>levels()</strong> listas nivåerna som är <em>“Har ej tagit ställning”, “Ja”, “Nej”</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa en faktorvariabel reklam för spel som är på nominalskala  </span>
 df<span class="op">$</span>reklam_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>reklam)  
<span class="co"># Undersök variabeln egenskaper</span>
 <span class="kw">str</span>(df<span class="op">$</span>reklam_cat)
<span class="op">&gt;</span><span class="st">  </span>Factor w<span class="op">/</span><span class="st"> </span><span class="dv">3</span> levels <span class="st">&quot;Har ej tagit ställning&quot;</span>,..<span class="op">:</span><span class="st"> </span><span class="dv">3</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> ...
 <span class="kw">levels</span>(df<span class="op">$</span>reklam_cat)
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="st">&quot;Har ej tagit ställning&quot;</span> <span class="st">&quot;Ja&quot;</span>                    
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">3</span>] <span class="st">&quot;Nej&quot;</span></code></pre></div>
<p>Något att vara observant över är att en siffra korresponderar till varje faktornivå. Som användare måste man därför vara försiktig vid konvertering av numeriska variabler till faktorer och vice versa. Vi exemplifierar nedan med att skapa en faktorvariabel av den numeriska variabeln <strong>inkomst</strong>, för sedan göra om den till en numerisk variabel igen med <strong>as.numeric</strong>. Nedan presenteras data för de 6 första observationerna av inkomst och hur variabeln skiljer sig.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Jämförelse av inkomst, inkomst kodad som faktorvariabel samt </span>
<span class="co"># inkomst kodad som faktorvariabel konverterad till numerisk variabel igen</span>
 <span class="kw">list</span>(<span class="kw">head</span>(df<span class="op">$</span>inkomst), <span class="kw">head</span>(<span class="kw">factor</span>(df<span class="op">$</span>inkomst)),  <span class="kw">head</span>(<span class="kw">as.numeric</span>(<span class="kw">factor</span>(df<span class="op">$</span>inkomst))))
<span class="op">&gt;</span><span class="st"> </span>[[<span class="dv">1</span>]]
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">13941</span> <span class="dv">39664</span> <span class="dv">13168</span> <span class="dv">28809</span> <span class="dv">55952</span> <span class="dv">12495</span>
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>[[<span class="dv">2</span>]]
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="dv">13941</span> <span class="dv">39664</span> <span class="dv">13168</span> <span class="dv">28809</span> <span class="dv">55952</span> <span class="dv">12495</span>
<span class="op">&gt;</span><span class="st"> </span><span class="dv">280</span> Levels<span class="op">:</span><span class="st"> </span><span class="dv">3978</span> <span class="dv">5710</span> <span class="dv">5958</span> <span class="dv">8074</span> <span class="dv">8196</span> <span class="dv">8226</span> <span class="dv">8332</span> <span class="dv">8363</span> <span class="dv">8729</span> <span class="dv">8746</span> <span class="dv">8996</span> ... <span class="dv">57382</span>
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>[[<span class="dv">3</span>]]
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>]  <span class="dv">52</span> <span class="dv">254</span>  <span class="dv">44</span> <span class="dv">181</span> <span class="dv">279</span>  <span class="dv">39</span>
<span class="co"># Funktionen head() ger de 6 första elementen.</span></code></pre></div>
<p>Vi önskar nu skapa en faktor av variabeln <strong>alder</strong>, som är på ordinal datanivå även om den anges som numerisk med kategorierna <em>0,1,2</em>. Kodningen är dessutom lite märklig, eftersom det lägsta numeriska värdet korresponderar till den högsta datakategorin. När vi ska konverterar denna numeriska variabel till en factor används därför två argument. Dels <strong>ordered</strong> för att ange att faktorn är på ordinal skalnivå, dels <strong>levels</strong> där ordningen på faktornivåerna anges. För förtydliga ändrar vi sedan namn på nivåerna. Med <strong>str()</strong> ser vi nu att variabeln <strong>alder_cat</strong> är en faktor med tre nivåer, där nivåerna har en inbördes rangordning.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Gör variabel till faktor och ändra ordningen så är 2 är minst, sedan 1 och sedan 0</span>
 df<span class="op">$</span>alder_cat &lt;-<span class="st"> </span>df<span class="op">$</span>alder
<span class="co"># Ordningen speciferas när en factor skapas</span>
 df<span class="op">$</span>alder_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>alder, 
                        <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>), 
                        <span class="dt">ordered =</span> <span class="ot">TRUE</span>)
<span class="co"># Ändra namn på nivåerna </span>
 <span class="kw">levels</span>(df<span class="op">$</span>alder_cat)[<span class="kw">levels</span>(df<span class="op">$</span>alder_cat) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>] &lt;-<span class="st"> &quot;65-79 år&quot;</span>
 <span class="kw">levels</span>(df<span class="op">$</span>alder_cat)[<span class="kw">levels</span>(df<span class="op">$</span>alder_cat) <span class="op">==</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> &quot;50-64 år&quot;</span>
 <span class="kw">levels</span>(df<span class="op">$</span>alder_cat)[<span class="kw">levels</span>(df<span class="op">$</span>alder_cat) <span class="op">==</span><span class="st"> </span><span class="dv">2</span>] &lt;-<span class="st"> &quot;18-49 år&quot;</span>
<span class="co"># Undersök faktorn</span>
 <span class="kw">str</span>(df<span class="op">$</span>alder_cat)
<span class="op">&gt;</span><span class="st">  </span>Ord.factor w<span class="op">/</span><span class="st"> </span><span class="dv">3</span> levels <span class="st">&quot;18-49 år&quot;</span><span class="op">&lt;</span><span class="st">&quot;50-64 år&quot;</span><span class="op">&lt;</span>..<span class="op">:</span><span class="st"> </span><span class="dv">2</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> ...
 <span class="kw">levels</span>(df<span class="op">$</span>alder_cat)
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="st">&quot;18-49 år&quot;</span> <span class="st">&quot;50-64 år&quot;</span> <span class="st">&quot;65-79 år&quot;</span></code></pre></div>
<p>För somliga analyser är det praktiskt att arbeta med binära variabler som representerar kategorierna istället för att använda faktor-variabeln. Binära variabler som representerar kategorier kallas för <em>dummy-variabler</em> och sådana används ofta i regressionsanalys. Det är därför, precis som tidigare för binära variabler, vanligt att ett datamaterial innehåller en och samma kategorivariabel kodad både som en faktor och som dummy-variabler.</p>
<p>Notera att det med <em>dummy-variabeler</em> inte är möjligt att ta hänsyn till om variablers kategorier kan rangordnas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa binära variabler för respektive ålderskategori </span>
 df<span class="op">$</span>alder_<span class="dv">1849</span> &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>alder_<span class="dv">1849</span>[df<span class="op">$</span>alder <span class="op">==</span><span class="st"> </span><span class="dv">0</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>alder_<span class="dv">1849</span>[df<span class="op">$</span>alder <span class="op">==</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>alder_<span class="dv">1849</span>[df<span class="op">$</span>alder <span class="op">==</span><span class="st"> </span><span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">1</span>

 df<span class="op">$</span>alder_<span class="dv">5064</span> &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>alder_<span class="dv">5064</span>[df<span class="op">$</span>alder <span class="op">==</span><span class="st"> </span><span class="dv">0</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>alder_<span class="dv">5064</span>[df<span class="op">$</span>alder <span class="op">==</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
 df<span class="op">$</span>alder_<span class="dv">5064</span>[df<span class="op">$</span>alder <span class="op">==</span><span class="st"> </span><span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">0</span>

 df<span class="op">$</span>alder_<span class="dv">6579</span> &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>alder_<span class="dv">6579</span>[df<span class="op">$</span>alder <span class="op">==</span><span class="st"> </span><span class="dv">0</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
 df<span class="op">$</span>alder_<span class="dv">6579</span>[df<span class="op">$</span>alder <span class="op">==</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>alder_<span class="dv">6579</span>[df<span class="op">$</span>alder <span class="op">==</span><span class="st"> </span><span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">0</span></code></pre></div>
</div>
<div id="tabeller-och-figurer-1" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Tabeller och figurer</h3>
<p>Det är när vi har flera kategorier som funktionerna <strong>table()</strong> och <strong>prop.table()</strong> framför allt kommer till sin rätt. Det går visserligen att arbeta med de enskilda dummy-variabler, men koden blir lätt omfattande.</p>
<p>Vi illustrerar <strong>table()</strong> nedan med att analysera variabeln ålder, <strong>alder_cat</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapar tabell med frekvenser</span>
 freq_table_alder &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>alder_cat)
 freq_table_alder
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span><span class="dv">18</span><span class="op">-</span><span class="dv">49</span> år <span class="dv">50</span><span class="op">-</span><span class="dv">64</span> år <span class="dv">65</span><span class="op">-</span><span class="dv">79</span> år 
<span class="op">&gt;</span><span class="st">       </span><span class="dv">66</span>      <span class="dv">150</span>       <span class="dv">64</span>
<span class="co"># Skapa tabell med andelar </span>
 prop_table_alder &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table_alder)
 prop_table_alder
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">  </span><span class="dv">18</span><span class="op">-</span><span class="dv">49</span> år  <span class="dv">50</span><span class="op">-</span><span class="dv">64</span> år  <span class="dv">65</span><span class="op">-</span><span class="dv">79</span> år 
<span class="op">&gt;</span><span class="st"> </span><span class="fl">0.2357143</span> <span class="fl">0.5357143</span> <span class="fl">0.2285714</span></code></pre></div>
<p>I regel är det önskvärt att snygga till tabellen genom att kombinera både frekvenser och andelar.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> table_alder &lt;-<span class="st"> </span><span class="kw">cbind</span>(freq_table_alder, <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>prop_table_alder, <span class="dv">1</span>))
 <span class="kw">colnames</span>(table_alder) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Frekvens&quot;</span>, <span class="st">&quot;Procent (%)&quot;</span>)
 table_alder 
<span class="op">&gt;</span><span class="st">          </span>Frekvens <span class="kw">Procent</span> (%)
<span class="op">&gt;</span><span class="st"> </span><span class="dv">18</span><span class="op">-</span><span class="dv">49</span> år       <span class="dv">66</span>        <span class="fl">23.6</span>
<span class="op">&gt;</span><span class="st"> </span><span class="dv">50</span><span class="op">-</span><span class="dv">64</span> år      <span class="dv">150</span>        <span class="fl">53.6</span>
<span class="op">&gt;</span><span class="st"> </span><span class="dv">65</span><span class="op">-</span><span class="dv">79</span> år       <span class="dv">64</span>        <span class="fl">22.9</span></code></pre></div>
<p>För kategorivariabler med fler kategorier än två blir relationen mellan tabeller och figurer och tydlig. Vi använder nämligen främst stapeldiagram för att redovisa frekvenser eller andelar för en kategorivariabel. Om vi har många kategorier kan <strong>dotchart()</strong> vara ett alternativ och om kategorierna är heltal används ofta <strong>stolpdiagram</strong>. Nedan presenteras två stapeldiagram, ett med frekvenser och ett med andelar.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Stapeldiagram baserat på tabellen med frekvenser</span>
 <span class="kw">barplot</span>(freq_table_alder, 
         <span class="dt">ylab =</span> <span class="st">&quot;Antal&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-208-1.png" width="384" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Stapeldiagram baserat på tabellen med andelar</span>
 bar_alder &lt;-<span class="st"> </span><span class="kw">barplot</span>(prop_table_alder, 
                      <span class="dt">ylab =</span> <span class="st">&quot;Andel)&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-208-2.png" width="384" /></p>
<p>Figurerna ovan kan förbättras på motsvarande sätt som för de binära variablerna.</p>
<p><img src="dpk_files/figure-html/unnamed-chunk-209-1.png" width="768" /></p>
<button title="figur2" type="button" onclick="if(document.getElementById('figur2') .style.display=='none')
              {document.getElementById('figur2') .style.display=''}
            else{document.getElementById('figur2') .style.display='none'}">
Visa kod för figur
</button>
<div id="figur2" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Nedanstående kod innehåller delar som presenteras i kapitlet om figurer.</span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))
<span class="co"># Stapeldiagram baserat på tabellen med frekvenser</span>
<span class="kw">barplot</span>(freq_table_alder, 
        <span class="dt">ylab =</span> <span class="st">&quot;Antal&quot;</span>,   
        <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>,
        <span class="dt">border =</span> <span class="st">&quot;lightblue&quot;</span>)
bar_alder &lt;-<span class="st"> </span><span class="kw">barplot</span>(<span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>prop_table_alder,<span class="dv">1</span>), 
                     <span class="dt">ylab =</span> <span class="st">&quot;Procent (%)&quot;</span>,   
                     <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>,
                     <span class="dt">border =</span> <span class="st">&quot;lightblue&quot;</span>,
                     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">60</span>))
<span class="kw">text</span>(<span class="dt">x=</span>bar_alder, <span class="dt">y=</span> <span class="dv">100</span><span class="op">*</span>prop_table_alder <span class="op">+</span><span class="st"> </span><span class="dv">3</span>, <span class="dt">labels =</span> <span class="kw">paste</span>(<span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>prop_table_alder,<span class="dv">1</span>), <span class="st">&quot;%&quot;</span>,  <span class="dt">sep=</span><span class="st">&quot;&quot;</span>))</code></pre></div>
</div>
</div>
<p></br></p>
<p>Vad man bör har i åtanke när man skapar stapeldiagram är huruvida kategorierna avstånd bör vara korrekt representerade i figuren. Består kategorierna av nominal eller ordinalskala är avståndet oviktigt och ofta har man då, per automatik, samma avstånd. Om variabeln däremot är diskret eller till exempel är årtal eller datum måste avståndet mellan staplarna överensstämma med kategoriernas avstånd. Detta görs automatiskt i stolpdiagram.</p>
<p>Vi illustrerar nedan med variabeln <strong>mat</strong> som mäter antalet matinköp i veckan. När vi undersöker variabeln upptäcker vi att ingen har gjort 6 eller 7 inköp, däremot har 7 stycken svarat 8 gånger. Vi måste alltså skapa en figur som korrekt representerar avståndet mellan 5 och 8 gånger när frekvenserna för dessa antal redovisas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Version 1</span>
<span class="co"># Matematiskt korrekt figur, men ej estetiskt tilltalande </span>
 freq_table_mat &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>mat)
 <span class="kw">plot</span>(freq_table_mat,      <span class="co"># Tabell</span>
      <span class="dt">ylab =</span> <span class="st">&quot;Antal&quot;</span>,      <span class="co"># Namn på y-axel</span>
      <span class="dt">bty =</span><span class="st">&quot;l&quot;</span>,            <span class="co"># Ta bort delar av box-kring figur</span>
      <span class="dt">xlab =</span> <span class="st">&quot;Antal matinköp per vecka&quot;</span>)  <span class="co"># Namn på x-axel</span></code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-211-1.png" width="384" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Version 2</span>
<span class="co"># Skapa faktornivåer från minsta till största värdet med min(df$mat):max(df$mat)</span>
 df<span class="op">$</span>mat_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>mat, <span class="dt">levels=</span><span class="kw">min</span>(df<span class="op">$</span>mat)<span class="op">:</span><span class="kw">max</span>(df<span class="op">$</span>mat))  
<span class="co"># Skapa en frekvenstabell</span>
 freq_table_mat &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>mat_cat)
<span class="co"># Använder barplot för att skapa en semi-korrekt figur, men som är estetiskt tilltalande. Här finns extra kod  </span>
 <span class="kw">barplot</span>(freq_table_mat, 
        <span class="dt">border =</span> <span class="st">&quot;white&quot;</span>,    <span class="co"># Ta bort linje som annars syns för kategori 6 och 7</span>
        <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>,   <span class="co"># Byt färg</span>
        <span class="dt">ylab =</span> <span class="st">&quot;Antal&quot;</span>,      <span class="co"># Namn på y-axel</span>
        <span class="dt">xlab =</span> <span class="st">&quot;Antal matinköp per vecka&quot;</span>)  <span class="co"># Namn på x-axel</span></code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-211-2.png" width="384" /></p>
<p>En vanlig typ av kategorivariabel är variabler med <strong>likertskala</strong> som är en skala vilken mäter olika attityder hos respondenten. Ofta är det önsvärt att för flera sådana ge en samlad översikt. Med hjälp av en tabell kan vi beskriva tre likertvariabler som finns i datasetet som mäter attityder till förbud av cigaretter, cannabis och alkohol.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa faktorer av de likertskalorna </span>
 df<span class="op">$</span>cigaretter_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>cigaretter, <span class="dt">levels =</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>), <span class="dt">ordered =</span> <span class="ot">TRUE</span>)
 <span class="kw">levels</span>(df<span class="op">$</span>cigaretter_cat) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Mycket positiv&quot;</span>, <span class="st">&quot;Ganska positiv&quot;</span>, <span class="st">&quot;Varken positiv eller negativ&quot;</span>,<span class="st">&quot; Ganska negativ&quot;</span>, <span class="st">&quot;Mycket negativ&quot;</span>) 
 df<span class="op">$</span>cannabis_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>cannabis, <span class="dt">levels =</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>), <span class="dt">ordered =</span> <span class="ot">TRUE</span>)
 <span class="kw">levels</span>(df<span class="op">$</span>cannabis_cat ) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Mycket positiv&quot;</span>, <span class="st">&quot;Ganska positiv&quot;</span>, <span class="st">&quot;Varken positiv eller negativ&quot;</span>,<span class="st">&quot; Ganska negativ&quot;</span>, <span class="st">&quot;Mycket negativ&quot;</span>) 

 df<span class="op">$</span>alkohol_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>alkohol, <span class="dt">levels =</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>), <span class="dt">ordered =</span> <span class="ot">TRUE</span>)
 <span class="kw">levels</span>(df<span class="op">$</span>alkohol_cat ) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Mycket positiv&quot;</span>, <span class="st">&quot;Ganska positiv&quot;</span>, <span class="st">&quot;Varken positiv eller negativ&quot;</span>,<span class="st">&quot; Ganska negativ&quot;</span>, <span class="st">&quot;Mycket negativ&quot;</span>)
<span class="co"># Skapa frekvenstabeller för varje likert-skala</span>
 freq_table_cigaretter &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>cigaretter_cat)
 freq_table_cannabis &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>cannabis_cat)
 freq_table_alkohol &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>alkohol_cat)
 freq_table_ban &lt;-<span class="st"> </span><span class="kw">rbind</span>(freq_table_alkohol,
                         freq_table_cannabis,
                         freq_table_cigaretter)
 <span class="kw">rownames</span>(freq_table_ban) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;alkoholförbud?&quot;</span>, <span class="st">&quot;cannabisförbud?&quot;</span>, <span class="st">&quot;rökförbud?&quot;</span>)
<span class="co"># Skapa en tabell innehållande procent för alla likertskalor </span>
 likert_tabell &lt;-<span class="st"> </span><span class="kw">rbind</span>(<span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span><span class="kw">prop.table</span>(freq_table_alkohol), <span class="dv">1</span>),
                  <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span><span class="kw">prop.table</span>(freq_table_cannabis), <span class="dv">1</span>),
                  <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span><span class="kw">prop.table</span>(freq_table_cigaretter), <span class="dv">1</span>) )
 <span class="kw">rownames</span>(likert_tabell) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;alkohol?&quot;</span>, <span class="st">&quot;cannabis?&quot;</span>, <span class="st">&quot;cigaretter?&quot;</span>)</code></pre></div>
<p>Vi erhåller följande två tabeller som beskriver dessa attitydfrågor.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Likertvariablerna presenteras med radvisa antal</span>
 freq_table_ban
<span class="op">&gt;</span><span class="st">                 </span>Mycket positiv Ganska positiv Varken positiv eller negativ
<span class="op">&gt;</span><span class="st"> </span>alkoholförbud?              <span class="dv">14</span>             <span class="dv">13</span>                           <span class="dv">18</span>
<span class="op">&gt;</span><span class="st"> </span>cannabisförbud?            <span class="dv">114</span>             <span class="dv">61</span>                           <span class="dv">46</span>
<span class="op">&gt;</span><span class="st"> </span>rökförbud?                  <span class="dv">45</span>             <span class="dv">62</span>                           <span class="dv">49</span>
<span class="op">&gt;</span><span class="st">                  </span>Ganska negativ Mycket negativ
<span class="op">&gt;</span><span class="st"> </span>alkoholförbud?               <span class="dv">50</span>            <span class="dv">185</span>
<span class="op">&gt;</span><span class="st"> </span>cannabisförbud?              <span class="dv">31</span>             <span class="dv">28</span>
<span class="op">&gt;</span><span class="st"> </span>rökförbud?                   <span class="dv">58</span>             <span class="dv">66</span>
<span class="co"># Likertvariablerna presentera med radvisa procent </span>
 likert_tabell
<span class="op">&gt;</span><span class="st">             </span>Mycket positiv Ganska positiv Varken positiv eller negativ
<span class="op">&gt;</span><span class="st"> </span>alkohol?               <span class="fl">5.0</span>            <span class="fl">4.6</span>                          <span class="fl">6.4</span>
<span class="op">&gt;</span><span class="st"> </span>cannabis?             <span class="fl">40.7</span>           <span class="fl">21.8</span>                         <span class="fl">16.4</span>
<span class="op">&gt;</span><span class="st"> </span>cigaretter?           <span class="fl">16.1</span>           <span class="fl">22.1</span>                         <span class="fl">17.5</span>
<span class="op">&gt;</span><span class="st">              </span>Ganska negativ Mycket negativ
<span class="op">&gt;</span><span class="st"> </span>alkohol?               <span class="fl">17.9</span>           <span class="fl">66.1</span>
<span class="op">&gt;</span><span class="st"> </span>cannabis?              <span class="fl">11.1</span>           <span class="fl">10.0</span>
<span class="op">&gt;</span><span class="st"> </span>cigaretter?            <span class="fl">20.7</span>           <span class="fl">23.6</span></code></pre></div>
<p>På motsvarande sätt som i tabellform är det önskvärt att i en och samma figur redovisa attitydfrågorna. Koden för att göra detta är omfattande, framförallt på grund av att få procentenheter på staplarna. Du behöver dock inte förstå alla delar av koden, däremot kan du försöka modifiera den och se vad som händer. Du kan återkomma till koden när du läst figurkapitlet.</p>
<p><img src="dpk_files/figure-html/unnamed-chunk-214-1.png" width="864" /></p>
<button title="likert" type="button" onclick="if(document.getElementById('likert') .style.display=='none')
              {document.getElementById('likert') .style.display=''}
            else{document.getElementById('likert') .style.display='none'}">
Visa kod för figur
</button>
<div id="likert" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa tillräckligt stora marginaler</span>
 <span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">15</span>,<span class="dv">12</span>,<span class="dv">4</span>,<span class="dv">3</span>)) 
<span class="co"># Skapa tabellobjekt</span>
 mybar &lt;-<span class="st"> </span><span class="kw">barplot</span>(<span class="kw">t</span>(likert_tabell),   <span class="co"># Tabellen måste transponeras (vridas) med t() för att ge kolumnprocent </span>
                 <span class="dt">main =</span> <span class="st">&quot;Hur ställer Du dig till att i Sverige ha ett totalt förbud mot att sälja...&quot;</span>,   <span class="co"># Lämplig titel</span>
                 <span class="dt">horiz =</span> <span class="ot">TRUE</span>,                                             <span class="co"># Horisontella stapeldiagram</span>
                 <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;brown3&quot;</span>, <span class="st">&quot;brown1&quot;</span>, <span class="st">&quot;lightyellow&quot;</span>, <span class="st">&quot;cadetblue2&quot;</span>, <span class="st">&quot;cadetblue4&quot;</span>),  <span class="co"># Kategorifärger</span>
                 <span class="dt">xlab=</span><span class="st">&quot;Procent (%)&quot;</span>,          <span class="co"># Namn på x-axeln</span>
                 <span class="dt">las=</span><span class="dv">1</span>,                       <span class="co"># Vänd nämnen för x-axeln</span>
                 <span class="dt">cex.names=</span><span class="fl">1.5</span>,               <span class="co"># Storlek på olika texter i figur</span>
                 <span class="dt">cex.axis=</span><span class="fl">1.5</span>,
                 <span class="dt">cex.lab =</span><span class="fl">1.5</span>,
                 <span class="dt">cex.main=</span><span class="fl">1.5</span>)
<span class="co"># En vertikal linje vid 50%</span>
<span class="kw">abline</span>(<span class="dt">v=</span><span class="kw">c</span>(<span class="dv">50</span>))                        
<span class="kw">legend</span>(<span class="st">&quot;bottom&quot;</span>, 
       <span class="dt">inset =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="op">-</span><span class="fl">0.9</span>),
       <span class="kw">c</span>(<span class="st">&quot;Mycket positiv&quot;</span>, <span class="st">&quot;Ganska positiv&quot;</span>, <span class="st">&quot;Varken positiv eller negativ&quot;</span>,<span class="st">&quot; Ganska negativ&quot;</span>, <span class="st">&quot;Mycket negativ&quot;</span>), 
       <span class="dt">fill=</span> <span class="kw">c</span>(<span class="st">&quot;brown3&quot;</span>, <span class="st">&quot;brown1&quot;</span>, <span class="st">&quot;lightyellow&quot;</span>, <span class="st">&quot;cadetblue2&quot;</span>, <span class="st">&quot;cadetblue4&quot;</span>), 
       <span class="dt">horiz=</span><span class="ot">FALSE</span>, 
       <span class="dt">cex=</span><span class="fl">1.5</span>, 
       <span class="dt">xpd =</span> <span class="ot">TRUE</span>,
       <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>)

<span class="co"># Skapa koordinater för att rita in procent i kategorierna</span>
<span class="co"># Likert 1</span>
<span class="co"># x-koordinat ges av följande kod</span>
 coord_x_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>,<span class="kw">cumsum</span>(likert_tabell[<span class="dv">1</span>,]))
 coord_x_<span class="dv">1</span> &lt;-<span class="st"> </span>coord_x_<span class="dv">1</span>[<span class="op">-</span><span class="kw">length</span>(coord_x_<span class="dv">1</span>)] <span class="op">+</span><span class="st"> </span><span class="kw">diff</span>(coord_x_<span class="dv">1</span>)<span class="op">/</span><span class="dv">2</span>
<span class="co"># y-koordinat ges av följande kod</span>
 coord_y_<span class="dv">1</span> &lt;-<span class="st"> </span>mybar[<span class="dv">1</span>]
 <span class="kw">text</span>(<span class="dt">x =</span> coord_x_<span class="dv">1</span>, 
      <span class="dt">y =</span> coord_y_<span class="dv">1</span>, 
      <span class="dt">labels =</span> <span class="kw">paste</span>(likert_tabell[<span class="dv">1</span>,], <span class="st">&quot;%&quot;</span>,  <span class="dt">sep=</span><span class="st">&quot;&quot;</span>),
      <span class="dt">cex =</span> <span class="fl">1.2</span>)   <span class="co"># Procentvärden hämtas från tabellen</span>

<span class="co"># Likert 2 </span>
coord_x_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>,<span class="kw">cumsum</span>(likert_tabell[<span class="dv">2</span>,]))
coord_x_<span class="dv">2</span> &lt;-<span class="st"> </span>coord_x_<span class="dv">2</span>[<span class="op">-</span><span class="kw">length</span>(coord_x_<span class="dv">2</span>)] <span class="op">+</span><span class="st"> </span><span class="kw">diff</span>(coord_x_<span class="dv">2</span>)<span class="op">/</span><span class="dv">2</span>
coord_y_<span class="dv">2</span> &lt;-<span class="st"> </span>mybar[<span class="dv">2</span>]
<span class="kw">text</span>(<span class="dt">x =</span> coord_x_<span class="dv">2</span>, 
     <span class="dt">y =</span> coord_y_<span class="dv">2</span>, 
     <span class="dt">labels =</span> <span class="kw">paste</span>(likert_tabell[<span class="dv">2</span>,], <span class="st">&quot;%&quot;</span>,  <span class="dt">sep=</span><span class="st">&quot;&quot;</span>),
     <span class="dt">cex =</span> <span class="fl">1.2</span>) 

<span class="co"># Likert 3 </span>
coord_x_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>,<span class="kw">cumsum</span>(likert_tabell[<span class="dv">3</span>,]))
coord_x_<span class="dv">3</span> &lt;-<span class="st"> </span>coord_x_<span class="dv">3</span>[<span class="op">-</span><span class="kw">length</span>(coord_x_<span class="dv">3</span>)] <span class="op">+</span><span class="st"> </span><span class="kw">diff</span>(coord_x_<span class="dv">3</span>)<span class="op">/</span><span class="dv">2</span>
coord_y_<span class="dv">3</span> &lt;-<span class="st"> </span>mybar[<span class="dv">3</span>]
<span class="kw">text</span>(<span class="dt">x =</span> coord_x_<span class="dv">3</span>, 
     <span class="dt">y =</span> coord_y_<span class="dv">3</span>, 
     <span class="dt">labels =</span> <span class="kw">paste</span>(likert_tabell[<span class="dv">3</span>,], <span class="st">&quot;%&quot;</span>,  <span class="dt">sep=</span><span class="st">&quot;&quot;</span>),
     <span class="dt">cex =</span> <span class="fl">1.2</span>) </code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="inferens-2" class="section level3">
<h3><span class="header-section-number">5.3.3</span> Inferens</h3>
<p>Om vi har flera kategorier kan det vara av intressera att testa hypotetiskt fördelning av andelar i populationen. Då kan vi genomföra ett <em>goodness of fit-test (GOF)</em> som undersöker överstämmelsen mellan observerad data och denna hypotetiska population (som är vår fördelning). Anta att vi i ett OSU observerar en kategorivariabeln med <span class="math inline">\(k\)</span> kategorier. Hypoteserna kan då formuleras utifrån andelar i respektive kategori, dvs + <span class="math inline">\(H_0: p_1 = p_{1,H_0}, p_2 = p_{2,H_0}, \ldots, p_k = p_{k,H_0}\)</span> + <span class="math inline">\(H_1:\)</span> Minst en av andelarna inte överstämmer med värdet under nollhypotesen.</p>
<ul>
<li>Ett GOF-test kan genomföras med teststatistikan <span class="math display">\[\chi^2 = \sum_{i=1}^k\dfrac{ (O_i - E_i)^2}{E_i}= \dfrac{ (O_1 - E_1)^2}{E_1}+ \dfrac{ (O_2 - E_2)^2}{E_2}+\ldots+ \dfrac{ (O_k - E_k)^2}{E_k}\]</span> där <span class="math inline">\(O_i\)</span> är antalet observerade frekvenser i kategori <span class="math inline">\(i\)</span> och <span class="math inline">\(E_i\)</span> är antalet förväntade frekvenser, enligt nollhypotesen, i kategori <span class="math inline">\(i\)</span>. Teststatistikan är <span class="math inline">\(\chi^2\)</span>-fördelad med <span class="math inline">\(k-1\)</span> frihetsgrader givet att nollhypotesen är sann och ett OSU. Dessutom krävs att alla förväntade frekvenser är större än 5 (analogt med normalapproximation).</li>
</ul>
<p>För att genomföra <span class="math inline">\(\chi^2\)</span>-metoden i R används funktionen <strong>chisq.test()</strong>, som vi tillämpar på en frekvenstabell.</p>
<p><strong>Exempel: Åldersfördelning</strong></p>
<p><em>Vi spekulerar i att det i populationen finns 65% i ålderskategorin 18-49 år, 20% i ålderskategorin 50-64 år och 15% ålderskategorin 65-79 år. Målet är att jämföra stickprovets åldersfördelning med populationen. Eftersom det finns flera kategorier formuleras hypoteserna som <span class="math display">\[H_0: p_1 = 0.3,p_2 = 0.45,p_3 = 0.25\]</span> mot <span class="math display">\[H_1: \text{Minst en av andelarna inte överstämmer med värdet under nollhypotesen.}\]</span></em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># chitvå-test baserat på den tidigar frekvenstabellen</span>
 resultat &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(freq_table_alder,         <span class="co"># Frekvenstabell</span>
                        <span class="dt">p =</span> <span class="kw">c</span>(<span class="fl">0.3</span>, <span class="fl">0.45</span>, <span class="fl">0.25</span>),   <span class="co"># Andelar under H0</span>
                        <span class="dt">correct =</span> <span class="ot">FALSE</span>)          <span class="co"># Ej kontuitetskorrektion</span>
<span class="co"># Frihetsgrader</span>
 resultat<span class="op">$</span>parameter
<span class="op">&gt;</span><span class="st"> </span>df 
<span class="op">&gt;</span><span class="st">  </span><span class="dv">2</span>
<span class="co"># X2obs </span>
 resultat<span class="op">$</span>statistic
<span class="op">&gt;</span><span class="st"> </span>X<span class="op">-</span>squared 
<span class="op">&gt;</span><span class="st">  </span><span class="fl">8.942857</span>
<span class="co"># p-värde</span>
 resultat<span class="op">$</span>p.value
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="fl">0.01143097</span></code></pre></div>
<p><em>Resultatet (<span class="math inline">\(\chi^2=8.94, fg=2\)</span>) ger ett lågt <span class="math inline">\(p\)</span>-värde (<span class="math inline">\(p=0.011\)</span>). Tolkningen är att om observerad data är slumpmässigt draget från befolkningen är det låg sannolikhet att observera en så stor skillnad eller större mellan de observerade värdena och de förväntade. Data stämmer således inte överens med nollhypotesen. Vad <span class="math inline">\(p\)</span>-värdet inte besvarar är varför överstämmelsen är låg. Antigen är vår nollhypotes fel, dvs fördelningen i populationen faktiskt är en annan, eller så innebär ett lågt <span class="math inline">\(p\)</span>-värde att urvalet inte är ett OSU.</em></p>
</div>
</div>
<div id="samband-mellan-kategorivariabler" class="section level2">
<h2><span class="header-section-number">5.4</span> Samband mellan kategorivariabler</h2>
<div id="tabeller-och-figurer-2" class="section level3">
<h3><span class="header-section-number">5.4.1</span> Tabeller och figurer</h3>
<p>För att beskriva ett samband mellan två kategorivariabler används korstabeller på motsvarande sätt som för binära variabler. Det innebär att vi måste reflektera över om det är frekvenser eller andelar som är det relevanta att redovisa. Dessutom måste vi i funktionen <strong>prop.table()</strong> ange om andelarna ska beräknas radvis, kolumnvis eller baserat på totalen.</p>
<p>Vi illustrerar med att undersöka om det finns ett samband mellan ålder och uppfattningen om TV-reklam för spel bör vara tillåtet eller inte.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa en korstabell med frekvenser för ålder och reklam. </span>
<span class="co"># Vi antar i detta fall att ålder är oberoende variabler och reklam beroende och placerar därför</span>
<span class="co"># ålder kolumnvis och reklam radvis</span>
 freq_table_reklam_alder &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>reklam, df<span class="op">$</span>alder_cat) 
<span class="co"># Beräkna kolumnprocent för </span>
 prop_table_reklam_alder &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table_reklam_alder, <span class="dv">2</span>)
 prop_table_reklam_alder
<span class="op">&gt;</span><span class="st">                         </span>
<span class="er">&gt;</span><span class="st">                           </span><span class="dv">18</span><span class="op">-</span><span class="dv">49</span> år  <span class="dv">50</span><span class="op">-</span><span class="dv">64</span> år  <span class="dv">65</span><span class="op">-</span><span class="dv">79</span> år
<span class="op">&gt;</span><span class="st">   </span>Har ej tagit ställning <span class="fl">0.4242424</span> <span class="fl">0.2933333</span> <span class="fl">0.4218750</span>
<span class="op">&gt;</span><span class="st">   </span>Ja                     <span class="fl">0.3484848</span> <span class="fl">0.3000000</span> <span class="fl">0.3750000</span>
<span class="op">&gt;</span><span class="st">   </span>Nej                    <span class="fl">0.2272727</span> <span class="fl">0.4066667</span> <span class="fl">0.2031250</span></code></pre></div>
<p>Resulatet visar att i stickprovet är den negativa uppfattningen om TV-reklam och spel störst i åldergruppen 50-64 år, där 41% menar att TV-reklam för spel ej bör vara tillåtet. I åldersgrupperna 18-49 år och 65-79 år har 42% inte tagit ställning.</p>
<p>Nu ska vi se om vi kan kombinera frekvenser och procent i samma figur.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa en tabell med procent </span>
 procent_table_reklam_alder &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>prop_table_reklam_alder,<span class="dv">1</span>)
<span class="co"># Kombinera frekvenser och procent genom att ta varannan kolumn och kombinera dem</span>
 table_reklam_alder &lt;-<span class="st"> </span><span class="kw">cbind</span>(freq_table_reklam_alder[,<span class="dv">1</span>], <span class="kw">paste</span>(procent_table_reklam_alder[,<span class="dv">1</span>], <span class="st">&quot;%&quot;</span>,  <span class="dt">sep=</span><span class="st">&quot;&quot;</span>),
                             freq_table_reklam_alder[,<span class="dv">2</span>], <span class="kw">paste</span>(procent_table_reklam_alder[,<span class="dv">2</span>], <span class="st">&quot;%&quot;</span>,  <span class="dt">sep=</span><span class="st">&quot;&quot;</span>),
                             freq_table_reklam_alder[,<span class="dv">3</span>], <span class="kw">paste</span>(procent_table_reklam_alder[,<span class="dv">3</span>], <span class="st">&quot;%&quot;</span>,  <span class="dt">sep=</span><span class="st">&quot;&quot;</span>))
 <span class="kw">colnames</span>(table_reklam_alder)  &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="kw">levels</span>(df<span class="op">$</span>alder_cat)[<span class="dv">1</span>], <span class="st">&quot;&quot;</span>, 
                                        <span class="kw">levels</span>(df<span class="op">$</span>alder_cat)[<span class="dv">2</span>], <span class="st">&quot;&quot;</span>, 
                                        <span class="kw">levels</span>(df<span class="op">$</span>alder_cat)[<span class="dv">3</span>], <span class="st">&quot;&quot;</span>)
 table_reklam_alder
<span class="op">&gt;</span><span class="st">                        </span><span class="dv">18</span><span class="op">-</span><span class="dv">49</span> år         <span class="dv">50</span><span class="op">-</span><span class="dv">64</span> år         <span class="dv">65</span><span class="op">-</span><span class="dv">79</span> år        
<span class="op">&gt;</span><span class="st"> </span>Har ej tagit ställning <span class="st">&quot;28&quot;</span>     <span class="st">&quot;42.4%&quot;</span> <span class="st">&quot;44&quot;</span>     <span class="st">&quot;29.3%&quot;</span> <span class="st">&quot;27&quot;</span>     <span class="st">&quot;42.2%&quot;</span>
<span class="op">&gt;</span><span class="st"> </span>Ja                     <span class="st">&quot;23&quot;</span>     <span class="st">&quot;34.8%&quot;</span> <span class="st">&quot;45&quot;</span>     <span class="st">&quot;30%&quot;</span>   <span class="st">&quot;24&quot;</span>     <span class="st">&quot;37.5%&quot;</span>
<span class="op">&gt;</span><span class="st"> </span>Nej                    <span class="st">&quot;15&quot;</span>     <span class="st">&quot;22.7%&quot;</span> <span class="st">&quot;61&quot;</span>     <span class="st">&quot;40.7%&quot;</span> <span class="st">&quot;13&quot;</span>     <span class="st">&quot;20.3%&quot;</span></code></pre></div>
<p>Vi ska nu för första gången i detta material se hur vi kan exportera en tabell. Vi kommer återkomma till detta i kapitlet om tabeller, men det kan vara bra att redan nu få ett enkelt exempel. För att exportera till ordbehandlingsprogram krävs ett paketet som heter <strong>xtable</strong>. Installera därför detta paket. Detta paket exporterar tabeller till antingen html-format eller till LaTeX. Eftersom vanliga ordbehandlingsprogram är vanligare exporterar vi här till html-format.</p>
<p>För att exportera krävs bara några rader koder som sparar tabellen i en fil. Vi kan alltså inte klippa och klistra direkt från R. Filen sparas i din working-directory. Använd <strong>getwd()</strong> om du är osäker på vilken denna är. Se till att spara tabellen så att du enkelt hittar den och att den hör samman med ditt projekt.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Exportera tabell till HTML-dokument table_reklam_alder.html</span>
 <span class="kw">library</span>(<span class="st">&quot;xtable&quot;</span>)
 <span class="kw">print</span>(<span class="kw">xtable</span>(table_reklam_alder),         <span class="co"># Använd xtable()</span>
       <span class="dt">type =</span> <span class="st">&quot;html&quot;</span>,                      <span class="co"># Skriv tabellen i html-formet</span>
       <span class="dt">file =</span> <span class="st">&quot;table_reklam_alder.html&quot;</span>)   <span class="co"># Spara tabellen</span></code></pre></div>
<p>Slutligen öppnar du html-filen i en webläsare, markera allt (ctrl+A på Windows och Kommando-A på MacOS), kopiera och klistra sedan in i ditt ordbehandlingsprogram. Nu har du en tabell du kan modifiera! Den stora vinsten här är att du slipper bekymra dig om felinmatningar, inte själv utformningen. Att förändra tabellen estetiskt kan du vänta med till rapporten närmar sig att bli klar.</p>
<p>För att redovisa samband mellan kategorivariabler används i regel stapeldiagram. Nedan redovisas sambandet mellan ålder och reklam med de olika alternativ som finns för stapeldiagram, dvs frekvenser eller andelar samt om stapeldiagrammen ska vara uppdelade eller ej. Av alternativen är D förmodligen att föredra om detta samband ska utvärderas, men notera att detta alternativ inte ger någon information om uppfattningen om antalet i grupperna. Då hade B fungerat bättre.</p>
<p><img src="dpk_files/figure-html/unnamed-chunk-220-1.png" width="960" /></p>
<button title="barplots" type="button" onclick="if(document.getElementById('barplots') .style.display=='none')
              {document.getElementById('barplots') .style.display=''}
            else{document.getElementById('barplots') .style.display='none'}">
Visa kod för figur
</button>
<div id="barplots" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Funktion för att skapa 4 figurer i en. Introduceras i figur-kapitlet. </span>
<span class="co"># Du behöver INTE i detta avsnitt lära dig all kod nedan.</span>
 <span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))
<span class="co"># Funktion för att skapa större marginaler så vi </span>
 <span class="kw">par</span>(<span class="dt">oma =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>))
<span class="co"># Figur A</span>
 <span class="kw">barplot</span>(freq_table_reklam_alder, 
         <span class="dt">ylab =</span> <span class="st">&quot;Antal&quot;</span>,
         <span class="dt">main =</span> <span class="st">&quot;A&quot;</span>,
         <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;lightblue&quot;</span>,<span class="st">&quot;coral2&quot;</span>,<span class="st">&quot;lightyellow&quot;</span>))
 <span class="kw">legend</span>(<span class="st">&quot;bottom&quot;</span>, 
        <span class="dt">xpd =</span> <span class="ot">TRUE</span>,
        <span class="dt">horiz =</span> <span class="ot">TRUE</span>,
        <span class="dt">inset =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="op">-</span><span class="fl">0.4</span>),
        <span class="dt">legend=</span><span class="kw">c</span>(<span class="kw">row.names</span>(freq_table_reklam_alder)),  
        <span class="dt">fill =</span> <span class="kw">c</span>(<span class="st">&quot;lightblue&quot;</span>,<span class="st">&quot;coral2&quot;</span>,<span class="st">&quot;lightyellow&quot;</span>),
        <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>)
<span class="co"># Figur B</span>
 <span class="kw">barplot</span>(freq_table_reklam_alder, 
         <span class="dt">beside =</span> <span class="ot">TRUE</span>, 
         <span class="dt">ylab =</span> <span class="st">&quot;Antal&quot;</span>, 
         <span class="dt">main =</span> <span class="st">&quot;B&quot;</span>,
         <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;lightblue&quot;</span>,<span class="st">&quot;coral2&quot;</span>,<span class="st">&quot;lightyellow&quot;</span>))
 <span class="kw">legend</span>(<span class="st">&quot;bottom&quot;</span>, 
        <span class="dt">xpd =</span> <span class="ot">TRUE</span>,
        <span class="dt">horiz =</span> <span class="ot">TRUE</span>,
        <span class="dt">inset =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="op">-</span><span class="fl">0.4</span>),
        <span class="dt">legend=</span><span class="kw">c</span>(<span class="kw">row.names</span>(freq_table_reklam_alder)),  
        <span class="dt">fill =</span> <span class="kw">c</span>(<span class="st">&quot;lightblue&quot;</span>,<span class="st">&quot;coral2&quot;</span>,<span class="st">&quot;lightyellow&quot;</span>),
        <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>)
<span class="co"># Figur C</span>
 <span class="kw">barplot</span>(prop_table_reklam_alder, 
         <span class="dt">ylab =</span> <span class="st">&quot;Andel&quot;</span>, 
         <span class="dt">main =</span> <span class="st">&quot;C&quot;</span>,
         <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;lightblue&quot;</span>,<span class="st">&quot;coral2&quot;</span>,<span class="st">&quot;lightyellow&quot;</span>))
 <span class="kw">legend</span>(<span class="st">&quot;bottom&quot;</span>, 
        <span class="dt">xpd =</span> <span class="ot">TRUE</span>,
        <span class="dt">horiz =</span> <span class="ot">TRUE</span>,
        <span class="dt">inset =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="op">-</span><span class="fl">0.4</span>),
        <span class="dt">legend=</span><span class="kw">c</span>(<span class="kw">row.names</span>(freq_table_reklam_alder)),  
        <span class="dt">fill =</span> <span class="kw">c</span>(<span class="st">&quot;lightblue&quot;</span>,<span class="st">&quot;coral2&quot;</span>,<span class="st">&quot;lightyellow&quot;</span>),
        <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>)
<span class="co"># Figur D</span>
 <span class="kw">barplot</span>(prop_table_reklam_alder, 
         <span class="dt">beside =</span> <span class="ot">TRUE</span>, 
         <span class="dt">ylab =</span> <span class="st">&quot;Andel&quot;</span>, 
         <span class="dt">main =</span> <span class="st">&quot;D&quot;</span>,
         <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;lightblue&quot;</span>,<span class="st">&quot;coral2&quot;</span>,<span class="st">&quot;lightyellow&quot;</span>))
 <span class="kw">legend</span>(<span class="st">&quot;bottom&quot;</span>, 
        <span class="dt">xpd =</span> <span class="ot">TRUE</span>,
        <span class="dt">horiz =</span> <span class="ot">TRUE</span>,
        <span class="dt">inset =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="op">-</span><span class="fl">0.4</span>),
        <span class="dt">legend=</span><span class="kw">c</span>(<span class="kw">row.names</span>(freq_table_reklam_alder)),  
        <span class="dt">fill =</span> <span class="kw">c</span>(<span class="st">&quot;lightblue&quot;</span>,<span class="st">&quot;coral2&quot;</span>,<span class="st">&quot;lightyellow&quot;</span>),
        <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>)</code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="inferens-3" class="section level3">
<h3><span class="header-section-number">5.4.2</span> Inferens</h3>
<p>Det finns ett antal metoder för att analysera samband mellan kategorivariabler. Utgångspunkten i detta kapitel är man genom att korstabulera variablerna erhåller en korstabell som innehåller frekvenser för kombinationerna av variablernas kategorier. I respektive cell finns således observerade frekvenser <span class="math inline">\(O_{ij}\)</span> i cellen på rad <span class="math inline">\(i\)</span> och kolumn <span class="math inline">\(j\)</span>. Tabellen nedan illustrerar.</p>
<table>
<thead>
<tr class="header">
<th align="center"></th>
<th align="center">Kolumn 1</th>
<th align="center">Kolumn 2</th>
<th align="center"></th>
<th align="center">Kolumn k</th>
<th align="center"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>Rad 1</strong></td>
<td align="center"><span class="math inline">\(O_{11}\)</span></td>
<td align="center"><span class="math inline">\(O_{12}\)</span></td>
<td align="center"><span class="math inline">\(\cdots\)</span></td>
<td align="center"><span class="math inline">\(O_{1k}\)</span></td>
<td align="center">Radsumma 1</td>
</tr>
<tr class="even">
<td align="center"><strong>Rad 2</strong></td>
<td align="center"><span class="math inline">\(O_{21}\)</span></td>
<td align="center"><span class="math inline">\(O_{22}\)</span></td>
<td align="center"><span class="math inline">\(\cdots\)</span></td>
<td align="center"><span class="math inline">\(O_{2k}\)</span></td>
<td align="center">Radsumma 2</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(\vdots\)</span></td>
<td align="center"><span class="math inline">\(\vdots\)</span></td>
<td align="center"><span class="math inline">\(\vdots\)</span></td>
<td align="center"><span class="math inline">\(\ddots\)</span></td>
<td align="center"><span class="math inline">\(\vdots\)</span></td>
<td align="center"><span class="math inline">\(\vdots\)</span></td>
</tr>
<tr class="even">
<td align="center"><strong>Rad r</strong></td>
<td align="center"><span class="math inline">\(O_{r1}\)</span></td>
<td align="center"><span class="math inline">\(O_{r2}\)</span></td>
<td align="center"></td>
<td align="center"><span class="math inline">\(O_{rk}\)</span></td>
<td align="center">Radsumma r</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Kolumnsumma 1</td>
<td align="center">Kolumnsumma 2</td>
<td align="center"><span class="math inline">\(\cdots\)</span></td>
<td align="center">Kolumnsumma k</td>
<td align="center">Totalsumma</td>
</tr>
</tbody>
</table>
<p>Tabellen kan användas för att genomföra ett oberoendetest där nollhypotesen är <span class="math inline">\(H_0: \text{Variablerna är oberoende}\)</span> vs <span class="math inline">\(H_1: \text{Variablerna är beroende}\)</span>. Notera att testet inte har någon riktning.</p>
<ul>
<li>Ett oberoendetest kan genomföras med teststatistikan <span class="math display">\[\chi^2 = \sum_{i=1}^r\sum_{j=1}^k \dfrac{(O_{ij} - E_{ij})^2}{E_{ij}} = \dfrac{(O_{11} - E_{11})^2}{E_{11}}+ \dfrac{(O_{12} - E_{12})^2}{E_{12}}+\ldots+ \dfrac{ (O_{rk} - E_{rk})^2}{E_{rk}},\]</span> där <span class="math inline">\(E_{ij} = \dfrac{\text{Radsumma i}\cdot \text{Kolumnsumma j}}{\text{Totalsumma}}\)</span> är de förväntade frekvenserna givet att variablerna är oberoende. Teststatistikan är <span class="math inline">\(\chi^2\)</span>-fördelad med <span class="math inline">\((r-1)(k-1)\)</span> frihetsgrader om <span class="math inline">\(H_0\)</span> är sann och om antalet förväntade frekvenser i alla celler är större än 5. Det framräknade värdet i stickprovet, <span class="math inline">\(\chi^2_{obs}\)</span>, jämförs sedan med denna fördelning. Genom att se hur extremt värdet är i högra svansen erhålls <span class="math inline">\(p\)</span>-värdet.</li>
</ul>
<p>Notera att denna typ av sambandsanalys inte tar någon hänsyn till om variablerna går att rangordna. Alltså använder vi eventuellt inte all tillgänglig information. För variabler på ordinalskala finns alternativa metoder som därför eventuellt har högre styrka, exempelvis Spearmans rangkorrelation. Detta faktum innebär dock inte att <span class="math inline">\(\chi^2\)</span>-metoden inte kan användas.</p>
<p>Vi illustrerar testet genom att studera sambandet mellan ålder och uppfattningen om TV-reklam för spel bör vara tillåtet eller inte. Baserat på en OSU bestående av <span class="math inline">\(n=280\)</span> testar vi nu om dessa variabler är oberoende.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Vi använder freq_table_reklam_alder från tidigare uppgift</span>
 test_reklam_alder &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(freq_table_reklam_alder, <span class="dt">correct =</span> <span class="ot">FALSE</span>)
 test_reklam_alder
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">   </span>Pearson<span class="st">&#39;s Chi-squared test</span>
<span class="st">&gt; </span>
<span class="st">&gt; data:  freq_table_reklam_alder</span>
<span class="st">&gt; X-squared = 12.265, df = 4, p-value = 0.01549</span></code></pre></div>
<p>Det låga <span class="math inline">\(p\)</span>-värdet <span class="math inline">\(p=0.015\)</span> säger att om variablerna är oberoende så är det låg sannolikhet att hitta så stora avvikelser som gör eller större. Data stämmer inte överens med nollhypotesen om inget beroende och vi lutar åt att faktiskt variablerna faktiskt är beroende.</p>
<p>En manuell version av testet ger exakt samma resultat.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Chitvå-test manuellt</span>
 Oij &lt;-<span class="st"> </span>freq_table_reklam_alder
 Ri &lt;-<span class="st"> </span><span class="kw">rowSums</span>(Oij)
 Ki &lt;-<span class="st"> </span><span class="kw">colSums</span>(Oij)
 Totalsumma &lt;-<span class="st"> </span><span class="kw">sum</span>(Oij)
<span class="co"># Skapa en matrix med förväntade frekvenser </span>
 Eij &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="ot">NA</span>, <span class="kw">dim</span>(Oij)[<span class="dv">1</span>], <span class="kw">dim</span>(Oij)[<span class="dv">2</span>])
 Eij[<span class="dv">1</span>,<span class="dv">1</span>] &lt;-<span class="st">  </span>Ri[<span class="dv">1</span>]<span class="op">*</span>Ki[<span class="dv">1</span>]<span class="op">/</span>Totalsumma
 Eij[<span class="dv">1</span>,<span class="dv">2</span>] &lt;-<span class="st">  </span>Ri[<span class="dv">1</span>]<span class="op">*</span>Ki[<span class="dv">2</span>]<span class="op">/</span>Totalsumma
 Eij[<span class="dv">1</span>,<span class="dv">3</span>] &lt;-<span class="st">  </span>Ri[<span class="dv">1</span>]<span class="op">*</span>Ki[<span class="dv">3</span>]<span class="op">/</span>Totalsumma
 Eij[<span class="dv">2</span>,<span class="dv">1</span>] &lt;-<span class="st">  </span>Ri[<span class="dv">2</span>]<span class="op">*</span>Ki[<span class="dv">1</span>]<span class="op">/</span>Totalsumma
 Eij[<span class="dv">2</span>,<span class="dv">2</span>] &lt;-<span class="st">  </span>Ri[<span class="dv">2</span>]<span class="op">*</span>Ki[<span class="dv">2</span>]<span class="op">/</span>Totalsumma
 Eij[<span class="dv">2</span>,<span class="dv">3</span>] &lt;-<span class="st">  </span>Ri[<span class="dv">2</span>]<span class="op">*</span>Ki[<span class="dv">3</span>]<span class="op">/</span>Totalsumma
 Eij[<span class="dv">3</span>,<span class="dv">1</span>] &lt;-<span class="st">  </span>Ri[<span class="dv">3</span>]<span class="op">*</span>Ki[<span class="dv">1</span>]<span class="op">/</span>Totalsumma
 Eij[<span class="dv">3</span>,<span class="dv">2</span>] &lt;-<span class="st">  </span>Ri[<span class="dv">3</span>]<span class="op">*</span>Ki[<span class="dv">2</span>]<span class="op">/</span>Totalsumma
 Eij[<span class="dv">3</span>,<span class="dv">3</span>] &lt;-<span class="st">  </span>Ri[<span class="dv">3</span>]<span class="op">*</span>Ki[<span class="dv">3</span>]<span class="op">/</span>Totalsumma
<span class="co"># Beräkna observerat chitvå-värde och p-värde</span>
 X2obs &lt;-<span class="st"> </span><span class="kw">sum</span>((Oij <span class="op">-</span><span class="st"> </span>Eij)<span class="op">^</span><span class="dv">2</span><span class="op">/</span>Eij)
 fg &lt;-<span class="st"> </span>(<span class="kw">dim</span>(Oij)[<span class="dv">1</span>] <span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>(<span class="kw">dim</span>(Oij)[<span class="dv">2</span>] <span class="op">-</span><span class="dv">1</span>)
 p_value &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">pchisq</span>(X2obs, fg)</code></pre></div>
</div>
</div>
<div id="övningar-3" class="section level2">
<h2><span class="header-section-number">5.5</span> Övningar</h2>
<div id="övning-5.1" class="section level3 unnumbered">
<h3>Övning 5.1</h3>
<p>En undersökning ville testa jämföra andelen vänsterhänta bland män och kvinnor. I studien drogs ett OSU av med 30 kvinnor varav 6 var vänsterhänta samt ett OSU med 29 män varav 4 är vänsterhänta. Är andelen vänsterhänta mellan kvinnor och män samma? Redovisa p-värdet som du erhåller från ett test av nollhypotesen. Tolka resultatet.</p>
<button title="q501" type="button" onclick="if(document.getElementById('q501') .style.display=='none')
              {document.getElementById('q501') .style.display=''}
            else{document.getElementById('q501') .style.display='none'}">
Visa svar
</button>
<div id="q501" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
 x_f &lt;-<span class="st"> </span><span class="dv">6</span>
 n_f &lt;-<span class="st"> </span><span class="dv">30</span>
 x_m &lt;-<span class="st"> </span><span class="dv">4</span>
 n_m&lt;-<span class="st"> </span><span class="dv">29</span>
 <span class="kw">prop.test</span>(<span class="kw">c</span>(x_f,x_m), <span class="kw">c</span>(n_f, n_m), <span class="dt">correct =</span> <span class="ot">FALSE</span>) 
<span class="op">&gt;</span><span class="st"> </span>Warning <span class="cf">in</span> <span class="kw">prop.test</span>(<span class="kw">c</span>(x_f, x_m), <span class="kw">c</span>(n_f, n_m), <span class="dt">correct =</span> <span class="ot">FALSE</span>)<span class="op">:</span><span class="st"> </span>Chi<span class="op">-</span>
<span class="er">&gt;</span><span class="st"> </span>squared approximation may be incorrect
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">   </span><span class="dv">2</span><span class="op">-</span>sample test <span class="cf">for</span> equality of proportions without continuity
<span class="op">&gt;</span><span class="st">   </span>correction
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>data<span class="op">:</span><span class="st">  </span><span class="kw">c</span>(x_f, x_m) out of <span class="kw">c</span>(n_f, n_m)
<span class="op">&gt;</span><span class="st"> </span>X<span class="op">-</span>squared =<span class="st"> </span><span class="fl">0.40357</span>, df =<span class="st"> </span><span class="dv">1</span>, p<span class="op">-</span>value =<span class="st"> </span><span class="fl">0.5252</span>
<span class="op">&gt;</span><span class="st"> </span>alternative hypothesis<span class="op">:</span><span class="st"> </span>two.sided
<span class="op">&gt;</span><span class="st"> </span><span class="dv">95</span> percent confidence interval<span class="op">:</span>
<span class="er">&gt;</span><span class="st">  </span><span class="op">-</span><span class="fl">0.1282953</span>  <span class="fl">0.2524333</span>
<span class="op">&gt;</span><span class="st"> </span>sample estimates<span class="op">:</span>
<span class="er">&gt;</span><span class="st">   </span>prop <span class="dv">1</span>   prop <span class="dv">2</span> 
<span class="op">&gt;</span><span class="st"> </span><span class="fl">0.200000</span> <span class="fl">0.137931</span>

<span class="co"># Undersök om de förväntade frekvenserna är större än 5 i alla celler</span>
 freq_table &lt;-<span class="st"> </span><span class="kw">as.table</span>( <span class="kw">matrix</span>( <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">24</span>, <span class="dv">4</span>, <span class="dv">25</span>), <span class="dv">2</span>, <span class="dv">2</span>) )
 test &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(freq_table, <span class="dt">correct =</span> <span class="ot">FALSE</span>)
<span class="op">&gt;</span><span class="st"> </span>Warning <span class="cf">in</span> <span class="kw">chisq.test</span>(freq_table, <span class="dt">correct =</span> <span class="ot">FALSE</span>)<span class="op">:</span><span class="st"> </span>Chi<span class="op">-</span>squared
<span class="op">&gt;</span><span class="st"> </span>approximation may be incorrect
 test
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">   </span>Pearson<span class="st">&#39;s Chi-squared test</span>
<span class="st">&gt; </span>
<span class="st">&gt; data:  freq_table</span>
<span class="st">&gt; X-squared = 0.40357, df = 1, p-value = 0.5252</span>
<span class="st"> test$expected</span>
<span class="st">&gt;           A         B</span>
<span class="st">&gt; A  5.084746  4.915254</span>
<span class="st">&gt; B 24.915254 24.084746</span></code></pre></div>
<p><span class="math inline">\(\chi^2\)</span>-testet går alltså inte att använda! Förutsättningen om förväntade frekvenser större än 5 i alla celler är inte uppfylld. Det finns alternativa test som Fishers exakta test, men dessa ingår inte på kursen.</p>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.2" class="section level3 unnumbered">
<h3>Övning 5.2</h3>
<p>Raghubir &amp; Srivastava (2009) undersökte effekten av storleken på sedlar och mynt på i vilken utsträckning pengarna används. Ett experiment genomfördes där 46 studenter fick en endollarssedel och 43 stycken studenter fick 4 stycken amerikanska 25 cents mynt, så kallade quarters. Studenterna fick sedan välja mellan att spara pengarna eller spendera dem på tuggummi och mintpastiller.</p>
<p>Nedan redovisas en sammanfattning av studien.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="center">1 dollar sedel</th>
<th align="center">4 quarters</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Spenderade pengarna</td>
<td align="center">12</td>
<td align="center">27</td>
</tr>
<tr class="even">
<td>Sparade pengarna</td>
<td align="center">34</td>
<td align="center">16</td>
</tr>
</tbody>
</table>
<ol style="list-style-type: lower-alpha">
<li><p>Skapa en tabell som deskriptivt redovisar sambandet</p></li>
<li><p>Skapa en figur som deskriptivt redovisar sambandet</p></li>
<li><p>Skatta skillnaden i andelar som spenderar pengar tillsammans med tillhörande 90% konfidensintervall.</p></li>
<li><p>Beräkna <span class="math inline">\(p\)</span>-värdet om givet att det inte finns någon skillnad mellan grupperna vad gäller andelen som spenderar pengarna.</p></li>
<li><p>Ge en utförlig tolkning av resultaten.</p></li>
<li><p>Litar du på resultaten? Är förutsättningarna uppfyllda?</p></li>
</ol>
<button title="q502" type="button" onclick="if(document.getElementById('q502') .style.display=='none')
              {document.getElementById('q502') .style.display=''}
            else{document.getElementById('q502') .style.display='none'}">
Visa svar
</button>
<div id="q502" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
<span class="co"># a)</span>
 freq_table &lt;-<span class="st"> </span><span class="kw">as.table</span>( <span class="kw">matrix</span>( <span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">34</span>, <span class="dv">27</span>, <span class="dv">16</span>), <span class="dv">2</span>, <span class="dv">2</span>))
 <span class="kw">colnames</span>(freq_table) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1 endollarsedel&quot;</span>, <span class="st">&quot;4 quarters&quot;</span>)
 <span class="kw">rownames</span>(freq_table) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Spenderade pengarna&quot;</span>, <span class="st">&quot;Sparade pengarna&quot;</span>)
 prop_table &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table, <span class="dv">2</span>)
 table_bill_spending &lt;-<span class="st"> </span><span class="kw">cbind</span>(freq_table[,<span class="dv">1</span>], <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>prop_table[,<span class="dv">1</span>], <span class="dv">1</span>),
                             freq_table[,<span class="dv">2</span>], <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>prop_table[,<span class="dv">2</span>], <span class="dv">1</span>))
 <span class="kw">colnames</span>(table_bill_spending) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1 endollarsedel (n)&quot;</span>, <span class="st">&quot;1 dollarsedel (%)&quot;</span>, <span class="st">&quot;4 quarters (n)&quot;</span>, <span class="st">&quot;4 quarters  (%)&quot;</span>)
 <span class="kw">rownames</span>(table_bill_spending) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Spenderade pengarna&quot;</span>, <span class="st">&quot;Sparade pengarna&quot;</span>)
 table_bill_spending
                    <span class="dv">1</span> <span class="kw">endollarsedel</span> (n) <span class="dv">1</span> <span class="kw">dollarsedel</span> (%) <span class="dv">4</span> <span class="kw">quarters</span> (n)
Spenderade pengarna                  <span class="dv">12</span>              <span class="fl">26.1</span>             <span class="dv">27</span>
Sparade pengarna                     <span class="dv">34</span>              <span class="fl">73.9</span>             <span class="dv">16</span>
                    <span class="dv">4</span> <span class="kw">quarters</span>  (%)
Spenderade pengarna            <span class="fl">62.8</span>
Sparade pengarna               <span class="fl">37.2</span>
 
<span class="co"># b)</span>
 percentages_spending&lt;-<span class="st"> </span><span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>prop_table[<span class="dv">1</span>,], <span class="dv">1</span>)
 my_bar &lt;-<span class="st"> </span><span class="kw">barplot</span>(  percentages_spending, 
                     <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;1 dollarsedel&quot;</span>, <span class="st">&quot;4 quarters&quot;</span>), 
                     <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">80</span>), 
                     <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>,
                     <span class="dt">border =</span> <span class="st">&quot;lightblue&quot;</span>,
                     <span class="dt">ylab =</span> <span class="st">&quot;Spenderade pengarna (%)&quot;</span>)
 <span class="kw">text</span>(<span class="dt">x =</span> my_bar, <span class="dt">y =</span> percentages_spending <span class="op">+</span><span class="st"> </span><span class="dv">6</span>, 
     <span class="dt">labels =</span> <span class="kw">paste</span>(percentages_spending, <span class="st">&quot;%&quot;</span>,  <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)) </code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-225-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># c) </span>
<span class="co"># Version 1</span>
 x1 &lt;-<span class="st"> </span>freq_table[<span class="dv">1</span>,<span class="dv">1</span>]
 x0 &lt;-<span class="st"> </span>freq_table[<span class="dv">1</span>,<span class="dv">2</span>]
 n1 &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table[,<span class="dv">1</span>])
 n0 &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table[,<span class="dv">2</span>])
 resultat &lt;-<span class="st"> </span><span class="kw">prop.test</span>(<span class="kw">c</span>(x1, x0), <span class="kw">c</span>(n1, n0), <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">correct =</span> <span class="ot">FALSE</span>)
 p_differens &lt;-<span class="st"> </span>resultat<span class="op">$</span>estimate[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span>resultat<span class="op">$</span>estimate[<span class="dv">2</span>]
 p_differens_KI &lt;-<span class="st"> </span>resultat<span class="op">$</span>conf.int
 p_differens
    prop <span class="dv">1</span> 
<span class="op">-</span><span class="fl">0.3670374</span> 
 p_differens_KI
[<span class="dv">1</span>] <span class="op">-</span><span class="fl">0.5284105</span> <span class="op">-</span><span class="fl">0.2056644</span>
<span class="kw">attr</span>(,<span class="st">&quot;conf.level&quot;</span>)
[<span class="dv">1</span>] <span class="fl">0.9</span>

<span class="co"># Version 2</span>
 p1hat &lt;-<span class="st"> </span>x1<span class="op">/</span>n1
 p0hat &lt;-<span class="st"> </span>x0<span class="op">/</span>n0
 p_diff &lt;-<span class="st"> </span>p1hat <span class="op">-</span><span class="st"> </span>p0hat
 vp_diff &lt;-<span class="st"> </span>p1hat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>p1hat)<span class="op">/</span>n1 <span class="op">+</span><span class="st"> </span>p0hat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>p0hat)<span class="op">/</span>n0
 alpha &lt;-<span class="st"> </span><span class="fl">0.1</span>
 z_alpha &lt;-<span class="st"> </span><span class="kw">qnorm</span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>alpha<span class="op">/</span><span class="dv">2</span>)
 ll &lt;-<span class="st"> </span>p_diff <span class="op">-</span><span class="st"> </span>z_alpha<span class="op">*</span><span class="kw">sqrt</span>(vp_diff)
 ul &lt;-<span class="st"> </span>p_diff <span class="op">+</span><span class="st"> </span>z_alpha<span class="op">*</span><span class="kw">sqrt</span>(vp_diff)
 p_diff_KI &lt;-<span class="st"> </span><span class="kw">c</span>(ll, ul)
 p_diff
[<span class="dv">1</span>] <span class="op">-</span><span class="fl">0.3670374</span>
 p_diff_KI
[<span class="dv">1</span>] <span class="op">-</span><span class="fl">0.5284105</span> <span class="op">-</span><span class="fl">0.2056644</span>
 
<span class="co"># d)</span>
<span class="co"># Version 1</span>
 p_value_p_differens &lt;-<span class="st"> </span>resultat<span class="op">$</span>p.value
 p_value_p_differens
[<span class="dv">1</span>] <span class="fl">0.0004877499</span>

<span class="co"># Version 2</span>
 pooled_phat &lt;-<span class="st"> </span>(n1<span class="op">*</span>p1hat <span class="op">+</span><span class="st"> </span>n0<span class="op">*</span>p0hat)<span class="op">/</span>(n1 <span class="op">+</span><span class="st"> </span>n0)
 zobs &lt;-<span class="st"> </span>(p1hat <span class="op">-</span><span class="st"> </span>p0hat)<span class="op">/</span><span class="kw">sqrt</span>(pooled_phat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>pooled_phat)<span class="op">*</span>(<span class="dv">1</span><span class="op">/</span>n1 <span class="op">+</span><span class="st"> </span><span class="dv">1</span><span class="op">/</span>n0))
 p_value_p_diff &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">pnorm</span>(<span class="kw">abs</span>(zobs)))
 p_value_p_diff
[<span class="dv">1</span>] <span class="fl">0.0004877499</span></code></pre></div>
<ol start="5" style="list-style-type: lower-alpha">
<li><p>Se formuleringar ovan om andelar, differens av andelar, KI och p-värde.</p></li>
<li><p>OSU (experiment) och normalapproximation gäller. Jag litar på resultaten.</p></li>
</ol>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.3" class="section level3 unnumbered">
<h3>Övning 5.3</h3>
<p>Rosa et al. (1998) undersökte om en typ av ‘’healers’’ hade förmåga att känna mänskliga kroppars så kallade energifält. Forskarna besökte en mässa för alternativmedicin och gjorde där ett experiment som gick ut på att healers skulle identifiera om undersökarens vänstra eller högre hand var närmst healern. Händerna var dolda under ett tygstycke. Totalt genomfördes 130 försök och av dessa lyckades healers identifera rätt hand 53 gånger. Undersök det finns belägg för denna förmåga bland healers.</p>
<p>Tolka resultatet!</p>
<button title="q503" type="button" onclick="if(document.getElementById('q503') .style.display=='none')
              {document.getElementById('q503') .style.display=''}
            else{document.getElementById('q503') .style.display='none'}">
Visa svar
</button>
<div id="q503" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
<span class="co"># Version 1</span>
 x &lt;-<span class="st"> </span><span class="dv">53</span>
 n &lt;-<span class="st"> </span><span class="dv">130</span>
 resultat &lt;-<span class="st">  </span><span class="kw">prop.test</span>(<span class="dv">53</span>, <span class="dv">130</span>, <span class="dt">p =</span> <span class="fl">0.5</span>, <span class="dt">correct =</span> <span class="ot">FALSE</span>)
 p_value &lt;-<span class="st"> </span>resultat<span class="op">$</span>p.value
 p_value 
[<span class="dv">1</span>] <span class="fl">0.0352966</span>
 
<span class="co"># Version 2</span>
phat &lt;-<span class="st"> </span>x<span class="op">/</span>n
pH0 &lt;-<span class="st"> </span><span class="fl">0.5</span>
z &lt;-<span class="st"> </span>(phat <span class="op">-</span><span class="st"> </span><span class="fl">0.5</span>)<span class="op">/</span><span class="kw">sqrt</span>(pH0<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>pH0)<span class="op">/</span>n)
p_value_v2 &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">*</span><span class="kw">pnorm</span>(z)
p_value_v2
[<span class="dv">1</span>] <span class="fl">0.0352966</span></code></pre></div>
<p>Givet att healers inte är bättre än slumpen, dvs <span class="math inline">\(H_0: p = 0.5\)</span>, så är sannolikheten <span class="math inline">\(p=0.035\)</span> att observera ett så extremt värde som det studien ger. Hur tolkar vi detta rent praktiskt?</p>
<ol style="list-style-type: decimal">
<li><p>För det första ser vi att om det vore så att det skulle finnas en förmåga så verkar det snarare vara i negativ riktning, dvs att healers presterar sämre än slumpen.</p></li>
<li><p>För det andra är detta ett exempel på hur man inte ska förlita sig på enskilda studier och hypotesprövning allena. <span class="math inline">\(p\)</span>-värdet är inte särskilt lågt och det är rimligt att tro att resultat helt enkelt är ett slumpfynd och att healers presterar varken bättre eller sämre än slumpen.</p></li>
</ol>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.4" class="section level3 unnumbered">
<h3>Övning 5.4</h3>
<p>Gerritsen et al. (1998) ville jämföra kiurgi med spjälning av handleden för att hantera det som kallas karpaltunnelsyndrom, dvs smärta till följd av att nerver kläms i handleden. Du erhåller följande datamaterial från studien.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">treatment =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;splint&quot;</span>, <span class="dv">60</span>), <span class="kw">rep</span>(<span class="st">&quot;splint&quot;</span>, <span class="dv">23</span>), <span class="kw">rep</span>(<span class="st">&quot;surgery&quot;</span>, <span class="dv">67</span>), <span class="kw">rep</span>(<span class="st">&quot;surgery&quot;</span>, <span class="dv">6</span>)), 
                 <span class="dt">y =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;succesful&quot;</span>, <span class="dv">60</span>), <span class="kw">rep</span>(<span class="st">&quot;unsucsessful&quot;</span>,<span class="dv">23</span>), <span class="kw">rep</span>(<span class="st">&quot;succesful&quot;</span>, <span class="dv">67</span>), <span class="kw">rep</span>(<span class="st">&quot;unsucsessful&quot;</span>,<span class="dv">6</span>)))</code></pre></div>
<p>Undersökarna vill beräkna kvoten av andelar lyckade behandlingar (relativ risk), där spjälning är referensgrupp. Eftersom forskarna vill fatta beslut vill man att en hypotesprövning genomförs på 5% signifikansnivå.</p>
<button title="q504" type="button" onclick="if(document.getElementById('q504') .style.display=='none')
              {document.getElementById('q504') .style.display=''}
            else{document.getElementById('q504') .style.display='none'}">
Visa svar
</button>
<div id="q504" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
 df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">treatment =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;splint&quot;</span>, <span class="dv">60</span>), <span class="kw">rep</span>(<span class="st">&quot;splint&quot;</span>, <span class="dv">23</span>), <span class="kw">rep</span>(<span class="st">&quot;surgery&quot;</span>, <span class="dv">67</span>),  <span class="kw">rep</span>(<span class="st">&quot;surgery&quot;</span>, <span class="dv">6</span>)), 
                 <span class="dt">y =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;succesful&quot;</span>, <span class="dv">60</span>), <span class="kw">rep</span>(<span class="st">&quot;unsucsessful&quot;</span>,<span class="dv">23</span>), <span class="kw">rep</span>(<span class="st">&quot;succesful&quot;</span>, <span class="dv">67</span>),   <span class="kw">rep</span>(<span class="st">&quot;unsucsessful&quot;</span>,<span class="dv">6</span>)))
 freq_table &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>y, df<span class="op">$</span>treatment)
 prop_table &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table, <span class="dv">2</span>) 
 phat_splint &lt;-<span class="st"> </span>prop_table[<span class="dv">1</span>,<span class="dv">1</span>]
 phat_surgery &lt;-<span class="st"> </span>prop_table[<span class="dv">1</span>,<span class="dv">2</span>]
 p_kvot &lt;-<span class="st"> </span>phat_surgery<span class="op">/</span>phat_splint 
 resultat &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(freq_table, <span class="dt">correct =</span> <span class="ot">FALSE</span>)
 p_kvot
[<span class="dv">1</span>] <span class="fl">1.269635</span>
 resultat<span class="op">$</span>p.value
[<span class="dv">1</span>] <span class="fl">0.001792853</span></code></pre></div>
<p>En patient har 27% (p = 0.002) större chans till lyckad behandling om patienten genomgår kirurgi istället för behandling. Eftersom <span class="math inline">\(p&lt;0.05\)</span> förkastar vi på 5% signifikansnivå nollhypotesen om att kirurgi och spjälning är lika effektiva.</p>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.5" class="section level3 unnumbered">
<h3>Övning 5.5</h3>
<p>En sjuksköterska är anklagad för att ha mördat ett antal patienter. Som bevis jämför man dödligheten på skift där den anklagade har arbetat med skift där den anklagade inte har arbetat. Anta nu att du är domare i det aktuella fallet. Ladda in nedanstående tabell. Ställ upp en nollhypotes och analysera data och bilda dig en uppfattning om den anklagade är oskyldig.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">accused &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;accused was working&quot;</span>, <span class="dv">40</span>), 
             <span class="kw">rep</span>(<span class="st">&quot;accused was working&quot;</span>, <span class="dv">217</span>), 
             <span class="kw">rep</span>(<span class="st">&quot;accused was not working&quot;</span>, <span class="dv">34</span>), 
             <span class="kw">rep</span>(<span class="st">&quot;accused was not working&quot;</span>, <span class="dv">1350</span>)) 
death &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;shifts with a death&quot;</span>, <span class="dv">40</span>), 
           <span class="kw">rep</span>(<span class="st">&quot;shifts without a death&quot;</span>,<span class="dv">217</span>), 
           <span class="kw">rep</span>(<span class="st">&quot;shifts with a death&quot;</span>, <span class="dv">34</span>), 
           <span class="kw">rep</span>(<span class="st">&quot;shifts without a death&quot;</span>, <span class="dv">1350</span>))
<span class="kw">table</span>(accused, death)</code></pre></div>
<button title="q505" type="button" onclick="if(document.getElementById('q505') .style.display=='none')
              {document.getElementById('q505') .style.display=''}
            else{document.getElementById('q505') .style.display='none'}">
Visa svar
</button>
<div id="q505" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
accused &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;accused was working&quot;</span>, <span class="dv">40</span>), 
             <span class="kw">rep</span>(<span class="st">&quot;accused was working&quot;</span>, <span class="dv">217</span>), 
             <span class="kw">rep</span>(<span class="st">&quot;accused was not working&quot;</span>, <span class="dv">34</span>), 
             <span class="kw">rep</span>(<span class="st">&quot;accused was not working&quot;</span>, <span class="dv">1350</span>)) 
death &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;shifts with a death&quot;</span>, <span class="dv">40</span>), 
           <span class="kw">rep</span>(<span class="st">&quot;shifts without a death&quot;</span>,<span class="dv">217</span>), 
           <span class="kw">rep</span>(<span class="st">&quot;shifts with a death&quot;</span>, <span class="dv">34</span>), 
           <span class="kw">rep</span>(<span class="st">&quot;shifts without a death&quot;</span>, <span class="dv">1350</span>))
freq_table &lt;-<span class="st"> </span><span class="kw">table</span>(accused, death)
freq_table
                         death
accused                   shifts with a death shifts without a death
  accused was not working                  <span class="dv">34</span>                   <span class="dv">1350</span>
  accused was working                      <span class="dv">40</span>                    <span class="dv">217</span>
resultat &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(freq_table)
resultat<span class="op">$</span>p.value
[<span class="dv">1</span>] <span class="fl">6.489411e-20</span></code></pre></div>
<p>Givet att det finns det inte skiljer sig åt mellan den anklagades skift och andras skift är det mycket liten sannolikhet att observera så många döda som vi observerar eller mer extremt ($p &lt; 0.001).</p>
<p>Kristen Gilbert var en amerikansk sjuksköterska som fick smeknamnet “Angel Death” efter ett antal misstänkta dödsfall på psykiatriska avdelningar där hon arbetade. Hon blev så småningom dömd för mord och avtjänar numera livstids fängelsestraff utan möjlighet till benådning.</p>
<p>Det är mycket viktigt att komma ihåg vad en jämförelse innebär.</p>
<ul>
<li>Ett litet <span class="math inline">\(p\)</span>-värde tyder på något avvikande</li>
<li>Ett litet <span class="math inline">\(p\)</span>-värde talar inte om VARFÖR det avviken. För detta krävs antaganden. Till exempel randomiserades inte Gilbert till avdelningarna. Låt säg att ventilationen på hennes skift alltid var sämre, med högre partikelhalter. Då skulle detta vara orsaken. För att vara säker på att det är Gilbert som orsakat dödsfallen krävs att vissa förutsättningar är uppfyllda, t ex att skiften är slumpmässigt tilldelade. Domstolen beaktade därför inte statistiken som bevis. Vad som skedde var dock att statistiken avslöjade ett mönster som gjorde att man undersökte fallen ytterligare och därför kunde gripa Gilbert.</li>
</ul>
<p>Den intresserade kan läsa här om hur statistiken användes i just detta fall: <a href="http://www.stat.ucla.edu/~nchristo/statistics100B/article.pdf" class="uri">http://www.stat.ucla.edu/~nchristo/statistics100B/article.pdf</a></p>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.6" class="section level3 unnumbered">
<h3>Övning 5.6</h3>
<p>En studie 1980 undersökte homosexuellas situation Sverige. En del av denna studie utgjordes bland annat en enkätundersökning. Ladda ner Lilla Enkäten som är txt-fil som finns i zip-filen “Enkäterna i csv-format” på <a href="https://riksarkivet.se/psidata/livet-som-gay" class="uri">https://riksarkivet.se/psidata/livet-som-gay</a>. Utgå från att data är insamlat med OSU och besvara sedan följande frågor:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Har den svarande själv talat om för någon heterosexuell bekant (som inte bara är arbetskamrat) att den svarande är homo/bisexuell? Variabeln heter <em>TALAT_OM</em>.</p></li>
<li><p>Finns ett samband mellan kön (<strong>KOEN</strong>) och fråga a)?</p></li>
<li><p>Undersök samband mellan att känna skam eller ångest (<strong>SKAM</strong>) och <em>TALAT_OM</em>? Redovisa bortfall. Redovisa en figur.</p></li>
</ol>
<button title="q506" type="button" onclick="if(document.getElementById('q506') .style.display=='none')
              {document.getElementById('q506') .style.display=''}
            else{document.getElementById('q506') .style.display='none'}">
Visa svar
</button>
<div id="q506" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
 df &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;data/Lilla_enkaeten.txt&quot;</span>)

<span class="co"># Undersök variabeln och variabelkategorierna</span>
 <span class="kw">summary</span>(df<span class="op">$</span>TALAT_OM)
<span class="op">&gt;</span><span class="st">                  </span>Ja, för en bekant              Ja, för flera bakanta 
<span class="op">&gt;</span><span class="st">                                 </span><span class="dv">92</span>                                <span class="dv">466</span> 
<span class="op">&gt;</span><span class="st"> </span>Jag har inga heterosexuella vänner                                Nej 
<span class="op">&gt;</span><span class="st">                                  </span><span class="dv">8</span>                                <span class="dv">181</span>
 <span class="kw">table</span>(df<span class="op">$</span>TALAT_OM, <span class="dt">useNA =</span> <span class="st">&quot;ifany&quot;</span>)
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">                  </span>Ja, för en bekant              Ja, för flera bakanta 
<span class="op">&gt;</span><span class="st">                                 </span><span class="dv">92</span>                                <span class="dv">466</span> 
<span class="op">&gt;</span><span class="st"> </span>Jag har inga heterosexuella vänner                                Nej 
<span class="op">&gt;</span><span class="st">                                  </span><span class="dv">8</span>                                <span class="dv">181</span>
 
<span class="co"># Skapar en tom variabel och koda sedan alla nej till 1 och övriga till 0</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin[df<span class="op">$</span>TALAT_OM <span class="op">==</span><span class="st"> &quot;Ja, för en bekant&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin[df<span class="op">$</span>TALAT_OM <span class="op">==</span><span class="st"> &quot;Ja, för flera bakanta&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin[df<span class="op">$</span>TALAT_OM <span class="op">==</span><span class="st"> &quot;Jag har inga heterosexuella vänner&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin[df<span class="op">$</span>TALAT_OM <span class="op">==</span><span class="st"> &quot;Nej&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span>

<span class="co"># a)    </span>
 freq_table_EJ_TALAT_OM &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>EJ_TALAT_OM_bin)
 x &lt;-<span class="st"> </span>freq_table_EJ_TALAT_OM[<span class="dv">2</span>]
 n &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_EJ_TALAT_OM)
 resultat_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">prop.test</span>(x, n, <span class="dt">correct =</span> <span class="ot">FALSE</span>)
 resultat_<span class="dv">1</span>
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">   </span><span class="dv">1</span><span class="op">-</span>sample proportions test without continuity correction
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>data<span class="op">:</span><span class="st">  </span>x out of n, null probability <span class="fl">0.5</span>
<span class="op">&gt;</span><span class="st"> </span>X<span class="op">-</span>squared =<span class="st"> </span><span class="fl">198.43</span>, df =<span class="st"> </span><span class="dv">1</span>, p<span class="op">-</span>value <span class="op">&lt;</span><span class="st"> </span><span class="fl">2.2e-16</span>
<span class="op">&gt;</span><span class="st"> </span>alternative hypothesis<span class="op">:</span><span class="st"> </span>true p is not equal to <span class="fl">0.5</span>
<span class="op">&gt;</span><span class="st"> </span><span class="dv">95</span> percent confidence interval<span class="op">:</span>
<span class="er">&gt;</span><span class="st">  </span><span class="fl">0.2129447</span> <span class="fl">0.2742972</span>
<span class="op">&gt;</span><span class="st"> </span>sample estimates<span class="op">:</span>
<span class="er">&gt;</span><span class="st">         </span>p 
<span class="op">&gt;</span><span class="st"> </span><span class="fl">0.2423025</span>
 
<span class="co"># b) </span>
<span class="co"># Undersök variabeln kön</span>
 <span class="kw">summary</span>(df<span class="op">$</span>KOEN)
<span class="op">&gt;</span><span class="st"> </span>Kvinna    Man 
<span class="op">&gt;</span><span class="st">     </span><span class="dv">34</span>    <span class="dv">713</span>
 <span class="kw">table</span>(df<span class="op">$</span>KOEN, <span class="dt">useNA =</span> <span class="st">&quot;ifany&quot;</span>)
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>Kvinna    Man 
<span class="op">&gt;</span><span class="st">     </span><span class="dv">34</span>    <span class="dv">713</span>
 
<span class="co"># Skapa en korstabell av kön och ej talat om</span>
 freq_table_KOEN_EJ_TALAT_OM &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>EJ_TALAT_OM_bin, df<span class="op">$</span>KOEN)
 x1 &lt;-<span class="st"> </span>freq_table_KOEN_EJ_TALAT_OM[<span class="dv">2</span>,<span class="dv">1</span>]
 x0 &lt;-<span class="st"> </span>freq_table_KOEN_EJ_TALAT_OM[<span class="dv">2</span>,<span class="dv">2</span>]
 n1 &lt;-<span class="kw">sum</span>(freq_table_KOEN_EJ_TALAT_OM[,<span class="dv">1</span>])
 n0 &lt;-<span class="kw">sum</span>(freq_table_KOEN_EJ_TALAT_OM[,<span class="dv">2</span>])
 p1hat &lt;-<span class="st"> </span>x1<span class="op">/</span>n1
 p0hat &lt;-<span class="st"> </span>x0<span class="op">/</span>n0
 resultat_KOEN_EJ_TALAT_OM &lt;-<span class="st"> </span><span class="kw">prop.test</span>(<span class="kw">c</span>(x1,x0), <span class="kw">c</span>(n1, n0), <span class="dt">correct =</span> <span class="ot">FALSE</span>)
 resultat_KOEN_EJ_TALAT_OM
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">   </span><span class="dv">2</span><span class="op">-</span>sample test <span class="cf">for</span> equality of proportions without continuity
<span class="op">&gt;</span><span class="st">   </span>correction
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st"> </span>data<span class="op">:</span><span class="st">  </span><span class="kw">c</span>(x1, x0) out of <span class="kw">c</span>(n1, n0)
<span class="op">&gt;</span><span class="st"> </span>X<span class="op">-</span>squared =<span class="st"> </span><span class="fl">3.0149</span>, df =<span class="st"> </span><span class="dv">1</span>, p<span class="op">-</span>value =<span class="st"> </span><span class="fl">0.0825</span>
<span class="op">&gt;</span><span class="st"> </span>alternative hypothesis<span class="op">:</span><span class="st"> </span>two.sided
<span class="op">&gt;</span><span class="st"> </span><span class="dv">95</span> percent confidence interval<span class="op">:</span>
<span class="er">&gt;</span><span class="st">  </span><span class="op">-</span><span class="fl">0.24344443</span> <span class="op">-</span><span class="fl">0.01775514</span>
<span class="op">&gt;</span><span class="st"> </span>sample estimates<span class="op">:</span>
<span class="er">&gt;</span><span class="st">    </span>prop <span class="dv">1</span>    prop <span class="dv">2</span> 
<span class="op">&gt;</span><span class="st"> </span><span class="fl">0.1176471</span> <span class="fl">0.2482468</span>

 <span class="co"># Kolla förutsättningarna</span>
 n1<span class="op">*</span>p1hat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>p1hat)
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="fl">3.529412</span>
 n0<span class="op">*</span>p0hat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>p0hat)
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="fl">133.0603</span>
 
 <span class="co"># c)  </span>
 <span class="co"># Undersök variabeln</span>
 <span class="kw">summary</span>(df<span class="op">$</span>SKAM)
<span class="op">&gt;</span><span class="st">   </span><span class="dv">9</span>  Ja Nej 
<span class="op">&gt;</span><span class="st">  </span><span class="dv">10</span> <span class="dv">344</span> <span class="dv">393</span>
 <span class="kw">table</span>(df<span class="op">$</span>SKAM, <span class="dt">useNA =</span> <span class="st">&quot;ifany&quot;</span>)
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">   </span><span class="dv">9</span>  Ja Nej 
<span class="op">&gt;</span><span class="st">  </span><span class="dv">10</span> <span class="dv">344</span> <span class="dv">393</span>
 
 <span class="co"># Skapa en korstabell</span>
 df<span class="op">$</span>skam_bin &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>skam_bin[df<span class="op">$</span>SKAM <span class="op">==</span><span class="st"> &quot;Ja&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
 df<span class="op">$</span>skam_bin[df<span class="op">$</span>SKAM <span class="op">==</span><span class="st"> &quot;Nej&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>skam_bin[df<span class="op">$</span>SKAM <span class="op">==</span><span class="st"> </span><span class="dv">9</span>] &lt;-<span class="st"> </span><span class="ot">NA</span>

 freq_table_ej_talat_om_skam &lt;-<span class="st"> </span><span class="kw">table</span>( df<span class="op">$</span>EJ_TALAT_OM_bin,  df<span class="op">$</span>skam_bin)
 <span class="kw">colnames</span>(freq_table_ej_talat_om_skam) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ej skam&quot;</span>, <span class="st">&quot;Skam&quot;</span>)
 <span class="kw">rownames</span>(freq_table_ej_talat_om_skam) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ej talat om&quot;</span>, <span class="st">&quot;Talat om&quot;</span>)
 prop_table_ej_talat_om_skam &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table_ej_talat_om_skam, <span class="dv">2</span>)
 
 <span class="kw">barplot</span>( prop_table_ej_talat_om_skam[<span class="dv">2</span>,], 
         <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;Ej skam&quot;</span>, <span class="st">&quot;Skam&quot;</span>), 
         <span class="dt">ylab =</span> <span class="st">&quot;Andel som tala om&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-231-1.png" width="960" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> 
 x1_<span class="dv">2</span> &lt;-<span class="st"> </span>freq_table_ej_talat_om_skam[<span class="dv">2</span>,<span class="dv">2</span>]
 x0_<span class="dv">2</span> &lt;-<span class="st"> </span>freq_table_ej_talat_om_skam[<span class="dv">2</span>,<span class="dv">1</span>]
 n1_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_ej_talat_om_skam[,<span class="dv">2</span>])
 n0_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_ej_talat_om_skam[,<span class="dv">1</span>])
 p1hat_<span class="dv">2</span> &lt;-<span class="st"> </span>x1_<span class="dv">2</span><span class="op">/</span>n1_<span class="dv">2</span>
 p0hat_<span class="dv">2</span> &lt;-<span class="st"> </span>x0_<span class="dv">2</span><span class="op">/</span>n0_<span class="dv">2</span>
 p_kvot &lt;-<span class="st"> </span>p1hat_<span class="dv">2</span><span class="op">/</span>p0hat_<span class="dv">2</span>
 p_kvot
<span class="op">&gt;</span><span class="st"> </span>[<span class="dv">1</span>] <span class="fl">0.9877362</span>
 resultat_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">prop.test</span>(<span class="kw">c</span>(x1_<span class="dv">2</span>, x0_<span class="dv">2</span>), <span class="kw">c</span>(n1_<span class="dv">2</span>, n0_<span class="dv">2</span>), <span class="dt">correct =</span> <span class="ot">FALSE</span>)</code></pre></div>
<ol style="list-style-type: lower-alpha">
<li><p>Notera att förutsättningen är ej uppfylld för sambandsanalysen. Vi kan inte lita på testet.</p></li>
<li><p>10 värden är kodade som 9, som förmodligen vet ej eller bortfall. Vi sätter dem som NA. Dessa exkuderas ur analysen.</p></li>
</ol>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.7" class="section level3 unnumbered">
<h3>Övning 5.7</h3>
<p>En studie av Helsing, K. J., &amp; Comstock, G. W. (1977) undersökte faktorer som kan tänkas ha samband med bilbältesanvändning. Du erhåller följande data från studien.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">antal_cigaretter &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">175</span>), <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">149</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">20</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">17</span>), <span class="kw">rep</span>(<span class="dv">2</span>, <span class="dv">42</span>), <span class="kw">rep</span>(<span class="dv">2</span>, <span class="dv">41</span>), <span class="kw">rep</span>(<span class="dv">3</span>, <span class="dv">6</span>), <span class="kw">rep</span>(<span class="dv">3</span>, <span class="dv">9</span>))
bilbalte &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">175</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">149</span>), <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">17</span>), <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">42</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">41</span>), <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">6</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>))</code></pre></div>
<ol style="list-style-type: lower-alpha">
<li><p>Beskriv sambandet mellan rökning och bilbältesanvändning med en tabell.</p></li>
<li><p>Beskriv sambandet mellan rökning och bilbältesanvändning med en figur.</p></li>
<li><p>Genom ett statistiskt test för att undersöka sambandet mellan rökning och bilbältesanvändning.</p></li>
<li><p>Genomför ett statistisk test utan att använda någon inbyggd test-funktion i R.</p></li>
</ol>
<button title="q507" type="button" onclick="if(document.getElementById('q507') .style.display=='none')
              {document.getElementById('q507') .style.display=''}
            else{document.getElementById('q507') .style.display='none'}">
Visa svar
</button>
<div id="q507" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
antal_cigaretter &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">175</span>), <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">149</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">20</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">17</span>), <span class="kw">rep</span>(<span class="dv">2</span>, <span class="dv">42</span>), <span class="kw">rep</span>(<span class="dv">2</span>, <span class="dv">41</span>), <span class="kw">rep</span>(<span class="dv">3</span>, <span class="dv">6</span>), <span class="kw">rep</span>(<span class="dv">3</span>, <span class="dv">9</span>))
antal_cigaretter_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(antal_cigaretter, <span class="dt">ordered =</span> <span class="ot">TRUE</span>)
<span class="kw">levels</span>(antal_cigaretter_cat)[<span class="kw">levels</span>(antal_cigaretter_cat) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>] &lt;-<span class="st"> &quot;0&quot;</span>
<span class="kw">levels</span>(antal_cigaretter_cat)[<span class="kw">levels</span>(antal_cigaretter_cat) <span class="op">==</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> &quot;1-14&quot;</span>
<span class="kw">levels</span>(antal_cigaretter_cat)[<span class="kw">levels</span>(antal_cigaretter_cat) <span class="op">==</span><span class="st"> </span><span class="dv">2</span>] &lt;-<span class="st"> &quot;15-34&quot;</span>
<span class="kw">levels</span>(antal_cigaretter_cat)[<span class="kw">levels</span>(antal_cigaretter_cat) <span class="op">==</span><span class="st"> </span><span class="dv">3</span>] &lt;-<span class="st"> &quot;35-&quot;</span>

bilbalte &lt;-<span class="st">  </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">175</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">149</span>), <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">17</span>), <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">42</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">41</span>), <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">6</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>))
bilbalte_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(bilbalte)
<span class="kw">levels</span>(bilbalte_cat)[<span class="kw">levels</span>(bilbalte_cat) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>] &lt;-<span class="st"> &quot;Ja&quot;</span>
<span class="kw">levels</span>(bilbalte_cat)[<span class="kw">levels</span>(bilbalte_cat) <span class="op">==</span><span class="st"> </span><span class="dv">1</span>] &lt;-<span class="st"> &quot;Nej&quot;</span>

<span class="co"># a)</span>
freq_table &lt;-<span class="st"> </span><span class="kw">table</span>(bilbalte_cat, antal_cigaretter_cat)
prop.table_cig_belt &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table, <span class="dv">2</span>)
prop.table_cig_belt
<span class="op">&gt;</span><span class="st">             </span>antal_cigaretter_cat
<span class="op">&gt;</span><span class="st"> </span>bilbalte_cat         <span class="dv">0</span>      <span class="dv">1</span><span class="op">-</span><span class="dv">14</span>     <span class="dv">15</span><span class="op">-</span><span class="dv">34</span>       <span class="dv">35</span><span class="op">-</span>
<span class="er">&gt;</span><span class="st">          </span>Ja  <span class="fl">0.5401235</span> <span class="fl">0.5405405</span> <span class="fl">0.5060241</span> <span class="fl">0.4000000</span>
<span class="op">&gt;</span><span class="st">          </span>Nej <span class="fl">0.4598765</span> <span class="fl">0.4594595</span> <span class="fl">0.4939759</span> <span class="fl">0.6000000</span>

<span class="co"># b)</span>
<span class="kw">barplot</span>(prop.table_cig_belt,
         <span class="dt">ylab =</span> <span class="st">&quot;Andel&quot;</span>, 
         <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Bälte&quot;</span>, <span class="st">&quot;Ej bilbälte&quot;</span>), 
         <span class="dt">args.legend =</span>  <span class="kw">c</span>(<span class="dt">y =</span> <span class="fl">1.1</span>, <span class="dt">horiz =</span> <span class="ot">TRUE</span>, <span class="dt">bty =</span><span class="st">&#39;n&#39;</span>))</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-233-1.png" width="960" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># c)</span>
<span class="kw">chisq.test</span>(freq_table)
<span class="op">&gt;</span><span class="st"> </span>
<span class="er">&gt;</span><span class="st">   </span>Pearson<span class="st">&#39;s Chi-squared test</span>
<span class="st">&gt; </span>
<span class="st">&gt; data:  freq_table</span>
<span class="st">&gt; X-squared = 1.3582, df = 3, p-value = 0.7154</span>

<span class="st"># d)</span>
<span class="st"> Oij &lt;- freq_table</span>
<span class="st"> radsummor &lt;- rowSums(freq_table)</span>
<span class="st"> kolumnsummor &lt;- colSums(freq_table)</span>
<span class="st"> totalsumma &lt;- sum(freq_table)</span>
<span class="st"> r &lt;- dim(freq_table)[1]</span>
<span class="st"> k &lt;- dim(freq_table)[2]</span>
<span class="st"> Eij &lt;- matrix(NA, r, k)</span>
<span class="st"> Eij[1,1] &lt;- kolumnsummor[1]*radsummor[1]/totalsumma</span>
<span class="st"> Eij[1,2] &lt;- kolumnsummor[2]*radsummor[1]/totalsumma</span>
<span class="st"> Eij[1,3] &lt;- kolumnsummor[3]*radsummor[1]/totalsumma</span>
<span class="st"> Eij[1,4] &lt;- kolumnsummor[4]*radsummor[1]/totalsumma</span>
<span class="st"> Eij[2,1] &lt;- kolumnsummor[1]*radsummor[2]/totalsumma</span>
<span class="st"> Eij[2,2] &lt;- kolumnsummor[2]*radsummor[2]/totalsumma</span>
<span class="st"> Eij[2,3] &lt;- kolumnsummor[3]*radsummor[2]/totalsumma</span>
<span class="st"> Eij[2,4] &lt;- kolumnsummor[4]*radsummor[2]/totalsumma</span>
<span class="st"> X2obs &lt;- sum( (Oij - Eij)^2/Eij )</span>
<span class="st"> fg &lt;- (r-1)*(k-1)</span>
<span class="st"> p_value &lt;- 1 - pchisq(X2obs, fg)</span>
<span class="st"> X2obs</span>
<span class="st">&gt; [1] 1.358175</span>
<span class="st"> p_value</span>
<span class="st">&gt; [1] 0.7153672</span></code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.8" class="section level3 unnumbered">
<h3>Övning 5.8</h3>
<p>En studie 1980 undersökte homosexuellas situation Sverige. En del av denna studie utgjordes bland annat en enkätundersökning. Ladda ner Lilla Enkäten som är txt-fil som finns i zip-filen “Enkäterna i csv-format” på <a href="https://riksarkivet.se/psidata/livet-som-gay" class="uri">https://riksarkivet.se/psidata/livet-som-gay</a>. Utgå från att data är insamlat med OSU och besvara sedan följande frågor:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Har den svarande själv haft en önskan om att inte vara homosexuell? Redovisa med en tabell.</p></li>
<li><p>Undersök samband mellan önskan om att inte vara homosexuell och att känna skam eller ångest (<strong>SKAM</strong>)? Redovisa bortfall. Redovisa en figur.</p></li>
<li><p>Undersök samband mellan önskan om att inte vara homosexuell och att känna skam eller ångest (<strong>SKAM</strong>)? Redovisa bortfall. Redovisa en figur.</p></li>
</ol>
<button title="q508" type="button" onclick="if(document.getElementById('q508') .style.display=='none')
              {document.getElementById('q508') .style.display=''}
            else{document.getElementById('q508') .style.display='none'}">
Visa svar
</button>
<div id="q508" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
<span class="co"># a)</span>

 df &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;data/Lilla_enkaeten.txt&quot;</span>)
 df<span class="op">$</span>skam_bin &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>skam_bin[df<span class="op">$</span>SKAM <span class="op">==</span><span class="st"> &quot;Ja&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span> 
 df<span class="op">$</span>skam_bin[df<span class="op">$</span>SKAM <span class="op">==</span><span class="st"> &quot;Nej&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 
 df<span class="op">$</span>onskan_bin &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>onskan_bin[df<span class="op">$</span>OENSKAN <span class="op">==</span><span class="st"> &quot;Ja, det har jag gjort men jag önskar det inte nu&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
  df<span class="op">$</span>onskan_bin[df<span class="op">$</span>OENSKAN <span class="op">==</span><span class="st"> &quot;Ja, jag önskar nu att jag vore (helt) heterosexuell&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
   df<span class="op">$</span>onskan_bin[df<span class="op">$</span>OENSKAN <span class="op">==</span><span class="st"> &quot;Nej&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
freq_table &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>onskan_bin,  df<span class="op">$</span>skam_bin)
<span class="kw">chisq.test</span>(freq_table)</code></pre></div>
<ol start="5" style="list-style-type: lower-alpha">
<li><p>Se formuleringar ovan om andelar, differens av andelar, KI och p-värde.</p></li>
<li><p>OSU (experiment) och normalapproximation gäller. Jag litar på resultaten.</p></li>
</ol>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.9" class="section level3 unnumbered">
<h3>Övning 5.9</h3>
<p>År 2019 omkom 221 i trafiken. Uppdelat på månad</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="center">Antal omkomna 2019</th>
<th align="center">Antal omkomna 2018</th>
<th align="center">Antal omkomna 2018</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Januari</td>
<td align="center">27</td>
<td align="center">13</td>
<td align="center">12</td>
</tr>
<tr class="even">
<td>Februari</td>
<td align="center">17</td>
<td align="center">16</td>
<td align="center">14</td>
</tr>
<tr class="odd">
<td>Mars</td>
<td align="center">10</td>
<td align="center">22</td>
<td align="center">18</td>
</tr>
<tr class="even">
<td>April</td>
<td align="center">16</td>
<td align="center">17</td>
<td align="center">17</td>
</tr>
<tr class="odd">
<td>Maj</td>
<td align="center">19</td>
<td align="center">31</td>
<td align="center">24</td>
</tr>
<tr class="even">
<td>Juni</td>
<td align="center">19</td>
<td align="center">32</td>
<td align="center">27</td>
</tr>
<tr class="odd">
<td>Juli</td>
<td align="center">20</td>
<td align="center">44</td>
<td align="center">31</td>
</tr>
<tr class="even">
<td>Augusti</td>
<td align="center">25</td>
<td align="center">29</td>
<td align="center">34</td>
</tr>
<tr class="odd">
<td>September</td>
<td align="center">15</td>
<td align="center">21</td>
<td align="center">27</td>
</tr>
<tr class="even">
<td>Okober</td>
<td align="center">23</td>
<td align="center">25</td>
<td align="center">20</td>
</tr>
<tr class="odd">
<td>November</td>
<td align="center">13</td>
<td align="center">36</td>
<td align="center">10</td>
</tr>
<tr class="even">
<td>December</td>
<td align="center">17</td>
<td align="center">38</td>
<td align="center">19</td>
</tr>
</tbody>
</table>
<p>Källa: Transportstyrelsen</p>
<p>Besvara om antalet omkomna är oberoende av månad.</p>
<button title="q509" type="button" onclick="if(document.getElementById('q509') .style.display=='none')
              {document.getElementById('q509') .style.display=''}
            else{document.getElementById('q509') .style.display='none'}">
Visa svar
</button>
<div id="q509" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
<span class="co"># Version 1</span>
omkomna2019 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">27</span>, <span class="dv">17</span>, <span class="dv">10</span>, <span class="dv">16</span>, <span class="dv">19</span>, <span class="dv">19</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">15</span>, <span class="dv">23</span>, <span class="dv">13</span>, <span class="dv">17</span>)
omkomna2018 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">13</span>, <span class="dv">16</span>, <span class="dv">22</span>, <span class="dv">17</span>, <span class="dv">31</span>, <span class="dv">32</span>, <span class="dv">44</span>, <span class="dv">29</span>, <span class="dv">21</span>, <span class="dv">25</span>, <span class="dv">36</span>, <span class="dv">38</span>)
omkomna2017 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">18</span>, <span class="dv">17</span>, <span class="dv">24</span>, <span class="dv">27</span>, <span class="dv">31</span>, <span class="dv">34</span>, <span class="dv">27</span>, <span class="dv">20</span>, <span class="dv">10</span>, <span class="dv">19</span>)
manad &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Maj&quot;</span>, <span class="st">&quot;Jun&quot;</span>, <span class="st">&quot;Jul&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Sep&quot;</span>, <span class="st">&quot;Okt&quot;</span>, <span class="st">&quot;Nov&quot;</span>, <span class="st">&quot;Dec&quot;</span>)

<span class="kw">barplot</span>(omkomna2019, <span class="dt">names.arg =</span> manad)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-235-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">chisq.test</span>(omkomna2019)

    Chi<span class="op">-</span>squared test <span class="cf">for</span> given probabilities

data<span class="op">:</span><span class="st">  </span>omkomna2019
X<span class="op">-</span>squared =<span class="st"> </span><span class="fl">14.276</span>, df =<span class="st"> </span><span class="dv">11</span>, p<span class="op">-</span>value =<span class="st"> </span><span class="fl">0.2181</span>

O &lt;-<span class="st"> </span>omkomna2019
E &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">sum</span>(omkomna2019)<span class="op">/</span><span class="dv">12</span>, <span class="dv">12</span>)
X2 &lt;-<span class="st"> </span><span class="kw">sum</span>( (O <span class="op">-</span><span class="st"> </span>E)<span class="op">^</span><span class="dv">2</span><span class="op">/</span>E)</code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.10" class="section level3 unnumbered">
<h3>Övning 5.10</h3>
<p>BMI Nutritional status Belåg 18.5</p>
<p>Underweight</p>
<p>18.5–24.9</p>
<p>Normal weight</p>
<p>25.0–29.9</p>
<p>Pre-obesity</p>
<p>30.0–34.9</p>
<p>Obesity class I</p>
<p>35.0–39.9</p>
<p>Obesity class II</p>
<p>Above 40</p>
<p>Obesity class III</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;data/conscriptiondata.csv&quot;</span>)
df<span class="op">$</span>bmi &lt;-<span class="st"> </span>df<span class="op">$</span>weight<span class="op">/</span>(df<span class="op">$</span>height<span class="op">/</span><span class="dv">100</span>)<span class="op">^</span><span class="dv">2</span>
<span class="kw">summary</span>(df<span class="op">$</span>bmi)
df<span class="op">$</span>bmi_cat &lt;-<span class="st"> </span><span class="ot">NA</span>
df<span class="op">$</span>bmi_cat[df<span class="op">$</span>bmi <span class="op">&lt;</span><span class="st"> </span><span class="fl">18.5</span>] &lt;-<span class="st"> &quot;Undervikt&quot;</span>
df<span class="op">$</span>bmi_cat[(df<span class="op">$</span>bmi <span class="op">&gt;=</span><span class="st"> </span><span class="fl">18.5</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>bmi <span class="op">&lt;</span><span class="st"> </span><span class="dv">25</span>)] &lt;-<span class="st"> &quot;Normalvikt&quot;</span>
df<span class="op">$</span>bmi_cat[(df<span class="op">$</span>bmi <span class="op">&gt;=</span><span class="st"> </span><span class="dv">25</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>bmi <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>) ] &lt;-<span class="st"> &quot;Övervikt&quot;</span>
df<span class="op">$</span>bmi_cat[(df<span class="op">$</span>bmi <span class="op">&gt;=</span><span class="st"> </span><span class="dv">30</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>bmi <span class="op">&lt;</span><span class="st"> </span><span class="dv">35</span>) ] &lt;-<span class="st"> &quot;Fetma klass I&quot;</span>
df<span class="op">$</span>bmi_cat[(df<span class="op">$</span>bmi <span class="op">&gt;=</span><span class="st"> </span><span class="dv">35</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>bmi <span class="op">&lt;</span><span class="st"> </span><span class="dv">40</span>) ] &lt;-<span class="st"> &quot;Fetma klass II&quot;</span>
df<span class="op">$</span>bmi_cat[(df<span class="op">$</span>bmi <span class="op">&gt;=</span><span class="st"> </span><span class="dv">40</span>)] &lt;-<span class="st"> &quot;Fetma klass III&quot;</span>
df<span class="op">$</span>bmi_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>bmi_cat, 
                     <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Undervikt&quot;</span>, <span class="st">&quot;Normalvikt&quot;</span>, <span class="st">&quot;Övervikt&quot;</span>, <span class="st">&quot;Fetma klass I&quot;</span>, <span class="st">&quot;Fetma klass II&quot;</span>, <span class="st">&quot;Fetma klass III&quot;</span>),
                     <span class="dt">ordered =</span> <span class="ot">TRUE</span>)
freq_table_bmi_cat &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>bmi_cat)
prop_table_bmi_cat &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table)


<span class="kw">barplot</span>(freq_table_bmi_cat)
<span class="kw">barplot</span>(prop_table_bmi_cat)

prop_bmi_year &lt;-<span class="st"> </span><span class="kw">prop.table</span>( <span class="kw">table</span>(df<span class="op">$</span>bmi_cat, df<span class="op">$</span>year), <span class="dv">2</span> )

<span class="kw">barplot</span>(prop_bmi_year, <span class="dt">las =</span> <span class="dv">2</span>, <span class="dt">horiz =</span> <span class="ot">TRUE</span>)

<span class="kw">chisq.test</span>(freq_table_bmi_cat)</code></pre></div>
<p>Vi kan konstatera att andelen överviktiga har ökat. Samtidigt har andelen underviktiga minskat.</p>
<p>Det finns ett beroende mellan år och bmi-kategori.</p>
<p>Undersökarna vill beräkna kvoten av andelar lyckade behandlingar (relativ risk), där spjälning är referensgrupp. Eftersom forskarna vill fatta beslut vill man att en hypotesprövning genomförs på 5% signifikansnivå.</p>
<button title="q510" type="button" onclick="if(document.getElementById('q510') .style.display=='none')
              {document.getElementById('q510') .style.display=''}
            else{document.getElementById('q510') .style.display='none'}">
Visa svar
</button>
<div id="q510" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
 df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">treatment =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;splint&quot;</span>, <span class="dv">60</span>), <span class="kw">rep</span>(<span class="st">&quot;splint&quot;</span>, <span class="dv">23</span>), <span class="kw">rep</span>(<span class="st">&quot;surgery&quot;</span>, <span class="dv">67</span>),  <span class="kw">rep</span>(<span class="st">&quot;surgery&quot;</span>, <span class="dv">6</span>)), 
                 <span class="dt">y =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;succesful&quot;</span>, <span class="dv">60</span>), <span class="kw">rep</span>(<span class="st">&quot;unsucsessful&quot;</span>,<span class="dv">23</span>), <span class="kw">rep</span>(<span class="st">&quot;succesful&quot;</span>, <span class="dv">67</span>),   <span class="kw">rep</span>(<span class="st">&quot;unsucsessful&quot;</span>,<span class="dv">6</span>)))
 freq_table &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>y, df<span class="op">$</span>treatment)
 prop_table &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table, <span class="dv">2</span>) 
 phat_splint &lt;-<span class="st"> </span>prop_table[<span class="dv">1</span>,<span class="dv">1</span>]
 phat_surgery &lt;-<span class="st"> </span>prop_table[<span class="dv">1</span>,<span class="dv">2</span>]
 p_kvot &lt;-<span class="st"> </span>phat_surgery<span class="op">/</span>phat_splint 
 resultat &lt;-<span class="st"> </span><span class="kw">chisq.test</span>(freq_table, <span class="dt">correct =</span> <span class="ot">FALSE</span>)
 p_kvot
[<span class="dv">1</span>] <span class="fl">1.269635</span>
 resultat<span class="op">$</span>p.value
[<span class="dv">1</span>] <span class="fl">0.001792853</span></code></pre></div>
<p>En patient har 27% (p = 0.002) större chans till lyckad behandling om patienten genomgår kirurgi istället för behandling. Eftersom <span class="math inline">\(p&lt;0.05\)</span> förkastar vi på 5% signifikansnivå nollhypotesen om att kirurgi och spjälning är lika effektiva.</p>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.11" class="section level3 unnumbered">
<h3>Övning 5.11</h3>
<p>I riksdagsvalet 2018 blev mandatfördelningen följande. Skapa ett stapeldiagram och ett cirkeldiagram som redovisar mandatfördelningen. Argumentera varför det enda diagrammet är att föredra i detta fall.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="center">Antal mandat i riksdagsvalet 2018</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Centerpartiet</td>
<td align="center">31</td>
</tr>
<tr class="even">
<td>Kristdemokraterna</td>
<td align="center">22</td>
</tr>
<tr class="odd">
<td>Liberalerna</td>
<td align="center">20</td>
</tr>
<tr class="even">
<td>Miljöpartiet</td>
<td align="center">16</td>
</tr>
<tr class="odd">
<td>Moderaterna</td>
<td align="center">70</td>
</tr>
<tr class="even">
<td>Socialdemokraterna</td>
<td align="center">100</td>
</tr>
<tr class="odd">
<td>Sverigedemokraterna</td>
<td align="center">62</td>
</tr>
<tr class="even">
<td>Vänsterpartiet</td>
<td align="center">28</td>
</tr>
</tbody>
</table>
<button title="q511" type="button" onclick="if(document.getElementById('q511') .style.display=='none')
              {document.getElementById('q511') .style.display=''}
            else{document.getElementById('q511') .style.display='none'}">
Visa svar
</button>
<div id="q511" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
parti &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Centerpartiet&quot;</span>, <span class="st">&quot;Kristdemokraterna&quot;</span>, <span class="st">&quot;Liberalerna&quot;</span>, <span class="st">&quot;Miljöpartiet&quot;</span>, <span class="st">&quot;Moderaterna&quot;</span>, <span class="st">&quot;Socialdemokraterna&quot;</span>, <span class="st">&quot;Sverigedemokraterna&quot;</span>, <span class="st">&quot;Vänsterpartiet&quot;</span>)
partishort &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;KD&quot;</span>, <span class="st">&quot;L&quot;</span>, <span class="st">&quot;Mp&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;S&quot;</span>, <span class="st">&quot;SD&quot;</span>, <span class="st">&quot;V&quot;</span>))
particol &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;lightblue&quot;</span>, <span class="st">&quot;darkgreen&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;yellåg&quot;</span>, <span class="st">&quot;darkred&quot;</span>)
mandat &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">31</span>, <span class="dv">22</span>, <span class="dv">20</span>, <span class="dv">16</span>, <span class="dv">70</span>, <span class="dv">100</span>, <span class="dv">62</span>, <span class="dv">28</span>)
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">parti =</span> parti, <span class="dt">partishort =</span> partishort, <span class="dt">particol =</span> particol, <span class="dt">mandat =</span> mandat)
df<span class="op">$</span>parti &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>parti, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Vänsterpartiet&quot;</span>, <span class="st">&quot;Socialdemokraterna&quot;</span>, <span class="st">&quot;Miljöpartiet&quot;</span>, <span class="st">&quot;Sverigedemokraterna&quot;</span>, <span class="st">&quot;Centerpartiet&quot;</span>, <span class="st">&quot;Liberalerna&quot;</span>, <span class="st">&quot;Kristdemokraterna&quot;</span>, <span class="st">&quot;Moderaterna&quot;</span>))
df<span class="op">$</span>particol &lt;-<span class="st"> </span><span class="kw">as.character</span>(df<span class="op">$</span>particol)
df_sorted &lt;-<span class="st"> </span>df[<span class="kw">order</span>(df<span class="op">$</span>parti),]

<span class="co"># Stapeldiagram</span>
<span class="kw">barplot</span>(df_sorted<span class="op">$</span>mandat, 
        <span class="dt">names.arg =</span> df_sorted<span class="op">$</span>partishort, 
        <span class="dt">col =</span> df_sorted<span class="op">$</span>particol)

<span class="co"># Cirkeldiagram</span>
 lbs &lt;-<span class="st">  </span><span class="kw">paste</span>(df_sorted<span class="op">$</span>partishort, <span class="st">&quot; &quot;</span>, <span class="st">&quot;(&quot;</span>, df_sorted<span class="op">$</span>mandat, <span class="st">&quot;)&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)
 <span class="kw">pie</span>(df_sorted<span class="op">$</span>mandat, 
     <span class="dt">labels =</span> lbs,
     <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;darkred&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;darkgreen&quot;</span>, <span class="st">&quot;yellåg&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;lightblue&quot;</span>, <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;blue&quot;</span>),
     <span class="dt">clockwise =</span> <span class="ot">TRUE</span>, <span class="dt">radius =</span> <span class="dv">1</span>, <span class="dt">main =</span> <span class="st">&quot;Riksdagsvalet 2018: mandatfördelning&quot;</span>)


<span class="co"># Hästskodiagram för att redovisa mandatfördelning. Överkurs. Installera</span>
<span class="co"># paketet ggplot2 och kör koden nedan. Till för att visa flexibiliten i R</span>
<span class="co"># och visualisering.</span>
<span class="kw">install.packages</span>(<span class="st">&quot;ggplot&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;ggparliament&quot;</span>)
swedish_election_<span class="dv">2018</span> &lt;-<span class="st"> </span><span class="kw">parliament_data</span>(<span class="dt">election_data =</span> df_sorted,
                                       <span class="dt">party_seats =</span> df_sorted<span class="op">$</span>mandat,
                                       <span class="dt">parl_rows =</span> <span class="dv">5</span>,
                                       <span class="dt">type =</span> <span class="st">&quot;horseshoe&quot;</span>)
swe &lt;-<span class="st"> </span><span class="kw">ggplot</span>(swedish_election_<span class="dv">2018</span>, <span class="kw">aes</span>(x, y, <span class="dt">colour =</span> partishort)) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_parliament_seats</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">theme_ggparliament</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">colour =</span> <span class="ot">NULL</span>, 
         <span class="dt">title =</span> <span class="st">&quot;Sveriges riksdag&quot;</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">scale_colour_manual</span>(<span class="dt">values =</span> particol, 
                        <span class="dt">limits =</span> partishort) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&#39;bottom&#39;</span>)
swe</code></pre></div>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.12" class="section level3 unnumbered">
<h3>Övning 5.12</h3>
<p>En studie 1980 undersökte homosexuellas situation Sverige. En del av denna studie utgjordes bland annat en enkätundersökning. Ladda ner Lilla Enkäten som är txt-fil som finns i zip-filen “Enkäterna i csv-format” på <a href="https://riksarkivet.se/psidata/livet-som-gay" class="uri">https://riksarkivet.se/psidata/livet-som-gay</a>. Utgå från att data är insamlat med OSU och besvara sedan följande frågor:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Har den svarande själv talat om för någon heterosexuell bekant (som inte bara är arbetskamrat) att den svarande är homo/bisexuell? Variabeln heter <em>TALAT_OM</em>.</p></li>
<li><p>Finns ett samband mellan kön (<strong>KOEN</strong>) och fråga a)?</p></li>
<li><p>Undersök samband mellan att känna skam eller ångest (<strong>SKAM</strong>) och <em>TALAT_OM</em>? Redovisa bortfall. Redovisa en figur.</p></li>
</ol>
<button title="q512" type="button" onclick="if(document.getElementById('q512') .style.display=='none')
              {document.getElementById('q512') .style.display=''}
            else{document.getElementById('q512') .style.display='none'}">
Visa svar
</button>
<div id="q512" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
 df &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;data/Lilla_enkaeten.txt&quot;</span>)

<span class="co"># Undersök variabeln och variabelkategorierna</span>
 <span class="kw">summary</span>(df<span class="op">$</span>TALAT_OM)
 <span class="kw">table</span>(df<span class="op">$</span>TALAT_OM, <span class="dt">useNA =</span> <span class="st">&quot;ifany&quot;</span>)
 
<span class="co"># Skapar en tom variabel och koda sedan alla nej till 1 och övriga till 0</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin[df<span class="op">$</span>TALAT_OM <span class="op">==</span><span class="st"> &quot;Ja, för en bekant&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin[df<span class="op">$</span>TALAT_OM <span class="op">==</span><span class="st"> &quot;Ja, för flera bakanta&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin[df<span class="op">$</span>TALAT_OM <span class="op">==</span><span class="st"> &quot;Jag har inga heterosexuella vänner&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>EJ_TALAT_OM_bin[df<span class="op">$</span>TALAT_OM <span class="op">==</span><span class="st"> &quot;Nej&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span>

<span class="co"># a)    </span>
 freq_table_EJ_TALAT_OM &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>EJ_TALAT_OM_bin)
 x &lt;-<span class="st"> </span>freq_table_EJ_TALAT_OM[<span class="dv">2</span>]
 n &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_EJ_TALAT_OM)
 resultat_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">prop.test</span>(x, n, <span class="dt">correct =</span> <span class="ot">FALSE</span>)
 resultat_<span class="dv">1</span>
 
<span class="co"># b) </span>
<span class="co"># Undersök variabeln kön</span>
 <span class="kw">summary</span>(df<span class="op">$</span>KOEN)
 <span class="kw">table</span>(df<span class="op">$</span>KOEN, <span class="dt">useNA =</span> <span class="st">&quot;ifany&quot;</span>)
 
<span class="co"># Skapa en korstabell av kön och ej talat om</span>
 freq_table_KOEN_EJ_TALAT_OM &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>EJ_TALAT_OM_bin, df<span class="op">$</span>KOEN)
 x1 &lt;-<span class="st"> </span>freq_table_KOEN_EJ_TALAT_OM[<span class="dv">2</span>,<span class="dv">1</span>]
 x0 &lt;-<span class="st"> </span>freq_table_KOEN_EJ_TALAT_OM[<span class="dv">2</span>,<span class="dv">2</span>]
 n1 &lt;-<span class="kw">sum</span>(freq_table_KOEN_EJ_TALAT_OM[,<span class="dv">1</span>])
 n0 &lt;-<span class="kw">sum</span>(freq_table_KOEN_EJ_TALAT_OM[,<span class="dv">2</span>])
 p1hat &lt;-<span class="st"> </span>x1<span class="op">/</span>n1
 p0hat &lt;-<span class="st"> </span>x0<span class="op">/</span>n0
 resultat_KOEN_EJ_TALAT_OM &lt;-<span class="st"> </span><span class="kw">prop.test</span>(<span class="kw">c</span>(x1,x0), <span class="kw">c</span>(n1, n0), <span class="dt">correct =</span> <span class="ot">FALSE</span>)
 resultat_KOEN_EJ_TALAT_OM

 <span class="co"># Kolla förutsättningarna</span>
 n1<span class="op">*</span>p1hat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>p1hat)
 n0<span class="op">*</span>p0hat<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>p0hat)
 
 <span class="co"># c)  </span>
 <span class="co"># Undersök variabeln</span>
 <span class="kw">summary</span>(df<span class="op">$</span>SKAM)
 <span class="kw">table</span>(df<span class="op">$</span>SKAM, <span class="dt">useNA =</span> <span class="st">&quot;ifany&quot;</span>)
 
 <span class="co"># Skapa en korstabell</span>
 df<span class="op">$</span>skam_bin &lt;-<span class="st"> </span><span class="ot">NA</span>
 df<span class="op">$</span>skam_bin[df<span class="op">$</span>SKAM <span class="op">==</span><span class="st"> &quot;Ja&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
 df<span class="op">$</span>skam_bin[df<span class="op">$</span>SKAM <span class="op">==</span><span class="st"> &quot;Nej&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
 df<span class="op">$</span>skam_bin[df<span class="op">$</span>SKAM <span class="op">==</span><span class="st"> </span><span class="dv">9</span>] &lt;-<span class="st"> </span><span class="ot">NA</span>

 freq_table_ej_talat_om_skam &lt;-<span class="st"> </span><span class="kw">table</span>( df<span class="op">$</span>EJ_TALAT_OM_bin,  df<span class="op">$</span>skam_bin)
 <span class="kw">colnames</span>(freq_table_ej_talat_om_skam) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ej skam&quot;</span>, <span class="st">&quot;Skam&quot;</span>)
 <span class="kw">rownames</span>(freq_table_ej_talat_om_skam) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ej talat om&quot;</span>, <span class="st">&quot;Talat om&quot;</span>)
 prop_table_ej_talat_om_skam &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freq_table_ej_talat_om_skam, <span class="dv">2</span>)
 
 <span class="kw">barplot</span>( prop_table_ej_talat_om_skam[<span class="dv">2</span>,], 
         <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;Ej skam&quot;</span>, <span class="st">&quot;Skam&quot;</span>), 
         <span class="dt">ylab =</span> <span class="st">&quot;Andel som tala om&quot;</span>)
 
 x1_<span class="dv">2</span> &lt;-<span class="st"> </span>freq_table_ej_talat_om_skam[<span class="dv">2</span>,<span class="dv">2</span>]
 x0_<span class="dv">2</span> &lt;-<span class="st"> </span>freq_table_ej_talat_om_skam[<span class="dv">2</span>,<span class="dv">1</span>]
 n1_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_ej_talat_om_skam[,<span class="dv">2</span>])
 n0_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">sum</span>(freq_table_ej_talat_om_skam[,<span class="dv">1</span>])
 p1hat_<span class="dv">2</span> &lt;-<span class="st"> </span>x1_<span class="dv">2</span><span class="op">/</span>n1_<span class="dv">2</span>
 p0hat_<span class="dv">2</span> &lt;-<span class="st"> </span>x0_<span class="dv">2</span><span class="op">/</span>n0_<span class="dv">2</span>
 p_kvot &lt;-<span class="st"> </span>p1hat_<span class="dv">2</span><span class="op">/</span>p0hat_<span class="dv">2</span>
 p_kvot
 resultat_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">prop.test</span>(<span class="kw">c</span>(x1_<span class="dv">2</span>, x0_<span class="dv">2</span>), <span class="kw">c</span>(n1_<span class="dv">2</span>, n0_<span class="dv">2</span>), <span class="dt">correct =</span> <span class="ot">FALSE</span>)</code></pre></div>
<ol style="list-style-type: lower-alpha">
<li><p>Notera att förutsättningen är ej uppfylld för sambandsanalysen. Vi kan inte lita på testet.</p></li>
<li><p>10 värden är kodade som 9, som förmodligen vet ej eller bortfall. Vi sätter dem som NA. Dessa exkuderas ur analysen.</p></li>
</ol>
</div>
</div>
<p></br></p>
</div>
<div id="övning-5.13" class="section level3 unnumbered">
<h3>Övning 5.13</h3>
<p>En marknadsundersökning genom ett slumpmässigt urval av konsumenter för undersöka om färg har betydelse vad gäller val av mobiltelefon. Nedan presenterar data som du fått från företaget gällande vilken färg konsumenterna föredrar av tre möjligt:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="center">Färg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cyberblå</td>
<td align="center">150</td>
</tr>
<tr class="even">
<td>Prestigeröd</td>
<td align="center">150</td>
</tr>
<tr class="odd">
<td>Supergrå</td>
<td align="center">200</td>
</tr>
</tbody>
</table>
<ol style="list-style-type: lower-alpha">
<li>Har färgen någon betydelse?</li>
</ol>
<p>Dessutom fanns data uppdelat på kön.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="center">Färg: Män</th>
<th align="center">Färg: Kvinnor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cyberblå</td>
<td align="center">100</td>
<td align="center">50</td>
</tr>
<tr class="even">
<td>Prestigeröd</td>
<td align="center">60</td>
<td align="center">90</td>
</tr>
<tr class="odd">
<td>Supergrå</td>
<td align="center">100</td>
<td align="center">100</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: lower-alpha">
<li>Finns det samband mellan kön och vilken färg konsumenterna föredrar?</li>
</ol>
<button title="q513" type="button" onclick="if(document.getElementById('q513') .style.display=='none')
              {document.getElementById('q513') .style.display=''}
            else{document.getElementById('q513) .style.display='none'}">
Visa svar
</button>
<div id="q513" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())
 df &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;data/Lilla_enkaeten.txt&quot;</span>)</code></pre></div>
<ol style="list-style-type: lower-alpha">
<li><p>Notera att förutsättningen är ej uppfylld för sambandsanalysen. Vi kan inte lita på testet.</p></li>
<li><p>10 värden är kodade som 9, som förmodligen vet ej eller bortfall. Vi sätter dem som NA. Dessa exkuderas ur analysen.</p></li>
</ol>
</div>
</div>
<p></br></p>
</div>
</div>
<div id="referenser-1" class="section level2">
<h2><span class="header-section-number">5.6</span> Referenser</h2>
<p>Gerritsen, A. A., De Vet, H. C., Scholten, R. J., Bertelsmann, F. W., De Krom, M. C., &amp; Bouter, L. M. (2002). Splinting vs surgery in the treatment of carpal tunnel syndrome: a randomized controlled trial. Jama, 288(10), 1245-1251.</p>
<p>Helsing, K. J., &amp; Comstock, G. W. (1977). What kinds of people do not use seat belts?. American Journal of Public Health, 67(11), 1043-1050.</p>
<p>Raghubir, P., &amp; Srivastava, J. (2009). <em>The denomination effect.</em> Journal of Consumer Research, 36(4), 701-713</p>
<p>Rosa, L., Rosa, E., Sarner, L., &amp; Barrett, S. (1998). A close look at therapeutic touch. Jama, 279(13), 1005-1010.</p>

<style>
p.comment {
background-color: #DBDBDB;
padding: 10px;
border: 1px solid black;
margin-left: 25px;
border-radius: 5px;
font-style: italic;
}

</style>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="läsa-in-och-spara-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="kvantitativa-variabler-kommer-ej-uppdateras-ht20.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
