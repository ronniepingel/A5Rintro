<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 8 Figurer | Tillämpad statistik med R</title>
  <meta name="description" content="Kapitel 8 Figurer | Tillämpad statistik med R" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 8 Figurer | Tillämpad statistik med R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 8 Figurer | Tillämpad statistik med R" />
  
  
  

<meta name="author" content="Ronnie Pingel och Valentin Zulj" />


<meta name="date" content="2020-11-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tabeller-1.html"/>
<link rel="next" href="urvalsmetoder.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduktion</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#om-statistisk-programmering-med-r"><i class="fa fa-check"></i><b>1.1</b> Om statistisk programmering med R</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#allmänna-tips-om-r-på-kursen"><i class="fa fa-check"></i><b>1.2</b> Allmänna tips om R på kursen</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#sammanfattning"><i class="fa fa-check"></i><b>1.3</b> Sammanfattning</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#referenser"><i class="fa fa-check"></i><b>1.4</b> Referenser</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html"><i class="fa fa-check"></i><b>2</b> Att börja använda R</a><ul>
<li class="chapter" data-level="2.1" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-och-rstudio"><i class="fa fa-check"></i><b>2.1</b> Installation av R och RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-på-macos"><i class="fa fa-check"></i><b>2.1.1</b> Installation av R på MacOS</a></li>
<li class="chapter" data-level="2.1.2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-r-på-windows"><i class="fa fa-check"></i><b>2.1.2</b> Installation av R på Windows</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#installation-av-rstudio"><i class="fa fa-check"></i><b>2.2</b> Installation av RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#första-sessionen"><i class="fa fa-check"></i><b>2.3</b> Första sessionen</a></li>
<li class="chapter" data-level="2.4" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#paket"><i class="fa fa-check"></i><b>2.4</b> Paket</a></li>
<li class="chapter" data-level="2.5" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#sammanfattning-1"><i class="fa fa-check"></i><b>2.5</b> Sammanfattning</a></li>
<li class="chapter" data-level="2.6" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övningar"><i class="fa fa-check"></i><b>2.6</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.1"><i class="fa fa-check"></i>Övning 2.1</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.2"><i class="fa fa-check"></i>Övning 2.2</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.3"><i class="fa fa-check"></i>Övning 2.3</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.4"><i class="fa fa-check"></i>Övning 2.4</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.5"><i class="fa fa-check"></i>Övning 2.5</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.6"><i class="fa fa-check"></i>Övning 2.6</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.7"><i class="fa fa-check"></i>Övning 2.7</a></li>
<li class="chapter" data-level="" data-path="att-börja-använda-r.html"><a href="att-börja-använda-r.html#övning-2.8"><i class="fa fa-check"></i>Övning 2.8</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html"><i class="fa fa-check"></i><b>3</b> Data, objekt och funktioner</a><ul>
<li class="chapter" data-level="3.1" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#data-och-objekt"><i class="fa fa-check"></i><b>3.1</b> Data och objekt</a></li>
<li class="chapter" data-level="3.2" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer"><i class="fa fa-check"></i><b>3.2</b> Vektorer</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer-och-indexering"><i class="fa fa-check"></i><b>3.2.1</b> Vektorer och indexering</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#vektorer-och-logiska-operatorer"><i class="fa fa-check"></i><b>3.2.2</b> Vektorer och logiska operatorer</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#matriser"><i class="fa fa-check"></i><b>3.3</b> Matriser</a></li>
<li class="chapter" data-level="3.4" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#data-frames"><i class="fa fa-check"></i><b>3.4</b> Data frames</a></li>
<li class="chapter" data-level="3.5" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#funktioner"><i class="fa fa-check"></i><b>3.5</b> Funktioner</a></li>
<li class="chapter" data-level="3.6" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#sammanfattning-2"><i class="fa fa-check"></i><b>3.6</b> Sammanfattning</a></li>
<li class="chapter" data-level="3.7" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övningar-1"><i class="fa fa-check"></i><b>3.7</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.1"><i class="fa fa-check"></i>Övning 3.1</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.2"><i class="fa fa-check"></i>Övning 3.2</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.3"><i class="fa fa-check"></i>Övning 3.3</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.4"><i class="fa fa-check"></i>Övning 3.4</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.5"><i class="fa fa-check"></i>Övning 3.5</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.6"><i class="fa fa-check"></i>Övning 3.6</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.7"><i class="fa fa-check"></i>Övning 3.7</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.8"><i class="fa fa-check"></i>Övning 3.8</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.9"><i class="fa fa-check"></i>Övning 3.9</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.10"><i class="fa fa-check"></i>Övning 3.10</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.11"><i class="fa fa-check"></i>Övning 3.11</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.12"><i class="fa fa-check"></i>Övning 3.12</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.13"><i class="fa fa-check"></i>Övning 3.13</a></li>
<li class="chapter" data-level="" data-path="data-objekt-och-funktioner.html"><a href="data-objekt-och-funktioner.html#övning-3.14"><i class="fa fa-check"></i>Övning 3.14</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html"><i class="fa fa-check"></i><b>4</b> Läsa in och spara data</a><ul>
<li class="chapter" data-level="4.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#principer-för-organiserade-datamaterial"><i class="fa fa-check"></i><b>4.1</b> Principer för organiserade datamaterial</a></li>
<li class="chapter" data-level="4.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#working-directory"><i class="fa fa-check"></i><b>4.2</b> Working directory</a></li>
<li class="chapter" data-level="4.3" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-datamaterial-med-hjälp-av-kod"><i class="fa fa-check"></i><b>4.3</b> Läsa in datamaterial med hjälp av kod</a><ul>
<li class="chapter" data-level="4.3.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#text--och-csv-filer"><i class="fa fa-check"></i><b>4.3.1</b> Text- och CSV-filer</a></li>
<li class="chapter" data-level="4.3.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#excel-filer"><i class="fa fa-check"></i><b>4.3.2</b> Excel-filer</a></li>
<li class="chapter" data-level="4.3.3" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övriga-format"><i class="fa fa-check"></i><b>4.3.3</b> Övriga format</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-datamaterial-med-hjälp-av-menyerna-i-rstudio"><i class="fa fa-check"></i><b>4.4</b> Läsa in datamaterial med hjälp av menyerna i RStudio</a><ul>
<li class="chapter" data-level="4.4.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-data-från-working-directory"><i class="fa fa-check"></i><b>4.4.1</b> Läsa in data från working directory</a></li>
<li class="chapter" data-level="4.4.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#läsa-in-data-med-import-dataset"><i class="fa fa-check"></i><b>4.4.2</b> Läsa in data med “Import Dataset”</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#spara-datamaterial-med-hjälp-av-r"><i class="fa fa-check"></i><b>4.5</b> Spara datamaterial med hjälp av R</a></li>
<li class="chapter" data-level="4.6" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övningar-2"><i class="fa fa-check"></i><b>4.6</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.1"><i class="fa fa-check"></i>Övning 4.1</a></li>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.2"><i class="fa fa-check"></i>Övning 4.2</a></li>
<li class="chapter" data-level="" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övning-4.3"><i class="fa fa-check"></i>Övning 4.3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="kategorivariabler.html"><a href="kategorivariabler.html"><i class="fa fa-check"></i><b>5</b> Kategorivariabler</a><ul>
<li class="chapter" data-level="5.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#en-binär-variabel"><i class="fa fa-check"></i><b>5.1</b> En binär variabel</a><ul>
<li class="chapter" data-level="5.1.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#kodning"><i class="fa fa-check"></i><b>5.1.1</b> Kodning</a></li>
<li class="chapter" data-level="5.1.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller-och-figurer"><i class="fa fa-check"></i><b>5.1.2</b> Tabeller och figurer</a></li>
<li class="chapter" data-level="5.1.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens"><i class="fa fa-check"></i><b>5.1.3</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#två-binära-variabler"><i class="fa fa-check"></i><b>5.2</b> Två binära variabler</a><ul>
<li class="chapter" data-level="5.2.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller"><i class="fa fa-check"></i><b>5.2.1</b> Tabeller</a></li>
<li class="chapter" data-level="5.2.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#kvantifiering-av-samband"><i class="fa fa-check"></i><b>5.2.2</b> Kvantifiering av samband</a></li>
<li class="chapter" data-level="5.2.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#figurer"><i class="fa fa-check"></i><b>5.2.3</b> Figurer</a></li>
<li class="chapter" data-level="5.2.4" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens-1"><i class="fa fa-check"></i><b>5.2.4</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tre-kategorier-eller-fler"><i class="fa fa-check"></i><b>5.3</b> Tre kategorier eller fler</a><ul>
<li class="chapter" data-level="5.3.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#kodning-1"><i class="fa fa-check"></i><b>5.3.1</b> Kodning</a></li>
<li class="chapter" data-level="5.3.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller-och-figurer-1"><i class="fa fa-check"></i><b>5.3.2</b> Tabeller och figurer</a></li>
<li class="chapter" data-level="5.3.3" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens-2"><i class="fa fa-check"></i><b>5.3.3</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="kategorivariabler.html"><a href="kategorivariabler.html#samband-mellan-kategorivariabler"><i class="fa fa-check"></i><b>5.4</b> Samband mellan kategorivariabler</a><ul>
<li class="chapter" data-level="5.4.1" data-path="kategorivariabler.html"><a href="kategorivariabler.html#tabeller-och-figurer-2"><i class="fa fa-check"></i><b>5.4.1</b> Tabeller och figurer</a></li>
<li class="chapter" data-level="5.4.2" data-path="kategorivariabler.html"><a href="kategorivariabler.html#inferens-3"><i class="fa fa-check"></i><b>5.4.2</b> Inferens</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övningar-3"><i class="fa fa-check"></i><b>5.5</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.1"><i class="fa fa-check"></i>Övning 5.1</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.2"><i class="fa fa-check"></i>Övning 5.2</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.3"><i class="fa fa-check"></i>Övning 5.3</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.4"><i class="fa fa-check"></i>Övning 5.4</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.5"><i class="fa fa-check"></i>Övning 5.5</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.6"><i class="fa fa-check"></i>Övning 5.6</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.7"><i class="fa fa-check"></i>Övning 5.7</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.8"><i class="fa fa-check"></i>Övning 5.8</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.9"><i class="fa fa-check"></i>Övning 5.9</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.10"><i class="fa fa-check"></i>Övning 5.10</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.11"><i class="fa fa-check"></i>Övning 5.11</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.12"><i class="fa fa-check"></i>Övning 5.12</a></li>
<li class="chapter" data-level="" data-path="kategorivariabler.html"><a href="kategorivariabler.html#övning-5.13"><i class="fa fa-check"></i>Övning 5.13</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="kategorivariabler.html"><a href="kategorivariabler.html#referenser-1"><i class="fa fa-check"></i><b>5.6</b> Referenser</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="kvantitativa-variabler-kommer-ej-uppdateras-ht20.html"><a href="kvantitativa-variabler-kommer-ej-uppdateras-ht20.html"><i class="fa fa-check"></i><b>6</b> Kvantitativa variabler (Kommer ej uppdateras HT20)</a></li>
<li class="chapter" data-level="7" data-path="tabeller-1.html"><a href="tabeller-1.html"><i class="fa fa-check"></i><b>7</b> Tabeller</a><ul>
<li class="chapter" data-level="7.1" data-path="tabeller-1.html"><a href="tabeller-1.html#exportera-tabeller-till-html"><i class="fa fa-check"></i><b>7.1</b> Exportera tabeller till html</a></li>
<li class="chapter" data-level="7.2" data-path="tabeller-1.html"><a href="tabeller-1.html#några-vanliga-tabeller"><i class="fa fa-check"></i><b>7.2</b> Några vanliga tabeller</a><ul>
<li class="chapter" data-level="7.2.1" data-path="tabeller-1.html"><a href="tabeller-1.html#tabell-för-att-beskriva-urvalet"><i class="fa fa-check"></i><b>7.2.1</b> Tabell för att beskriva urvalet</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="tabeller-1.html"><a href="tabeller-1.html#principer-för-tabeller"><i class="fa fa-check"></i><b>7.3</b> Principer för tabeller</a></li>
<li class="chapter" data-level="7.4" data-path="tabeller-1.html"><a href="tabeller-1.html#paket-för-tabeller"><i class="fa fa-check"></i><b>7.4</b> Paket för tabeller</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="figurer-1.html"><a href="figurer-1.html"><i class="fa fa-check"></i><b>8</b> Figurer</a><ul>
<li class="chapter" data-level="8.1" data-path="figurer-1.html"><a href="figurer-1.html#grundläggande-figurhantering"><i class="fa fa-check"></i><b>8.1</b> Grundläggande figurhantering</a></li>
<li class="chapter" data-level="8.2" data-path="figurer-1.html"><a href="figurer-1.html#färger-och-figurer"><i class="fa fa-check"></i><b>8.2</b> Färger och figurer</a><ul>
<li class="chapter" data-level="8.2.1" data-path="figurer-1.html"><a href="figurer-1.html#presentation-av-aggregerade-data"><i class="fa fa-check"></i><b>8.2.1</b> Presentation av aggregerade data</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="figurer-1.html"><a href="figurer-1.html#cirkeldigram"><i class="fa fa-check"></i><b>8.3</b> Cirkeldigram</a></li>
<li class="chapter" data-level="8.4" data-path="figurer-1.html"><a href="figurer-1.html#figurer-för-fördelningar"><i class="fa fa-check"></i><b>8.4</b> Figurer för fördelningar</a></li>
<li class="chapter" data-level="8.5" data-path="figurer-1.html"><a href="figurer-1.html#lådagram"><i class="fa fa-check"></i><b>8.5</b> Lådagram</a></li>
<li class="chapter" data-level="8.6" data-path="figurer-1.html"><a href="figurer-1.html#spridningsdiagram"><i class="fa fa-check"></i><b>8.6</b> Spridningsdiagram</a></li>
<li class="chapter" data-level="8.7" data-path="figurer-1.html"><a href="figurer-1.html#exportera-figurer"><i class="fa fa-check"></i><b>8.7</b> Exportera figurer</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html"><i class="fa fa-check"></i><b>9</b> Urvalsmetoder</a><ul>
<li class="chapter" data-level="9.1" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#obundet-slumpmässigt-urval-utan-återläggning"><i class="fa fa-check"></i><b>9.1</b> Obundet slumpmässigt urval utan återläggning</a><ul>
<li class="chapter" data-level="9.1.1" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-populationsmedelvärdet-mu"><i class="fa fa-check"></i><b>9.1.1</b> Inferens för populationsmedelvärdet, <span class="math inline">\(\mu\)</span></a></li>
<li class="chapter" data-level="9.1.2" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-populationsandelen-p"><i class="fa fa-check"></i><b>9.1.2</b> Inferens för populationsandelen, <span class="math inline">\(p\)</span></a></li>
<li class="chapter" data-level="9.1.3" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-populationstotalen-tau"><i class="fa fa-check"></i><b>9.1.3</b> Inferens för populationstotalen, <span class="math inline">\(\tau\)</span></a></li>
<li class="chapter" data-level="9.1.4" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#beräkningar-av-stickprovstorlek"><i class="fa fa-check"></i><b>9.1.4</b> Beräkningar av stickprovstorlek</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#stratifierat-urval"><i class="fa fa-check"></i><b>9.2</b> Stratifierat urval</a><ul>
<li class="chapter" data-level="9.2.1" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-mu"><i class="fa fa-check"></i><b>9.2.1</b> Inferens för <span class="math inline">\(\mu\)</span></a></li>
<li class="chapter" data-level="9.2.2" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-p"><i class="fa fa-check"></i><b>9.2.2</b> Inferens för <span class="math inline">\(p\)</span></a></li>
<li class="chapter" data-level="9.2.3" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-tau"><i class="fa fa-check"></i><b>9.2.3</b> Inferens för <span class="math inline">\(\tau\)</span></a></li>
<li class="chapter" data-level="9.2.4" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#allokering-av-n"><i class="fa fa-check"></i><b>9.2.4</b> Allokering av <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#gruppurval"><i class="fa fa-check"></i><b>9.3</b> Gruppurval</a><ul>
<li class="chapter" data-level="9.3.1" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-mu-1"><i class="fa fa-check"></i><b>9.3.1</b> Inferens för <span class="math inline">\(\mu\)</span></a></li>
<li class="chapter" data-level="9.3.2" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-tau-1"><i class="fa fa-check"></i><b>9.3.2</b> Inferens för <span class="math inline">\(\tau\)</span></a></li>
<li class="chapter" data-level="9.3.3" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#inferens-för-p-1"><i class="fa fa-check"></i><b>9.3.3</b> Inferens för <span class="math inline">\(p\)</span></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#efterstratifiering"><i class="fa fa-check"></i><b>9.4</b> Efterstratifiering</a></li>
<li class="chapter" data-level="9.5" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övningar-4"><i class="fa fa-check"></i><b>9.5</b> Övningar</a><ul>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.1"><i class="fa fa-check"></i>Övning 7.1</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.2"><i class="fa fa-check"></i>Övning 7.2</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.3"><i class="fa fa-check"></i>Övning 7.3</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.4"><i class="fa fa-check"></i>Övning 7.4</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.5"><i class="fa fa-check"></i>Övning 7.5</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.6"><i class="fa fa-check"></i>Övning 7.6</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.7"><i class="fa fa-check"></i>Övning 7.7</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.8"><i class="fa fa-check"></i>Övning 7.8</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.9"><i class="fa fa-check"></i>Övning 7.9</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.10"><i class="fa fa-check"></i>Övning 7.10</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.11"><i class="fa fa-check"></i>Övning 7.11</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.12"><i class="fa fa-check"></i>Övning 7.12</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.13"><i class="fa fa-check"></i>Övning 7.13</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.14"><i class="fa fa-check"></i>Övning 7.14</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.15"><i class="fa fa-check"></i>Övning 7.15</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.16"><i class="fa fa-check"></i>Övning 7.16</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.16-1"><i class="fa fa-check"></i>Övning 7.16</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.17"><i class="fa fa-check"></i>Övning 7.17</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.18"><i class="fa fa-check"></i>Övning 7.18</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.19"><i class="fa fa-check"></i>Övning 7.19</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.20"><i class="fa fa-check"></i>Övning 7.20</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.21"><i class="fa fa-check"></i>Övning 7.21</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.22"><i class="fa fa-check"></i>Övning 7.22</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.23"><i class="fa fa-check"></i>Övning 7.23</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.24"><i class="fa fa-check"></i>Övning 7.24</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.25"><i class="fa fa-check"></i>Övning 7.25</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.26"><i class="fa fa-check"></i>Övning 7.26</a></li>
<li class="chapter" data-level="" data-path="urvalsmetoder.html"><a href="urvalsmetoder.html#övning-7.27"><i class="fa fa-check"></i>Övning 7.27</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="experiment.html"><a href="experiment.html"><i class="fa fa-check"></i><b>10</b> Experiment</a><ul>
<li class="chapter" data-level="10.1" data-path="experiment.html"><a href="experiment.html#det-klassiska-experimentet"><i class="fa fa-check"></i><b>10.1</b> Det klassiska experimentet</a></li>
<li class="chapter" data-level="10.2" data-path="experiment.html"><a href="experiment.html#stratifiering"><i class="fa fa-check"></i><b>10.2</b> Stratifiering</a></li>
<li class="chapter" data-level="10.3" data-path="experiment.html"><a href="experiment.html#tabell-1-vid-randomiserade-försök"><i class="fa fa-check"></i><b>10.3</b> Tabell 1 vid randomiserade försök</a></li>
<li class="chapter" data-level="10.4" data-path="experiment.html"><a href="experiment.html#anova"><i class="fa fa-check"></i><b>10.4</b> ANOVA</a></li>
<li class="chapter" data-level="10.5" data-path="experiment.html"><a href="experiment.html#jämförelse-med-t-test"><i class="fa fa-check"></i><b>10.5</b> Jämförelse med t-test</a></li>
<li class="chapter" data-level="10.6" data-path="experiment.html"><a href="experiment.html#experimentella-designer"><i class="fa fa-check"></i><b>10.6</b> Experimentella designer</a></li>
<li class="chapter" data-level="10.7" data-path="experiment.html"><a href="experiment.html#aspekter-som-inte-ingår-i-detta-block"><i class="fa fa-check"></i><b>10.7</b> Aspekter som inte ingår i detta block</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tillämpad statistik med R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="figurer-1" class="section level1">
<h1><span class="header-section-number">Kapitel 8</span> Figurer</h1>
<p>En figur kan vara ett diagram, ett foto, en skiss. Om tabeller ger detaljer, så är syftet med figurer att förmedla en överskådlig sammanfattning om det vi studerar. I detta avseende måste man alltid ställa sig frågan om en figur är nödvändig eller om den enbart kopierar information som redan återfinns i en tabell. En bra figur kan däremot leda till en lång diskussion förkortas och kan göra en rapport eller vetenskaplig artikel lättläst.</p>
<p>Eftersom figurerna ofta är det som läsaren av en vetenskaplig artikel eller en rapport först ser är det viktigt att figurerna är välgjorda. R ger tillgång till omfattande möjligheter för datavisualisering och en anledning till utvecklingen av R var behovet av ett verktyg för avancerad visualisering. Dels ger basutbudet i R stora möjligheter, dels finns det paket (exempelvis ggplot2 och lattice) som ger ytterligare möjligheter. Det bör nämnas att man ofta får prova sig fram när man skapar figurer i R och nybörjaren bör därför inte misströsta. Övning ger färdighet.</p>
<p>När vi ska skapa en figur är det viktigt att veta det primära syftet med figuren utifrån två alternativ:</p>
<p>Figurer primärt avsedda för en intern analys, dvs för dataanalytikern och andra involverade i analysen. Syften kan till exempel vara att studera data explorativt vid tvätt av data, kontrollera att förutsättningar är uppfyllda vid analyser eller förmedla preliminära resultat. Estetiska och pedagogiska aspekter hos sådana figurer är inte av någon större vikt. Däremot måste naturligtvis figurerna på ett korrekt sätt representera data. Figurer avsedda att presenteras ëxternt, dvs figurer som presenteras i en rapport, vetenskaplig artikel eller ett bildspel. En sådan figur ska på ett tydligt och korrekt redovisa det väsentliga i en analys. Den ska även vara estetiskt fullgod. Dessutom måste figuren vara sparad i ett format som fungerar för det medium det ska publiceras i. Beroende på syfte tar det olika lång tid att skapa figurer. Det kan vara bra att veta att även figurer avsedda för enbart internt bruk kan, om de är komplicerade, ta flera timmar att skapa. Dessutom kan det ta ännu fler timmar för att få data i ordning för att skapa figuren.</p>
<p>Vi kan klassificera figurer enligt fyra kategorier:</p>
<p>Ok. Oestetisk, men korrekt. Dålig, innebär att figuren är svårtolkad men principellt korrekt. Felaktig.</p>
<p>R ger tillgång till omfattande möjligheter gällande datavisualisering. Dels ger basversionen i R stora möjlighet, dels finns det paket (exempelvis <strong>ggplot2</strong> och <strong>lattice</strong>) som ger ytterligare funktionalitet. När vi ska skapa en figur är det viktigt att fundera över det primära syftet med figuren. Det går att klassificera syftet med figurer enligt följande:</p>
<ul>
<li>Figurer primärt avsedda för att beskriva något internt, dvs för dataanalytikern och andra involverade i analysen. Syftet kan till exempel vara att studera data explorativt vid tvätt av data, kontrollera att förutsättningar är uppfyllda vid analyser och förmedla preliminära resultat. Estetiska och pedagogiska aspekter hos sådana figurer är inte av någon större vikt. Däremot måste naturligtvis figurerna på ett korrekt sätt representera data.<br />
</li>
<li>Figurer avsedda att presenteras ëxternt, dvs figurer som presenteras i en rapport, vetenskaplig artikel eller ett bildspel. En sådan figur ska på ett tydligt och korrekt redovisa det väsentliga i en analys. Den ska även vara estetiskt fullgod. Dessutom måste figuren vara sparad i ett format som fungerar för det medium det ska publiceras i.</li>
</ul>
<p>Beroende på syfte tar det olika lång tid att skapa figurer. Det kan vara bra att veta att även figurer avsedda för enbart internt bruk kan, om de är komplicerade, ta flera timmar att skapa.</p>
<ul>
<li>Ok.</li>
<li>Oestetisk, men korrekt.</li>
<li>Dålig, innebär att figuren är svårtolkad men principellt korrekt.</li>
<li>Felaktig.</li>
</ul>
<p>DDen första figuren är OK eftersom den redovisar stapeldiagramen utan felaktigheter. Den andra figuren är oestetisk beträffande färgval och har hjälplinjer som löper över staplarna istället för bakom. Figuren som klassas som dålig är korrekt, men det är svårt att urskilja detaljer i den. Dessutom är namnen på kategorierna otydliga och kan förväxlas med poäng. Den felaktiga figuren visar staplarna, men det finns ingen information som gör figuren möjlig att tolka.</p>
<p>Notera att distinktionen oestetisk-dålig-felaktig är flytande. Att ha olika färger på staplar innebär att tolkningen av innebär att läsaren kan föranledas att tro att det ytterligare information som inte finns. En korrekt figur som är dålig, kanske är så dålig att den kan misstolkas vilket innebär att den egentligen är felaktig.</p>
<p>Forskare och andra som regelbundet arbetar med vetenskapliga rapporter brukar ofta ha en ganska bra uppfattning om vad som är en korrekt figur. Däremot saknas en känsla för estetiken i en figur. Å andra sidan är det inte ovanligt att se grafiker som skapar vackra figurer, men som inte tillfredställande korrekt sätt redovisar data.</p>
<button title="f1" type="button" onclick="if(document.getElementById('f1') .style.display=='none')
              {document.getElementById('f1') .style.display=''}
            else{document.getElementById('f1') .style.display='none'}">
Visa figurkod
</button>
<div id="f1" style="display:none">
<div class="alert alert-info">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Läs in data</span>
 df &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;data/conscriptiondata.csv&quot;</span>)
<span class="co"># Skapa kategorier av poängen på Test A</span>
 df<span class="op">$</span>testa_cat[df<span class="op">$</span>testa <span class="op">&lt;</span><span class="st"> </span><span class="dv">10</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
 df<span class="op">$</span>testa_cat[(df<span class="op">$</span>testa <span class="op">&gt;=</span><span class="st"> </span><span class="dv">10</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testa <span class="op">&lt;</span><span class="st"> </span><span class="dv">20</span>)] &lt;-<span class="st"> </span><span class="dv">2</span>
 df<span class="op">$</span>testa_cat[(df<span class="op">$</span>testa <span class="op">&gt;=</span><span class="st"> </span><span class="dv">20</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testa <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">3</span>  
 df<span class="op">$</span>testa_cat[(df<span class="op">$</span>testa <span class="op">&gt;=</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">4</span>  
 df<span class="op">$</span>testa_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>testa_cat)
<span class="co"># Skapa ett tabellobjekt </span>
 freqtable_testa &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>testa_cat)

<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))
<span class="co"># OK figur</span>
  <span class="kw">barplot</span>(freqtable_testa<span class="op">/</span><span class="dv">1000</span>, 
          <span class="dt">col=</span><span class="st">&quot;lightblue&quot;</span>, 
          <span class="dt">main=</span><span class="st">&quot;OK&quot;</span>, 
          <span class="dt">ylab=</span><span class="st">&quot;Antal (tusental)&quot;</span>, 
          <span class="dt">xlab =</span> <span class="st">&quot;Poäng test A&quot;</span>,
          <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">350</span>), 
          <span class="dt">border=</span><span class="st">&quot;white&quot;</span>,
          <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;0-9&quot;</span>, <span class="st">&quot;10-19&quot;</span>, <span class="st">&quot;20-29&quot;</span>, <span class="st">&quot;30-40&quot;</span>))
<span class="co"># Oestetisk figur</span>
 <span class="kw">barplot</span>(freqtable_testa<span class="op">/</span><span class="dv">1000</span>, 
         <span class="dt">main=</span><span class="st">&quot;Oestetisk&quot;</span>, 
         <span class="dt">col=</span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">5</span>,<span class="dv">2</span>),
         <span class="dt">xlab =</span> <span class="st">&quot;Poäng test A&quot;</span>, 
         <span class="dt">ylab=</span><span class="st">&quot;Antal (tusental)&quot;</span>,
         <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">350</span>), 
         <span class="dt">border=</span><span class="st">&quot;white&quot;</span>,
         <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;0-9&quot;</span>, <span class="st">&quot;10-19&quot;</span>, <span class="st">&quot;20-29&quot;</span>, <span class="st">&quot;30-40&quot;</span>))
 <span class="kw">abline</span>(<span class="dt">h =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>), <span class="dt">lwd =</span> <span class="dv">2</span>)
 <span class="co"># Dålig figur</span>
 <span class="kw">barplot</span>(freqtable_testa, 
         <span class="dt">main=</span><span class="st">&quot;Dålig&quot;</span>, 
         <span class="dt">col=</span><span class="st">&quot;lightblue&quot;</span>,
         <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>, 
         <span class="dt">xlab =</span> <span class="st">&quot;Poängkategori test A&quot;</span>,
         <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">350000</span>), 
         <span class="dt">border=</span><span class="st">&quot;white&quot;</span>)
 <span class="co"># Felaktig figur </span>
 <span class="kw">barplot</span>(freqtable_testa, 
         <span class="dt">main=</span><span class="st">&quot;Felaktig&quot;</span>, 
         <span class="dt">col=</span><span class="st">&quot;lightblue&quot;</span>,
         <span class="dt">ylab=</span><span class="st">&quot;&quot;</span>, 
         <span class="dt">xlab =</span> <span class="st">&quot;Test&quot;</span>,
         <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">800000</span>), 
         <span class="dt">border=</span><span class="st">&quot;white&quot;</span>, 
         <span class="dt">xaxt=</span><span class="st">&#39;n&#39;</span>, 
         <span class="dt">yaxt=</span><span class="st">&#39;n&#39;</span>)</code></pre></div>
</div>
</div>
<p></br></p>
<p><img src="dpk_files/figure-html/unnamed-chunk-244-1.png" width="768" /></p>
<div id="grundläggande-figurhantering" class="section level2">
<h2><span class="header-section-number">8.1</span> Grundläggande figurhantering</h2>
<p>Det finns ofta uppsättning figurer som ofta används. Vi kommer gå igenom de vanligaste som räcker för de absolut flesta situationer. Utöver dessa finns till exempel figurer som visar 3D-dimensionella samband, kartor och specialdiagram. Innan vi presenterar några vanlig typer av figurer ska vi gå igenom ett några grundläggande funktioner som en användare ska känna till när man konstruerar figurer.</p>
<p>För det första bygger R på att man med hjälp av en figur-funktion, t ex <strong>plot()</strong>, skapar en canvas/målarduk. Det går sedan att med olika argument i flera steg måla på denna målarduk. Vi illusterar detta sätt att arbeta med figurer genom att först med funktionen <strong>plot()</strong> skapa en figur. Sedan används funktionen <strong>lines()</strong> för rita en regressionslinje figuren i figuren.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Läs in data för figurer</span>
 x1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">14</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">12</span>, <span class="dv">7</span>, <span class="dv">5</span>)
 x2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">14</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">12</span>, <span class="dv">7</span>, <span class="dv">5</span>)
 x3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">14</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">12</span>, <span class="dv">7</span>, <span class="dv">5</span>)
 x4 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>)
 y1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">8.04</span>, <span class="fl">6.95</span>, <span class="fl">7.58</span>, <span class="fl">8.81</span>, <span class="fl">8.33</span>, <span class="fl">9.96</span>, <span class="fl">7.24</span>, <span class="fl">4.26</span>, <span class="fl">10.84</span>, <span class="fl">4.82</span>, <span class="fl">5.68</span>)
 y2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">9.14</span>, <span class="fl">8.14</span>, <span class="fl">8.74</span>, <span class="fl">8.77</span>, <span class="fl">9.26</span>, <span class="fl">8.10</span>, <span class="fl">6.13</span>, <span class="fl">3.10</span>, <span class="fl">9.13</span>, <span class="fl">7.26</span>, <span class="fl">4.74</span>)
 y3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">7.46</span>, <span class="fl">6.77</span>, <span class="fl">12.74</span>, <span class="fl">7.11</span>, <span class="fl">7.81</span>, <span class="fl">8.84</span>, <span class="fl">6.08</span>, <span class="fl">5.39</span>, <span class="fl">8.15</span>, <span class="fl">6.42</span>, <span class="fl">5.73</span>)
 y4 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">6.58</span>, <span class="fl">5.76</span>, <span class="fl">7.71</span>, <span class="fl">8.84</span>, <span class="fl">8.47</span>, <span class="fl">7.04</span>, <span class="fl">5.25</span>, <span class="fl">12.50</span>, <span class="fl">5.56</span>, <span class="fl">7.91</span>, <span class="fl">6.89</span>)

<span class="co"># Regressionlinje </span>
 x &lt;-<span class="st"> </span><span class="dv">4</span><span class="op">:</span><span class="dv">14</span>
 Ey &lt;-<span class="st"> </span><span class="fl">3.00</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.500</span><span class="op">*</span>x

<span class="co"># Skapa en figur för x1 och y1. Ritar sedan en regressionslinje med lines()</span>
 <span class="kw">plot</span>(x1, y1)
 <span class="kw">lines</span>(x, Ey)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-245-1.png" width="384" /></p>
<p>För det andra omges målarduken av en ram, så kallade marginaler. Genom att använda funktionen <strong>par(mar = c(5.1, 4.1, 4.1, 2.1))</strong>, värdena är default-inställningen på marginalernas storlek, kan vi enkelt ändra marginalernas storlek. Figuren nedan illusterar målarduken i mitten med marginalerna omkring. Ordningen på värdena korresponderar till respektive marginals position. Det finns en nedre marginal (1), en vänstermarginal (2), en övre marginal (3) och en högermarginal (4).</p>
<p><img src="docs/images/margins.jpg" width="70%" style="background-color: #414244 ; padding:1px; display: inline-block;" /></p>
<p>Genom att ändra värdena ser vi ser att marginalernas storlek ändras. Det är mycket vanligt att Justera marginalernas storlek eftersom onödiga vita ytor inte är önsvärda i en figur. Det kan också vara så atte marginalers storlek måste utökas på grund att delar i figuren, t ex namn, annars inte får plats. I exemplet nedan hamnar exempelvis x-axelns namn utanför figuren och syns inte.</p>
<p>För det tredje är det vanligt att kombinera flera diagram i en figur. Detta är möjligt med <strong>par()</strong> funktionen, fast nu med argumentet <strong>mfrow = c(antalrader, antalkolumner)</strong> som innehåller två värden, en som anger antalet rader och anger antalet kolumner.</p>
<p>Exemplet nedan hur fyra diagram över samband kan illustereras i en och samma figur. De fyra datamaterialen kallas för Anscombes kvartett (Anscombe, 1973) och är berömd illustration av hur viktig datavisualisering är. Alla fyra datamaterial har nämligen samma medelvärde, standardavvikelse, korrelation och regressionlinje. Men en grafisk jämförelse visar hur olika egenskaper de olika datamaterialen har!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa fyra diagram i en figur, 2 rader och 2 kolumner. Fyller på med lines i varje diagram.</span>
 <span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))
 <span class="kw">plot</span>(x1, y1, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x2, y2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x3, y3, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x4, y4, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-247-1.png" width="576" /></p>
<p>Vi är dock inte helt nöjda med ovanstående figur, utan vi tycker det finns för mycket vit yta mellan diagrammen. Vi kombineras de bägge argumenten i par() med målet att ha fyra diagram i en figur, men med mindre marginaler. Nu ser det bättre ut!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa fyra diagram i en figur. Fyller på med en linje med lines()</span>
 <span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>)) 
 <span class="kw">plot</span>(x1, y1, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x2, y2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x3, y3, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x4, y4, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-248-1.png" width="576" /></p>
</div>
<div id="färger-och-figurer" class="section level2">
<h2><span class="header-section-number">8.2</span> Färger och figurer</h2>
<ul>
<li>Om färgen representerar olika kategorier som inte går att rangordna bör det vara olika färger</li>
<li>Om färgen regresenterar en kvantitativ variabel kan man ha olika nyanser på samma färger för att visa magnituden på variabeln.</li>
</ul>
<div id="presentation-av-aggregerade-data" class="section level3">
<h3><span class="header-section-number">8.2.1</span> Presentation av aggregerade data</h3>
<p>Aggregerade data (summor, antal, medelvärden, andelar) presenteras ofta i</p>
<ul>
<li>stapeldiagram, där R använder funktionen <strong>barplot()</strong>.</li>
<li>punktdiagram, där R använder funktionen <strong>dotchart()</strong>.</li>
</ul>
<p>I princip kan samma information redovisas i en tabell, men en grafisk presentation blir enklare att avläsa. På grund av relationen mellan stapeldiagram och tabeller används i R ofta skapat tabellobjekt, men det går också att använda enskilda variabler från en data frame. Vad som dock är viktigt när man skapar figurer i R är att användaren först måste skapa data i ett format som kan analyseras, sedan skapas figuren.</p>
<p>Ett vanligt exemplet är om vi vill för olika kategorier vill redovisa medelvärden eller antal. Genom att använda funktionen <strong>aggregate()</strong> kan skapa en dataframe med nödvändigt information. Därefter tillämpar vi barplot.</p>
<p>Vi exemplifierar med att vi vill för varje kategori (1-9) av psykologisk bedömning (enligt pyskolog från en intervju med den mönstrande) beskriva medelvärdet för Test A. Kategorinamnen är långa och detta kan hanteras på två sätt. Antingen skapar vi nya kortare namn och förtydligande med argumentet xlabs eller så roteras kategorinamnen med argumentet las. Av dessa två alternativ rekommenderas generellt det första eftersom man som läsaren annars tvingas vrida huvudet och överskådligheten minskar.</p>
<p>Vi ska nu skapa en figur för filmers intäkter 2019. Jämför de olika figurerna nedan och fundera på varför den ena är bättre än den andra.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">boxoffice2019 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">title =</span> <span class="kw">c</span>(<span class="st">&quot;Aladdin&quot;</span>,  <span class="st">&quot;Avengers: Endgame&quot;</span>, <span class="st">&quot;Captain Marvel&quot;</span>, <span class="st">&quot;Frozen II&quot;</span>, <span class="st">&quot;IT Chapter Two&quot;</span>, <span class="st">&quot;Joker&quot;</span>, <span class="st">&quot;Spider-Man: Far from Home&quot;</span>, <span class="st">&quot;Star Wars: Episode IX&quot;</span>, <span class="st">&quot;The Lion King&quot;</span>, <span class="st">&quot;Toy Story 4&quot;</span>),
<span class="dt">amount =</span> <span class="kw">c</span>(<span class="dv">355772511</span>, <span class="dv">858373000</span>, <span class="dv">426829839</span>, <span class="dv">430144682</span>, <span class="dv">211593228</span>,<span class="dv">333772511</span>,<span class="dv">390532085</span>,  <span class="dv">390706234</span>,<span class="dv">543638043</span>,<span class="dv">434038008</span>))
<span class="kw">barplot</span>(boxoffice2019<span class="op">$</span>amount, 
        <span class="dt">names.arg=</span>boxoffice2019<span class="op">$</span>title)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-249-1.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(boxoffice2019<span class="op">$</span>amount, 
        <span class="dt">names.arg=</span>boxoffice2019<span class="op">$</span>title, 
        <span class="dt">las=</span><span class="dv">2</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-249-2.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">12</span>, <span class="dv">1</span>, <span class="dv">2</span>))
<span class="kw">barplot</span>(boxoffice2019<span class="op">$</span>amount, 
        <span class="dt">names.arg=</span>boxoffice2019<span class="op">$</span>title, 
        <span class="dt">horiz =</span> <span class="ot">TRUE</span>, 
        <span class="dt">las=</span><span class="dv">1</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-249-3.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))
boxoffice2019_decreasing  &lt;-<span class="st"> </span>boxoffice2019[<span class="kw">order</span>(boxoffice2019[,<span class="dv">2</span>], <span class="dt">decreasing=</span><span class="ot">FALSE</span>), ]
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">2</span>))
<span class="kw">barplot</span>(boxoffice2019_decreasing<span class="op">$</span>amount<span class="op">/</span><span class="dv">1000000</span>, 
        <span class="dt">names.arg=</span>boxoffice2019_decreasing<span class="op">$</span>title, 
        <span class="dt">horiz =</span> <span class="ot">TRUE</span>, 
        <span class="dt">las=</span><span class="dv">1</span>, 
        <span class="dt">xlab =</span> <span class="st">&quot;Miljoner USD&quot;</span>,
        <span class="dt">col =</span> <span class="st">&quot;lightblue&quot;</span>,
        <span class="dt">border =</span><span class="st">&quot;white&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-249-4.png" width="768" /></p>
<p>När man har mångra kategorier lämpar sig dotcharts bättre. Vi ska se ett exempel på detta. I paketet dslabs fick datasetet gapminder. Vi läser in detta dataset för att jämföra europeiska förväntade livslängd. Vi ser också här ett exempel på när olika färger kan tillföra information gällande kategoritillhörighet.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;dslabs&quot;</span>)</code></pre></div>
<pre><code>## Warning: package &#39;dslabs&#39; was built under R version 3.6.3</code></pre>
<pre><code>## 
## Attaching package: &#39;dslabs&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:psych&#39;:
## 
##     heights</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gapminderEurope2015 &lt;-<span class="st"> </span>gapminder[(gapminder<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Europe&quot;</span> <span class="op">&amp;</span><span class="st"> </span>gapminder<span class="op">$</span>year <span class="op">==</span><span class="st"> </span><span class="dv">2015</span>), ]
gapminderEurope2015<span class="op">$</span>color &lt;-<span class="st"> </span><span class="kw">factor</span>(gapminderEurope2015<span class="op">$</span>region)
<span class="kw">levels</span>(gapminderEurope2015<span class="op">$</span>color)[<span class="kw">levels</span>(gapminderEurope2015<span class="op">$</span>color) <span class="op">==</span><span class="st"> &quot;Eastern Europe&quot;</span>] &lt;-<span class="st"> &quot;coral2&quot;</span>
<span class="kw">levels</span>(gapminderEurope2015<span class="op">$</span>color)[<span class="kw">levels</span>(gapminderEurope2015<span class="op">$</span>color) <span class="op">==</span><span class="st"> &quot;Western Europe&quot;</span>] &lt;-<span class="st"> &quot;palegreen2&quot;</span>
<span class="kw">levels</span>(gapminderEurope2015<span class="op">$</span>color)[<span class="kw">levels</span>(gapminderEurope2015<span class="op">$</span>color) <span class="op">==</span><span class="st"> &quot;Southern Europe&quot;</span>] &lt;-<span class="st"> &quot;tan2&quot;</span>
<span class="kw">levels</span>(gapminderEurope2015<span class="op">$</span>color)[<span class="kw">levels</span>(gapminderEurope2015<span class="op">$</span>color) <span class="op">==</span><span class="st"> &quot;Northern Europe&quot;</span>] &lt;-<span class="st"> &quot;deepskyblue2&quot;</span>
gapminderEurope2015decreasing &lt;-<span class="st"> </span>gapminderEurope2015[<span class="kw">order</span>(gapminderEurope2015<span class="op">$</span>life_expectancy),]

<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">12</span>, <span class="dv">1</span>, <span class="dv">2</span>))
<span class="kw">barplot</span>(gapminderEurope2015decreasing<span class="op">$</span>life_expectancy, 
        <span class="dt">names.arg =</span> gapminderEurope2015decreasing<span class="op">$</span>country,  
        <span class="dt">horiz =</span> <span class="ot">TRUE</span>, 
        <span class="dt">las =</span> <span class="dv">2</span>,
        <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">90</span>), 
        <span class="dt">xlab =</span> <span class="st">&quot;Life expectancy (years)&quot;</span>,
        <span class="dt">col =</span> <span class="kw">as.character</span>(gapminderEurope2015<span class="op">$</span>color),
        <span class="dt">border =</span><span class="st">&quot;white&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-250-1.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))
<span class="kw">dotchart</span>(gapminderEurope2015<span class="op">$</span>life_expectancy, 
        <span class="dt">labels=</span> gapminderEurope2015<span class="op">$</span>country,  
        <span class="dt">las =</span> <span class="dv">2</span>,
        <span class="dt">cex =</span> <span class="fl">0.8</span>, 
        <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">90</span>),
        <span class="dt">xlab =</span> <span class="st">&quot;Life expectancy (years)&quot;</span>)

<span class="kw">dotchart</span>(gapminderEurope2015decreasing<span class="op">$</span>life_expectancy, 
        <span class="dt">labels=</span> gapminderEurope2015decreasing<span class="op">$</span>country,  
        <span class="dt">las =</span> <span class="dv">2</span>,
        <span class="dt">cex =</span> <span class="fl">0.8</span>, 
        <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">90</span>),
        <span class="dt">xlab =</span> <span class="st">&quot;Life expectancy (years)&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-250-2.png" width="768" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dotchart</span>(gapminderEurope2015decreasing<span class="op">$</span>life_expectancy, 
        <span class="dt">labels=</span> gapminderEurope2015decreasing<span class="op">$</span>country,  
        <span class="dt">las =</span> <span class="dv">2</span>,
        <span class="dt">cex =</span> <span class="fl">0.8</span>,
        <span class="dt">xlab =</span> <span class="st">&quot;Life expectancy (years)&quot;</span>,<span class="dt">col =</span> <span class="kw">as.character</span>(gapminderEurope2015<span class="op">$</span>color))</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-250-3.png" width="768" /></p>
</div>
</div>
<div id="cirkeldigram" class="section level2">
<h2><span class="header-section-number">8.3</span> Cirkeldigram</h2>
<p>R-manualen avråder från cirkeldiagram.</p>
<ul>
<li>Det finns om man vill se om en grupp kategorier överstiger en andel (t ex 50% eller 25%)</li>
</ul>
</div>
<div id="figurer-för-fördelningar" class="section level2">
<h2><span class="header-section-number">8.4</span> Figurer för fördelningar</h2>
<p>Histogram används för att visualisera en kontinuerlig variabel. Funktionen hist() skapar ett histogram. Nackdelen med histogram är att den är känslig för antalet klasser. Testa därför olika antal klasser.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))
<span class="kw">hist</span>(df<span class="op">$</span>gripstrength, <span class="dt">xlab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>, <span class="dt">breaks=</span><span class="dv">7</span>, <span class="dt">main=</span><span class="st">&quot;7 klasser&quot;</span>)
<span class="kw">hist</span>(df<span class="op">$</span>gripstrength, <span class="dt">xlab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>, <span class="dt">breaks=</span><span class="dv">14</span>, <span class="dt">main=</span><span class="st">&quot;14 klasser&quot;</span>)
<span class="kw">hist</span>(df<span class="op">$</span>gripstrength, <span class="dt">xlab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>, <span class="dt">breaks=</span><span class="dv">28</span>, <span class="dt">main=</span><span class="st">&quot;28 klasser&quot;</span>)
<span class="kw">hist</span>(df<span class="op">$</span>gripstrength, <span class="dt">xlab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>, <span class="dt">breaks=</span><span class="dv">56</span>, <span class="dt">main=</span><span class="st">&quot;56 klasser&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-251-1.png" width="768" /></p>
</div>
<div id="lådagram" class="section level2">
<h2><span class="header-section-number">8.5</span> Lådagram</h2>
<p>Lådagram används främst när vi ska jämföra fördelningar uppdelat på kategorier. Att använda lådagram för en enda variabel är inte optimalt, utan histogram ger då mer information.</p>
<p>Vi vill studera testresultat uppdelat på psykologisk bedämning</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(df<span class="op">$</span>gripstrength<span class="op">~</span>df<span class="op">$</span>psych, <span class="dt">xlab=</span><span class="st">&quot;Psykologisk bedömning (1-9)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-252-1.png" width="672" /></p>
</div>
<div id="spridningsdiagram" class="section level2">
<h2><span class="header-section-number">8.6</span> Spridningsdiagram</h2>
<p>Den vanligaste funktionen i R för att skapa figurer är <strong>plot</strong>. Det finns många argument och i de närmaste obegränsade möjligher att anpassa figurerna. Nedan visar vi ett problem som kan uppkomma med spridningsdiagram, nämligen när vi har väldigt många datapunkter. Det första diagrammet redovisar de 500 första individerna i INSARK. Det andra diagrammet redovisar data från alla 709869 individer.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(df<span class="op">$</span>legstrength[<span class="dv">1</span><span class="op">:</span><span class="dv">500</span>], df<span class="op">$</span>armstrength[<span class="dv">1</span><span class="op">:</span><span class="dv">500</span>], <span class="dt">xlab =</span> <span class="st">&quot;Benstyrka (Newton)&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Armstyrka (Newton)&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-253-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(df<span class="op">$</span>legstrength, df<span class="op">$</span>armstrength, <span class="dt">xlab =</span> <span class="st">&quot;Benstyrka (Newton)&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Armstyrka (Newton)&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-253-2.png" width="672" /></p>
</div>
<div id="exportera-figurer" class="section level2">
<h2><span class="header-section-number">8.7</span> Exportera figurer</h2>
<p>Det finns ett antal olika format att exportera figurer till. Det absolut enklaste är använda <strong>Export</strong> i fliken <strong>Plots</strong>. Här väljer du antingen <em>Save as image…</em> eller <em>Save as PDF…</em></p>
<ul>
<li>PDF är ett bra format om man ska skriva ut. Det är vektorbaserat vilket innebär att det går bra att zooma in i bilden utan att upplösningen blir dålig. Figuren tar inte mycket minne.</li>
<li>Formatet png är bitmap-baserat format som är utmärkt för webben. Ofta krävs, tyvärr, också png för ordbehandlingsprogram, vilket gör exxport av figurer med hög kvalitet krångligare, jämfört med PDF. Använd aldrig jpg, som är alternativet.</li>
</ul>
<p>Det finns dock ganska få inställningar i Export. Ett alternativ som ger mer flexibilitet är att skapa en PDF eller png från R och sen rita figuren på denna. Vi tittar på två exempel nedan, först ett för PDF och sedan ett för png.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapa en PDF att rita. Storleken anges med width och height och dimensionen är tum. </span>
<span class="kw">pdf</span>(<span class="st">&quot;data/rplot.pdf&quot;</span>, <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="dv">6</span>) 
<span class="co"># Börja rita figuren på filen</span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>)) 
 <span class="kw">plot</span>(x1, y1, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x2, y2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x3, y3, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x4, y4, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
<span class="co"># Stänger plot och sparar. Den sparas enligt sökvägen ovan.</span>
 <span class="kw">dev.off</span>()</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Skapar en png att rita på. Storleken anges med width och height och dimensionen är cm (units). </span>
<span class="co"># Upplösningen (dpi) är viktig för en bitmap-baserad fil. Förslagsvis används res = 1200 för utskrift och res = 72 webben eller skärmen. type = &quot;cairo&quot; anger att kantutjämning (antialias) ska användas, vilket ger snyggare utseende.</span>
<span class="kw">png</span>(<span class="st">&quot;data/rplot.png&quot;</span>, <span class="dt">width =</span> <span class="dv">18</span>, <span class="dt">height =</span> <span class="dv">14</span>, <span class="dt">units =</span> <span class="st">&quot;cm&quot;</span>, <span class="dt">res =</span> <span class="dv">1200</span>, <span class="dt">type=</span><span class="st">&#39;cairo&#39;</span>)
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>)) 
 <span class="kw">plot</span>(x1, y1, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x2, y2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x3, y3, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
 <span class="kw">plot</span>(x4, y4, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">15</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">13</span>))
 <span class="kw">lines</span>(x, Ey, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
<span class="kw">dev.off</span>()</code></pre></div>
<p>Avslutningsvis några tips:</p>
<ul>
<li>Bestäm bredd-höjd-relationen (aspect ratio) redan när du skapar figuren i R. Stretcha inte figuren efter att du skapat figuren! Kvaliteten kan försämras betydligt. Du kan dock eventuellt förminska och förstora figuren, så länge bredd-höjd-relationen bibehålls.</li>
<li>Om det finns mycket vit yta, minska marginalerna med argumentet <strong>mar</strong> i <strong>par()</strong>funktionen.</li>
<li>Om du skapar en stor figur, då måste du med t ex <strong>cex</strong>-argument i figuren öka storleken på text. Ofta måste man prova sig fram. Var beredd på att ändra storlek på text och siffror i figuren.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tabeller-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="urvalsmetoder.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
