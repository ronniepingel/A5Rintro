<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 9 Figurer | R på kursen Tillämpad statistik (A5)</title>
  <meta name="description" content="Kapitel 9 Figurer | R på kursen Tillämpad statistik (A5)" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 9 Figurer | R på kursen Tillämpad statistik (A5)" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 9 Figurer | R på kursen Tillämpad statistik (A5)" />
  
  
  

<meta name="author" content="Ronnie Pingel" />


<meta name="date" content="2019-11-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tabeller.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Förord</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#statistiska-program"><i class="fa fa-check"></i><b>1.1</b> Statistiska program</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#om-r"><i class="fa fa-check"></i><b>1.2</b> Om R</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#allmänna-tips-om-r-på-kursen"><i class="fa fa-check"></i><b>1.3</b> Allmänna tips om R på kursen</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a><ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#installation-av-r"><i class="fa fa-check"></i><b>2.1</b> Installation av R</a><ul>
<li class="chapter" data-level="2.1.1" data-path="installation.html"><a href="installation.html#installation-av-r-på-macos"><i class="fa fa-check"></i><b>2.1.1</b> Installation av R på MacOS</a></li>
<li class="chapter" data-level="2.1.2" data-path="installation.html"><a href="installation.html#installation-av-r-på-windows"><i class="fa fa-check"></i><b>2.1.2</b> Installation av R på Windows</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#installation-av-rstudio"><i class="fa fa-check"></i><b>2.2</b> Installation av RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="installation.html"><a href="installation.html#paket"><i class="fa fa-check"></i><b>2.3</b> Paket</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="första-sessionen.html"><a href="första-sessionen.html"><i class="fa fa-check"></i><b>3</b> Första sessionen</a></li>
<li class="chapter" data-level="4" data-path="objekt.html"><a href="objekt.html"><i class="fa fa-check"></i><b>4</b> Objekt</a><ul>
<li class="chapter" data-level="4.1" data-path="objekt.html"><a href="objekt.html#vektorer"><i class="fa fa-check"></i><b>4.1</b> Vektorer</a></li>
<li class="chapter" data-level="4.2" data-path="objekt.html"><a href="objekt.html#matriser"><i class="fa fa-check"></i><b>4.2</b> Matriser</a></li>
<li class="chapter" data-level="4.3" data-path="objekt.html"><a href="objekt.html#data-frames"><i class="fa fa-check"></i><b>4.3</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="funktioner.html"><a href="funktioner.html"><i class="fa fa-check"></i><b>5</b> Funktioner</a></li>
<li class="chapter" data-level="6" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html"><i class="fa fa-check"></i><b>6</b> Läsa in och spara data</a><ul>
<li class="chapter" data-level="6.1" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#text--och-csv-filer"><i class="fa fa-check"></i><b>6.1</b> Text- och CSV-filer</a></li>
<li class="chapter" data-level="6.2" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#excel-filer"><i class="fa fa-check"></i><b>6.2</b> Excel-filer</a></li>
<li class="chapter" data-level="6.3" data-path="läsa-in-och-spara-data.html"><a href="läsa-in-och-spara-data.html#övriga-format"><i class="fa fa-check"></i><b>6.3</b> Övriga format</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="variabeltyper.html"><a href="variabeltyper.html"><i class="fa fa-check"></i><b>7</b> Variabeltyper</a><ul>
<li class="chapter" data-level="7.1" data-path="variabeltyper.html"><a href="variabeltyper.html#faktorer"><i class="fa fa-check"></i><b>7.1</b> Faktorer</a><ul>
<li class="chapter" data-level="7.1.1" data-path="variabeltyper.html"><a href="variabeltyper.html#faktorer-på-ordinalskala"><i class="fa fa-check"></i><b>7.1.1</b> Faktorer på ordinalskala</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="variabeltyper.html"><a href="variabeltyper.html#faktorer-på-nominalskala"><i class="fa fa-check"></i><b>7.2</b> Faktorer på nominalskala</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tabeller.html"><a href="tabeller.html"><i class="fa fa-check"></i><b>8</b> Tabeller</a><ul>
<li class="chapter" data-level="8.1" data-path="tabeller.html"><a href="tabeller.html#frekvenstabeller"><i class="fa fa-check"></i><b>8.1</b> Frekvenstabeller</a><ul>
<li class="chapter" data-level="8.1.1" data-path="tabeller.html"><a href="tabeller.html#frekvenstabeller-med-table"><i class="fa fa-check"></i><b>8.1.1</b> Frekvenstabeller med table()</a></li>
<li class="chapter" data-level="8.1.2" data-path="tabeller.html"><a href="tabeller.html#frekvenstabeller-med-freq"><i class="fa fa-check"></i><b>8.1.2</b> Frekvenstabeller med freq()</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="tabeller.html"><a href="tabeller.html#korstabeller"><i class="fa fa-check"></i><b>8.2</b> Korstabeller</a><ul>
<li class="chapter" data-level="8.2.1" data-path="tabeller.html"><a href="tabeller.html#korstabeller-med-table"><i class="fa fa-check"></i><b>8.2.1</b> Korstabeller med table()</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="tabeller.html"><a href="tabeller.html#exportera-tabeller-till-html"><i class="fa fa-check"></i><b>8.3</b> Exportera tabeller till html</a></li>
<li class="chapter" data-level="8.4" data-path="tabeller.html"><a href="tabeller.html#frekvent-förekommande-tabeller"><i class="fa fa-check"></i><b>8.4</b> Frekvent förekommande tabeller</a><ul>
<li class="chapter" data-level="8.4.1" data-path="tabeller.html"><a href="tabeller.html#tabell-för-att-beskriva-urvalet"><i class="fa fa-check"></i><b>8.4.1</b> Tabell för att beskriva urvalet</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="tabeller.html"><a href="tabeller.html#statistisk-inferens-baserat-på-korstabeller"><i class="fa fa-check"></i><b>8.5</b> Statistisk inferens baserat på korstabeller</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="figurer.html"><a href="figurer.html"><i class="fa fa-check"></i><b>9</b> Figurer</a><ul>
<li class="chapter" data-level="9.1" data-path="figurer.html"><a href="figurer.html#frekvenstabeller-1"><i class="fa fa-check"></i><b>9.1</b> Frekvenstabeller</a><ul>
<li class="chapter" data-level="9.1.1" data-path="figurer.html"><a href="figurer.html#frekvenstabeller-med-table-1"><i class="fa fa-check"></i><b>9.1.1</b> Frekvenstabeller med table()</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="figurer.html"><a href="figurer.html#stapeldiagram"><i class="fa fa-check"></i><b>9.2</b> Stapeldiagram</a></li>
<li class="chapter" data-level="9.3" data-path="figurer.html"><a href="figurer.html#lådagram"><i class="fa fa-check"></i><b>9.3</b> Lådagram</a></li>
<li class="chapter" data-level="9.4" data-path="figurer.html"><a href="figurer.html#spridningsdiagram"><i class="fa fa-check"></i><b>9.4</b> Spridningsdiagram</a></li>
<li class="chapter" data-level="9.5" data-path="figurer.html"><a href="figurer.html#några-frekvent-förekommande-diagram."><i class="fa fa-check"></i><b>9.5</b> Några frekvent förekommande diagram.</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R på kursen Tillämpad statistik (A5)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="figurer" class="section level1">
<h1><span class="header-section-number">Kapitel 9</span> Figurer</h1>
<p>Att presentera resultat och samband med diskreta variabler och kategorivariabler är en viktig del av att arbeta med</p>
<ul>
<li>Frekvenstabeller i R, med och utan paket</li>
<li>Korstabeller i R, med och utan paket</li>
<li>Export av tabeller till Word.</li>
</ul>
<div id="frekvenstabeller-1" class="section level2">
<h2><span class="header-section-number">9.1</span> Frekvenstabeller</h2>
<div id="frekvenstabeller-med-table-1" class="section level3">
<h3><span class="header-section-number">9.1.1</span> Frekvenstabeller med table()</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Läs in data. Välj ut födda 1961 och födda 1975 </span>
insark &lt;-<span class="st"> </span><span class="kw">read.csv2</span>(<span class="st">&quot;D:/conscriptiondata.csv&quot;</span>)
<span class="co"># Välja ut insark för födda 1961</span>
insark1 &lt;-<span class="st"> </span>insark[insark<span class="op">$</span>year <span class="op">==</span><span class="st"> </span><span class="dv">1961</span>,]
<span class="co"># Välj ut INSARK för födda 1975</span>
insark2 &lt;-<span class="st"> </span>insark[insark<span class="op">$</span>year <span class="op">==</span><span class="st"> </span><span class="dv">1975</span>,]
<span class="co"># Skapa ett dataset av INSARK 1961 och 1975. </span>
insark3 &lt;-<span class="st"> </span><span class="kw">rbind</span>(insark1, insark2)
<span class="co"># Skapa nytt radid baserat på delpopulationen 1961 och 1975</span>
insark3<span class="op">$</span>newid &lt;-<span class="st">  </span><span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(insark3<span class="op">$</span>id) </code></pre></div>
<p>Vi ska nu dra ett urval från INSARK. Anledningen till detta är enbart pedagogiskt, dvs vi får ett datamaterial som översiktlig. I praktiken används den data som tillgänglig! Beträffade funktionen <strong>set.seed()</strong> så används denna för att ange vilket slumpmässigt urval som dras. Annars erhålls inte samma skattningar som i exemplet. I praktiken vid urvalsdragning används inte set.seed()</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">1000</span>
<span class="kw">set.seed</span>(<span class="dv">12345</span>)
df &lt;-<span class="st"> </span>insark3[<span class="kw">sample</span>(insark3<span class="op">$</span>newid, n), ]</code></pre></div>
</div>
</div>
<div id="stapeldiagram" class="section level2">
<h2><span class="header-section-number">9.2</span> Stapeldiagram</h2>
<p>Ofta presenteras kategoridata i stapeldiagram. Stapeldiagram illustrerar värden som även kan presenteras i en tabell, men som med grafisk presentation blir enklare att avläsa. På grund av relationen mellan stapeldiagram och tabeller används i R ett skapat tabellobjekt i stapeldiagramsfunktionen <strong>barplot</strong> för att skapa stapeldiagram.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">freqtable_psych &lt;-<span class="st"> </span><span class="kw">table</span>(df<span class="op">$</span>psych)
proptable_psych &lt;-<span class="st"> </span><span class="kw">prop.table</span>(freqtable_psych)
<span class="kw">barplot</span>(freqtable_psych)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(proptable_psych)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-3-2.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">freqtable_psych_year &lt;-<span class="st"> </span><span class="kw">table</span>(<span class="kw">factor</span>(df<span class="op">$</span>psych), df<span class="op">$</span>year)
<span class="kw">barplot</span>(freqtable_psych_year, <span class="dt">beside=</span><span class="ot">TRUE</span>, <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">proptable_psych_year &lt;-<span class="st"> </span><span class="dv">100</span><span class="op">*</span><span class="kw">prop.table</span>(freqtable_psych_year, <span class="dt">margin =</span> <span class="dv">2</span> ) 
<span class="kw">barplot</span>(proptable_psych_year, <span class="dt">beside=</span><span class="ot">TRUE</span>, <span class="dt">ylab=</span><span class="st">&quot;Procent (%)&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
</div>
<div id="lådagram" class="section level2">
<h2><span class="header-section-number">9.3</span> Lådagram</h2>
<p>Lådagram används främst när vi ska jämföra fördelningar uppdelat på kategorier. Att använda lådagram för en enda variabel är inte optimalt, utan histogram ger då mer information.</p>
<p>Vi vill studera testresultat uppdelat på psykologisk bedämning</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(df<span class="op">$</span>gripstrength<span class="op">~</span>df<span class="op">$</span>psych, <span class="dt">xlab=</span><span class="st">&quot;Psykologisk bedömning (1-9)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-5-1.png" width="672" /> ## Histogram Histogram används för att visualisera en kontinuerlig variabel. Funktionen <strong>hist()</strong> skapar ett histogram. Nackdelen med histogram är att den är känslig för antalet klasser. Testa därför olika antal klasser.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))
<span class="kw">hist</span>(df<span class="op">$</span>gripstrength, <span class="dt">xlab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>, <span class="dt">breaks=</span><span class="dv">7</span>, <span class="dt">main=</span><span class="st">&quot;7 klasser&quot;</span>)
<span class="kw">hist</span>(df<span class="op">$</span>gripstrength, <span class="dt">xlab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>, <span class="dt">breaks=</span><span class="dv">14</span>, <span class="dt">main=</span><span class="st">&quot;14 klasser&quot;</span>)
<span class="kw">hist</span>(df<span class="op">$</span>gripstrength, <span class="dt">xlab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>, <span class="dt">breaks=</span><span class="dv">28</span>, <span class="dt">main=</span><span class="st">&quot;28 klasser&quot;</span>)
<span class="kw">hist</span>(df<span class="op">$</span>gripstrength, <span class="dt">xlab=</span><span class="st">&quot;Greppstyrka (Newton)&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Antal&quot;</span>, <span class="dt">breaks=</span><span class="dv">56</span>, <span class="dt">main=</span><span class="st">&quot;56 klasser&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
<div id="spridningsdiagram" class="section level2">
<h2><span class="header-section-number">9.4</span> Spridningsdiagram</h2>
<p>Den vanligaste funktionen i R för att skapa figurer är <strong>plot</strong>. Det finns många argument och i de närmaste obegränsade möjligher att anpassa figurerna</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(df<span class="op">$</span>legstrength, df<span class="op">$</span>armstrength, <span class="dt">xlab =</span> <span class="st">&quot;Benstyrka (Newton)&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Armstyrka (Newton)&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="några-frekvent-förekommande-diagram." class="section level2">
<h2><span class="header-section-number">9.5</span> Några frekvent förekommande diagram.</h2>
<p>I surveydata stöter vi ofta på uppdelade stapeldiagram. Dessa figurer har en inneboende problem eftersom kategorierna storlek kan vara svåra att relatera till varandra. Samtidigt är de en visualisering som gör det enkelt att jämföra fördelningar för många variabler av typen attitydfrågor. För att illustrera kategoriserar vi testresultat på begåvningstesterna i INSARK enligt nedanstående schema.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df<span class="op">$</span>testa_cat &lt;-<span class="st"> </span><span class="ot">NA</span>
df<span class="op">$</span>testa_cat[df<span class="op">$</span>testa <span class="op">&lt;</span><span class="st"> </span><span class="dv">10</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
df<span class="op">$</span>testa_cat[(df<span class="op">$</span>testa <span class="op">&gt;=</span><span class="st"> </span><span class="dv">10</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testa <span class="op">&lt;</span><span class="st"> </span><span class="dv">20</span>)] &lt;-<span class="st"> </span><span class="dv">2</span>
df<span class="op">$</span>testa_cat[(df<span class="op">$</span>testa <span class="op">&gt;=</span><span class="st"> </span><span class="dv">20</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testa <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">3</span>  
df<span class="op">$</span>testa_cat[(df<span class="op">$</span>testa <span class="op">&gt;=</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">4</span>  
df<span class="op">$</span>testa_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>testa_cat)

df<span class="op">$</span>testb_cat &lt;-<span class="st"> </span><span class="ot">NA</span>
df<span class="op">$</span>testb_cat[df<span class="op">$</span>testb <span class="op">&lt;</span><span class="st"> </span><span class="dv">10</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
df<span class="op">$</span>testb_cat[(df<span class="op">$</span>testb <span class="op">&gt;=</span><span class="st"> </span><span class="dv">10</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testb <span class="op">&lt;</span><span class="st"> </span><span class="dv">20</span>)] &lt;-<span class="st"> </span><span class="dv">2</span>
df<span class="op">$</span>testb_cat[(df<span class="op">$</span>testb <span class="op">&gt;=</span><span class="st"> </span><span class="dv">20</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testb <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">3</span>  
df<span class="op">$</span>testb_cat[(df<span class="op">$</span>testb <span class="op">&gt;=</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">4</span>  
df<span class="op">$</span>testb_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>testb_cat)

df<span class="op">$</span>testc_cat &lt;-<span class="st"> </span><span class="ot">NA</span>
df<span class="op">$</span>testc_cat[df<span class="op">$</span>testc <span class="op">&lt;</span><span class="st"> </span><span class="dv">10</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
df<span class="op">$</span>testc_cat[(df<span class="op">$</span>testc <span class="op">&gt;=</span><span class="st"> </span><span class="dv">10</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testc <span class="op">&lt;</span><span class="st"> </span><span class="dv">20</span>)] &lt;-<span class="st"> </span><span class="dv">2</span>
df<span class="op">$</span>testc_cat[(df<span class="op">$</span>testc <span class="op">&gt;=</span><span class="st"> </span><span class="dv">20</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testc <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">3</span>  
df<span class="op">$</span>testc_cat[(df<span class="op">$</span>testc <span class="op">&gt;=</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">4</span>  
df<span class="op">$</span>testc_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>testc_cat)

df<span class="op">$</span>testd_cat &lt;-<span class="st"> </span><span class="ot">NA</span>
df<span class="op">$</span>testd_cat[df<span class="op">$</span>testd <span class="op">&lt;</span><span class="st"> </span><span class="dv">10</span>] &lt;-<span class="st"> </span><span class="dv">1</span>
df<span class="op">$</span>testd_cat[(df<span class="op">$</span>testd <span class="op">&gt;=</span><span class="st"> </span><span class="dv">10</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testd <span class="op">&lt;</span><span class="st"> </span><span class="dv">20</span>)] &lt;-<span class="st"> </span><span class="dv">2</span>
df<span class="op">$</span>testd_cat[(df<span class="op">$</span>testd <span class="op">&gt;=</span><span class="st"> </span><span class="dv">20</span>) <span class="op">&amp;</span><span class="st"> </span>(df<span class="op">$</span>testd <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">3</span>  
df<span class="op">$</span>testd_cat[(df<span class="op">$</span>testd <span class="op">&gt;=</span><span class="st"> </span><span class="dv">30</span>)] &lt;-<span class="st"> </span><span class="dv">4</span>  
df<span class="op">$</span>testd_cat &lt;-<span class="st"> </span><span class="kw">factor</span>(df<span class="op">$</span>testd_cat)


Likert_table &lt;-<span class="st"> </span><span class="dv">100</span><span class="op">*</span><span class="kw">cbind</span>( <span class="kw">prop.table</span>( <span class="kw">table</span>( df<span class="op">$</span>testd_cat) ), 
                       <span class="kw">prop.table</span>( <span class="kw">table</span>( df<span class="op">$</span>testc_cat) ),
                       <span class="kw">prop.table</span>( <span class="kw">table</span>( df<span class="op">$</span>testb_cat) ), 
                       <span class="kw">prop.table</span>( <span class="kw">table</span>( df<span class="op">$</span>testa_cat) ) )
<span class="kw">colnames</span>(Likert_table) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Testa D&quot;</span>, <span class="st">&quot;Test C&quot;</span>, <span class="st">&quot;Test B&quot;</span>, <span class="st">&quot;Test A&quot;</span>)

bar1 &lt;-<span class="st"> </span><span class="kw">barplot</span>(Likert_table,      <span class="dt">horiz =</span> <span class="ot">TRUE</span>, 
         <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;brown3&quot;</span>, <span class="st">&quot;brown1&quot;</span>, <span class="st">&quot;cadetblue1&quot;</span>, <span class="st">&quot;cadetblue4&quot;</span>),
        <span class="dt">xlab=</span><span class="st">&quot;Procent (%)&quot;</span>, <span class="dt">las=</span><span class="dv">1</span>)
<span class="kw">abline</span>(<span class="dt">v=</span><span class="dv">50</span>)
<span class="kw">legend</span>(<span class="st">&quot;top&quot;</span>, <span class="dt">fill =</span> <span class="kw">c</span>(<span class="st">&quot;brown3&quot;</span>, <span class="st">&quot;brown1&quot;</span>, <span class="st">&quot;cadetblue1&quot;</span>, <span class="st">&quot;cadetblue4&quot;</span>), 
       <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Kategori 1&quot;</span>, <span class="st">&quot;Kategori 2&quot;</span>, <span class="st">&quot;Kategori 3&quot;</span>, <span class="st">&quot;Kategori 4&quot;</span>), 
       <span class="dt">horiz =</span> <span class="ot">TRUE</span>, <span class="dt">inset =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="op">-</span><span class="fl">0.1</span>), <span class="dt">xpd =</span> <span class="ot">TRUE</span>, <span class="dt">bty=</span><span class="st">&quot;n&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">

<span class="kw">barplot</span>(Likert_table,      <span class="dt">horiz =</span> <span class="ot">FALSE</span>, <span class="dt">beside=</span><span class="ot">TRUE</span>,
        <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;brown3&quot;</span>, <span class="st">&quot;brown1&quot;</span>, <span class="st">&quot;cadetblue1&quot;</span>, <span class="st">&quot;cadetblue4&quot;</span>),
        <span class="dt">xlab=</span><span class="st">&quot;Procent (%)&quot;</span>, <span class="dt">las=</span><span class="dv">1</span>)
<span class="kw">legend</span>(<span class="st">&quot;top&quot;</span>, <span class="dt">fill =</span> <span class="kw">c</span>(<span class="st">&quot;brown3&quot;</span>, <span class="st">&quot;brown1&quot;</span>, <span class="st">&quot;cadetblue1&quot;</span>, <span class="st">&quot;cadetblue4&quot;</span>), 
       <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Kategori 1&quot;</span>, <span class="st">&quot;Kategori 2&quot;</span>, <span class="st">&quot;Kategori 3&quot;</span>, <span class="st">&quot;Kategori 4&quot;</span>), 
       <span class="dt">horiz =</span> <span class="ot">TRUE</span>, <span class="dt">inset =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="op">-</span><span class="fl">0.1</span>), <span class="dt">xpd =</span> <span class="ot">TRUE</span>, <span class="dt">bty=</span><span class="st">&quot;n&quot;</span>)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<p>Ett alternativ är att använda paketet <strong>likert</strong>. Notera att som input hanterar den bara faktorer! Dessutom inkluderas inte variabler i form av en matris. Funktionen har mycket</p>
<p><code>install.packages(&quot;likert&quot;)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;likert&quot;</span>)
<span class="op">&gt;</span><span class="st"> </span>Loading required package<span class="op">:</span><span class="st"> </span>ggplot2
<span class="op">&gt;</span><span class="st"> </span>Loading required package<span class="op">:</span><span class="st"> </span>xtable
likertdata &lt;-<span class="st"> </span><span class="kw">likert</span>(<span class="kw">data.frame</span>(df<span class="op">$</span>testa_cat, df<span class="op">$</span>testb_cat, df<span class="op">$</span>testc_cat, df<span class="op">$</span>testd_cat))
<span class="kw">plot</span>(likertdata)</code></pre></div>
<p><img src="dpk_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?likert
<span class="op">&gt;</span><span class="st"> </span>starting httpd help server ...
<span class="op">&gt;</span><span class="st">  </span>done</code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tabeller.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
